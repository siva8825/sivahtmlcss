window.bablic=window.bablic||{};bablic.Site='65cb76cae85e5453bc1bff61';bablic.version=5.0;bablic.conf=[1708023473549,"en",4,0,1,1,1,1,[[0,0,0,"zoviz.com/","en","English",0,0,["January","February","March","April","May","June","July","August","September","October","November","December"],0,0,[],0,0,"en",[],{"dir":"ltr","name":"English","originalName":"English","prefix":null,"iso":"en","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"days":[],"dateFormat":"","timeFormat":"","quantityFormat":"","percentFormat":"","durationFormat":""}]],[[1,0,0,1,0,0,[6,350,"px",1],["#01AEDA","#262e30","#ffffff","#262626"],1,0,0,0],[1,0,0,1,0,1,[6,20,"px",1],["#01AEDA","#262e30","#ffffff","#262626"],1,0,0,0]],1,".gm-style,.gm-sm,.pac-container","",0,0,0,0,"zoviz.com/",0,{},[],[],[["zoviz.com"]],0,"",0,"en",1,["tr"],{"tr":"tr.zoviz.com","en":"zoviz.com/"},[],0,1,0,5,["_v",1.2]];var bablic=window.bablic||window._bab||{};!function(){var loadAll=function(bablic,WIN){if(!bablic.ignoreAll){var EDITOR_FRAME,EDITOR,winObject=WIN;do{winObject=winObject.parent;try{winObject.VisualEditor&&(EDITOR=winObject.VisualEditor,EDITOR_FRAME=winObject)}catch(e){}}while(winObject.parent!==winObject);if(bablic.Mutation&&bablic.Site){bablic.isActivated=!0,console.log("Bablic already loaded");try{if(EDITOR&&EDITOR.snippetDetected)EDITOR.snippetDetected();else if(bablic.preview)var interval=setInterval(function(){for(var e,t=0;t<window.frames.length;t++){var n=window.frames[t];try{if(n&&n.editor&&n.editor.snippetDetected){e=n;break}}catch(e){}}e&&(clearInterval(interval),e.editor.snippetDetected())},300)}catch(e){}}else{var HAS_LOCAL_STORAGE=!1;try{HAS_LOCAL_STORAGE=!!WIN.localStorage}catch(e){HAS_LOCAL_STORAGE=!1}var DOC=WIN.document,LOC=WIN.location,PROXY=bablic.proxy=/pipe(\.staging)?\.bablic\.com$/.test(LOC.hostname),strundefined="undefined",Modernizr;if(PROXY&&"bablic.com"!=DOC.domain)try{DOC.domain="bablic.com"}catch(e){}try{DOC.getElementById("BABLIC_CHECK")&&(bablic.preview=!0),EDITOR&&(bablic.preview=!0)}catch(e){}window.bablic=window.bablic||{},function(){var e=window.Modernizr;try{!function(e,t,n){function r(e,t){return typeof e===t}function a(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function i(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):L?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function o(e,t){return function(){return e.apply(t,arguments)}}function l(e,n,r,a){var o,l,c,s,u,d="modernizr",f=i("div"),b=((u=t.body)||((u=i(L?"svg":"body")).fake=!0),u);if(parseInt(r,10))for(;r--;)(c=i("div")).id=a?a[r]:d+(r+1),f.appendChild(c);return(o=i("style")).type="text/css",o.id="s"+d,(b.fake?b:f).appendChild(o),b.appendChild(f),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),f.id=d,b.fake&&(b.style.background="",b.style.overflow="hidden",s=T.style.overflow,T.style.overflow="hidden",T.appendChild(b)),l=n(f,e),b.fake?(b.parentNode.removeChild(b),T.style.overflow=s,T.offsetHeight):f.parentNode.removeChild(f),!!l}function c(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function s(t,o,s,u){function d(){b&&(delete w.style,delete w.modElem)}if(u=!r(u,"undefined")&&u,!r(s,"undefined")){var f=function(t,r){var a=t.length;if(e&&"CSS"in e&&"supports"in e.CSS){for(;a--;)if(e.CSS.supports(c(t[a]),r))return!0;return!1}if(e&&"CSSSupportsRule"in e){for(var i=[];a--;)i.push("("+c(t[a])+":"+r+")");return l("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}(t,s);if(!r(f,"undefined"))return f}for(var b,p,h,g,m,v=["modernizr","tspan","samp"];!w.style&&v.length;)b=!0,w.modElem=i(v.shift()),w.style=w.modElem.style;for(h=t.length,p=0;h>p;p++)if(g=t[p],m=w.style[g],!!~(""+g).indexOf("-")&&(g=a(g)),w.style[g]!==n){if(u||r(s,"undefined"))return d(),"pfx"!=o||g;try{w.style[g]=s}catch(e){}if(w.style[g]!=m)return d(),"pfx"!=o||g}return d(),!1}function u(e,t,n,a,i){var l=e.charAt(0).toUpperCase()+e.slice(1),c=(e+" "+y.join(l+" ")+l).split(" ");return r(t,"string")||r(t,"undefined")?s(c,t,a,i):function(e,t,n){var a;for(var i in e)if(e[i]in t)return!1===n?e[i]:r(a=t[e[i]],"function")?o(a,n||t):a;return!1}(c=(e+" "+v.join(l+" ")+l).split(" "),t,n)}function d(e,t,r){return u(e,n,n,t,r)}var f=[],b={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){f.push({name:e,fn:t,options:n})},addAsyncTest:function(e){f.push({name:null,fn:e})}},p=function(){};p.prototype=b,(p=new p).addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}});var h=b._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];b._prefixes=h;var g=[],m="Moz O ms Webkit",v=b._config.usePrefixes?m.toLowerCase().split(" "):[];b._domPrefixes=v;var y=b._config.usePrefixes?m.split(" "):[];b._cssomPrefixes=y;var _=function(t){var r,a=h.length,i=e.CSSRule;if(void 0===i)return n;if(!t)return!1;if((r=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+t;for(var o=0;a>o;o++){var l=h[o];if(l.toUpperCase()+"_"+r in i)return"@-"+l.toLowerCase()+"-"+t}return!1};b.atRule=_;var A,T=t.documentElement,L="svg"===T.nodeName.toLowerCase(),E=(A=!("onblur"in t.documentElement),function(e,t){var r;return!!e&&(t&&"string"!=typeof t||(t=i(t||"div")),!(r=(e="on"+e)in t)&&A&&(t.setAttribute||(t=i("div")),t.setAttribute(e,""),r="function"==typeof t[e],t[e]!==n&&(t[e]=n),t.removeAttribute(e)),r)});b.hasEvent=E;var C=i("input"),N="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),D={};p.input=function(t){for(var n=0,r=t.length;r>n;n++)D[t[n]]=!!(t[n]in C);return D.list&&(D.list=!(!i("datalist")||!e.HTMLDataListElement)),D}(N);var x=b.testStyles=l;p.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var r=["@media (",h.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");x(r,function(e){n=9===e.offsetTop})}return n});var S={elem:i("modernizr")};p._q.push(function(){delete S.elem});var w={style:S.elem.style};p._q.unshift(function(){delete w.style}),b.testAllProps=u,b.testAllProps=d,p.addTest("cssanimations",d("animationName","a",!0)),p.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&d("transform","scale(1)",!0)}),p.addTest("csstransitions",d("transition","all",!0));var O,I=b.prefixed=function(e,t,n){return 0===e.indexOf("@")?_(e):(-1!=e.indexOf("-")&&(e=a(e)),t?u(e,t,n):u(e,"pfx"))};try{O=I("indexedDB",e)}catch(e){}p.addTest("indexeddb",!!O),O&&p.addTest("indexeddb.deletedatabase","deleteDatabase"in O),function(){var e,t,n,a,i,o;for(var l in f)if(f.hasOwnProperty(l)){if(e=[],(t=f[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(a=r(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(o=e[i].split(".")).length?p[o[0]]=a:(!p[o[0]]||p[o[0]]instanceof Boolean||(p[o[0]]=new Boolean(p[o[0]])),p[o[0]][o[1]]=a),g.push((a?"":"no-")+o.join("-"))}}(),delete b.addTest,delete b.addAsyncTest;for(var R=0;R<p._q.length;R++)p._q[R]();e.Modernizr=p}(window,document)}catch(e){Modernizr={touchevents:!1}}Modernizr=bablic.Modernizr=window.Modernizr,window.Modernizr=e}();var d=DOC,$;!function(){d.contains||(d.contains=function(e){do{if("HTML"==e.tagName)return!0;e=e.parentNode}while(e);return!1}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){for(var t=0;t<this.length;t++)if(e(this[t]))return t;return-1}),Array.prototype.find||(Array.prototype.find=function(e){for(var t=0;t<this.length;t++)if(e(this[t]))return this[t];return null}),Array.prototype.includes||(Array.prototype.includes=function(e){return this.indexOf(e)>-1}),String.prototype.includes||(String.prototype.includes=function(e,t){return this.indexOf(e,t)>-1});var e,t=function(){},n=typeof HTMLCollection==strundefined?t:HTMLCollection,r=typeof NodeList==strundefined?t:NodeList;e=function(t,a){if(!(this instanceof e))return new e(t,a);if(t){var i;if("string"==typeof t)i="<"==t[0]?l(t):(a||d).querySelectorAll(t);else{if(t instanceof e)return t;t===WIN||t.self&&t.self==t?i=[t]:t.nodeType?i=[t]:(Array.isArray(t)||t instanceof n||"HTMLCollection"==t.constructor.name||t instanceof r||t===d||"number"==typeof t.length)&&(i=t)}this.element=i}};var a=/^\s+/,i=/\s+$/,o=function(e){return e.trim?e.trim():e.replace(a,"").replace(i,"")};String.prototype.trim||(String.prototype.trim=function(){return this.replace(a,"").replace(i,"")});var l=function(e){return c.innerHTML=o(e),c.childNodes[0]},c=d.createElement("div"),s=function(e,t){for(var n in t)e[n]=t[n]};e.extend=function(e,t){for(var n=1;n<arguments.length;n++)s(e,arguments[n]);return e},e.each=function(e,t){if(void 0!==e.length)for(var n=0;n<e.length;n++)t(n,e[n]);else for(var r in e)t(r,e[r]);return e},e.map=function(e,t){var n=new Array;if(void 0!==e.length)for(var r=0;r<e.length;r++){var a=t(e[r],r);null!==a&&(Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}else for(var i in e)n.push(t(e[i],i));return n},e.grep=function(e,t){for(var n=new Array,r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},e.isEmptyObject=function(e){return!e||0==Object.keys(e).length},e.isArray=function(e){return Array.isArray(e)},e.byTag=function(t,n){return new e((n||d).getElementsByTagName(t))},e.byId=function(t,n){return new e((n||d).getElementById(t))},e.byClass=function(t,n){return new e("."+t,n)},e.makeArray=function(e){return Array.prototype.slice.apply(e,[])},e.inArray=function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},e.trim=o;var u=/^-ms-/,f=/-([\da-z])/gi,b=function(e,t){return t.toUpperCase()};function p(e){return e.element?"number"==typeof e.element.length?e.element[0]:e.element:null}e.camelCase=function(e){return e.replace(u,"ms-").replace(f,b)},e.window={width:function(){return WIN.innerWidth},height:function(){return WIN.innerHeight}};var h=d.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===strundefined&&(e[r]=null),e.detachEvent(r,n))},g=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=g(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=g(t);return n};e.prototype.length=function(){return this.element?"number"==typeof this.element.length?this.element.length:this.element?1:0:0},e.prototype.parent=function(){var t=p(this);if(!t)return new e;var n=t.parentElement;return new e(n)},e.prototype.hasParent=function(e){var t=p(this);if(!t)return!1;for(;t.parentNode;){if(m(t.parentNode,e))return!0;t=t.parentNode}return!1},e.prototype.parents=function(e){var t=[],n=p(this);if(!n)return t;for(;n.parentNode;)e&&!m(n.parentNode,e)||t.push(n.parentNode),n=n.parentNode;return t},e.prototype.children=function(t){var n=[];return this.each(function(){var r=e.grep(this.childNodes,function(n){return 1==n.nodeType&&(!t||new e(n).is(t))});n=n.concat(r)}),new e(n)},e.prototype.filter=function(t){var n=[];return this.each(function(){m(this,t)&&n.push(this)}),new e(n)},e.prototype.attr=function(e,t){if(typeof t==strundefined){var n=p(this);return n?n.getAttribute(e):""}return this.each(function(){""===t?this.removeAttribute(e):this.setAttribute(e,!0===t?"":t)}),this},e.prototype.add=function(e){var t=[e];return this.each(function(){t.push(this)}),this.element=t,this},e.prototype.get=function(e){return"number"==typeof this.element.length?this.element[e]:this.element},e.prototype.html=function(e){var t=p(this);return t?typeof e==strundefined?t.innerHTML:(t.innerHTML=e,this):this},e.prototype.each=function(e){if(!this.element)return this;if("number"==typeof this.element.length)for(var t=0;t<this.element.length;t++)e.apply(this.element[t],[t]);else e.apply(this.element,[0]);return this},e.prototype.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),this},e.prototype.appendTo=function(t){var n=p(new e(t));return n?(this.each(function(){n.appendChild(this)}),this):this},e.prototype.insertBefore=function(t){var n=p(new e(t));if(!n)return this;var r=n.parentNode;return r?(this.each(function(){r.insertBefore(this,n)}),this):this},e.prototype.append=function(t){var n=p(new e(t));if(!n)return this;var r=p(this);return r?(r.appendChild(n),this):this},e.prototype.on=function(e,t){return this.each(function(){this.addEventListener?this.addEventListener(e,t,!1):this.attachEvent&&this.attachEvent("on"+e,t)}),this},e.prototype.once=function(e,t){return this.each(function(){var n=function(r){return h(this,e,n),t.apply(this,arguments)};this.addEventListener?this.addEventListener(e,n,!1):this.attachEvent&&this.attachEvent("on"+e,n)}),this},e.prototype.off=function(e,t){return this.each(function(){h(this,e,t)}),this},e.prototype.width=function(){var e=p(this);return e?e.clientWidth:0},e.prototype.height=function(){var e=p(this);return e?e.clientHeight:0},e.prototype.is=function(e){var t=p(this);return!!t&&m(t,e)};var m=function(e,t){return e.matches=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,!!e.matches&&e.matches(t)};e.prototype.toArray=function(){return this.element?"number"==typeof this.element.length?Array.isArray(this.element)?this.element:e.makeArray(this.element):[this.element]:[]},e.prototype.addClass=function(e){return this.each(function(){var t=this.className||"";"string"!=typeof t&&(t=t.baseVal);for(var n=t.split(" "),r={},a=0;a<n.length;a++){var i=o(n[a]);i&&(r[i]=!0)}r[e]=!0,this.className=Object.keys(r).join(" ")}),this},e.prototype.removeClass=function(e){return this.each(function(){var t=this.className||"";"string"!=typeof t&&(t=t.baseVal);for(var n=t.split(" "),r={},a=0;a<n.length;a++){r[o(n[a])]=!0}delete r[e],this.className=Object.keys(r).join(" ")}),this};var v=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,y=(new RegExp("^("+v+")(.*)$","i"),new RegExp("^([+-])=("+v+")","i")),_={letterSpacing:"0",fontWeight:"400"},A=["Webkit","O","Moz","ms"];function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,a=A.length;a--;)if((t=A[a]+n)in e)return t;return r}var L,E,C=/^(top|right|bottom|left)$/,N=/^margin/,D=new RegExp("^("+v+")(?!px)[a-z%]+$","i");function x(e){return"_babstyle"in e?e._babstyle:e.style}WIN.getComputedStyle?(L=function(e){return e.ownerDocument.defaultView&&e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):bablic.getStyle?bablic.getStyle.call(WIN,e,null):WIN.getComputedStyle(e,null)},E=function(t,n,r){var a,i,o,l,c=x(t);return l=(r=r||L(t))?(r._getProp?r._getProp(n):r.getPropertyValue(n))||r[n]:void 0,r&&(""===l&&(l=e.style(t,n)),D.test(l)&&N.test(n)&&(a=c.width,i=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=r.width,c.width=a,c.minWidth=i,c.maxWidth=o)),void 0===l?l:l+""}):d.documentElement.currentStyle&&(L=function(e){return e.currentStyle},E=function(e,t,n){var r,a,i,o,l=x(e);return null==(o=(n=n||L(e))?n[t]:void 0)&&l&&l[t]&&(o=l[t]),D.test(o)&&!C.test(t)&&(r=l.left,(i=(a=e.runtimeStyle)&&a.left)&&(a.left=e.currentStyle.left),l.left="fontSize"===t?"1em":o,o=l.pixelLeft+"px",l.left=r,i&&(a.left=i)),void 0===o?o:o+""||"auto"}),s(e,{cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,n,r,a){if(t&&3!==t.nodeType&&8!==t.nodeType&&x(t)){var i,o,l=e.camelCase(n),c=x(t);if(n=e.cssProps[l]||(e.cssProps[l]=T(c,l)),void 0===r)return c[n];"string"===(o=typeof r)&&(i=y.exec(r))&&(r=(i[1]+1)*i[2]+parseFloat(e.css(t,n)),o="number"),null!=r&&r==r&&("number"!==o||e.cssNumber[l]||(r+="px"),""===r&&0===n.indexOf("background")&&(c[n]="inherit"),c[n]=r)}},css:function(t,n,r,a){var i,o,l=e.camelCase(n);return n=e.cssProps[l]||(e.cssProps[l]=T(x(t),l)),void 0===o&&(o=E(t,n,a)),"normal"===o&&n in _&&(o=_[n]),""===r||r?(i=parseFloat(o),!0===r||e.isNumeric(i)?i||0:o):o}}),e.prototype.css=function(t,n){if(void 0===n){var r=p(this);return r?e.css(r,t):null}return this.each(function(){e.style(this,t,n)}),this},e.prototype.find=function(t){var n=[];return this.each(function(){e(t,this).each(function(){n.push(this)})}),e(n)},e.prototype.hide=function(){return this.css("display","none")},e.prototype.show=function(){return this.css("display","block")},e.prototype.text=function(e){if(typeof e==strundefined){var t=p(this);return t?g(t):""}return this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild);var t=DOC.createTextNode(e);this.appendChild(t)}),this},$=e,bablic.$=$}();var SUB_DIR=/^(\/(\w\w?\w([-|_]\w\w)?))(?:\/|$)/,EXTRACT_SUB=/^\/?@([^@]+)@/,NOT_FOLDER_REGEX=/(\.[^/]*|\/|\?.*|#.*)$/,BEnumRegex=/^BEnum\((.*?)\)/,decodeConf,encodeConf,encodePing,decodeSnippetData,Ei,bablicHash;try{"object"!=typeof module&&"boolean"!=typeof ENGINE_PACKAGE||(module.exports={getLocaleByURL:getLocaleByURL,normalizePath:normalizePath,getOtherDomain:getOtherDomain,matchDomainRule:matchDomainRule,encodeObject:encodeObject,encodeWithVersion:encodeWithVersion,decodeObject:decodeObject,decodeWithVersion:decodeWithVersion,getPackageFromPath:getPackageFromPath,isPageExcluded:isPageExcluded,isPathFolder:isPathFolder,convertToPreviewByType:convertToPreviewByType})}catch(e){console.error(e)}!function(){var e=/snippet\/([0-9a-f]{24})\.js/,t=["__obj__",["timestamp","Number"],["orig","String"],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none","6":"subdir"})'],["edit","Boolean"],["fallback","Boolean"],["ajaxWidget","Boolean"],["meta","Boolean"],["alt","Boolean"],["locales",[["__obj__",["legacy","Boolean"],["www","Boolean"],["dir",'BEnum({"0":"ltr","1":"rtl"})'],["url","String"],["key","String"],["name","String"],["flag","String"],["font","String"],["months",["String"]],["dateFormat","String"],["timeFormat","String"],["engines",["Number"]],["excludePages",["String"]],["includePages",["String"]],["iso","String"],["days",["String"]],["formats",null]]]],["widget",[["__obj__",["show","Boolean"],["embedded","String"],["logo","Boolean"],["size","Number"],["widgetType",'BEnum({"0":"labels","1":"flags","2":"letters","3":"flagsHoriz","4":"lettersHoriz"})'],["expanded","Boolean"],["position",["__obj__",["corner","Number"],["distance","Number"],["unit","String"],["fixed","Boolean"]]],["colors",["String"]],["hideCurrent","Boolean"],["css","String"],["target","String"],["style","String"]]]],["bidi","Boolean"],["exclude","String"],["include","String"],["markup",null],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["domain","String"],["mountSubs",["String"]],["packages",null],["excludePages",["String"]],["includePages",["String"]],["domains",["String"]],["mbd","Boolean"],["j","String"],["keywords",null],["default","String"],["autoDetect","Boolean"],["localeKeys",["String"]],["customUrls",null],["qsParams",["String"]],["isHybrid","Boolean"],["reportHtml","Boolean"],["previewUrl","String"],["version","Number"]],n=["__obj__",["timestamp","Number"],["snippetTimestamp","Number"],["error","String"],["locale","String"],["original","String"],["didHide","Boolean"],["confTime","Number"],["translationTime","Number"],["hiddenTime","Number"],["detected","String"],["page","String"],["detectedLocale","String"],["hasLocalStorage","Boolean"],["hasIndexDB","Boolean"],["path","String"],["nonBlocking","Boolean"],["version","Number"],["parseVersion","Number"]],r={1:["__obj__",["timestamp","Number"],["original","String"],["localeKeys",["String"]],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none","6":"subdir"})'],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["customUrls",null],["noCDN","Boolean"],["noLocalStorage","Boolean"],["noCookies","Boolean"]],2:["__obj__",["timestamp","Number"],["original","String"],["default","String"],["autoDetect","Boolean"],["localeKeys",["String"]],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none","6":"subdir"})'],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["customUrls",null],["noCDN","Boolean"],["noLocalStorage","Boolean"],["noCookies","Boolean"],["qsParams",["String"]],["domain","String"],["mountSubs",["String"]],["getLocaleHandler","String"],["rewriteUrlHandler","String"],["previewUrl","String"]]};if(decodeConf=function(e){return decodeWithVersion(e,t,1.2)},encodeConf=function(e){return encodeWithVersion(e,t,1.2)},encodePing=function(e){return encodeObject(n,e)},decodeSnippetData=function(e){if(14==e.length&&(n=decodeWithVersion(e,r[2],Number(1))))return n;for(var t in r){var n;if(n=decodeWithVersion(e,r[t],Number(t)))return n}return null},window.bablic)for(var a=document.getElementsByTagName("SCRIPT"),i=0;i<a.length;i++){if(!bablic.Site&&a[i].getAttribute("src")&&a[i].getAttribute("src").indexOf("/snippet/")>-1){var o=e.exec(a[i].getAttribute("src"))[1];bablic.Site=o}if(!bablic.Site&&a[i].getAttribute("data-bablic")&&(bablic.Site=a[i].getAttribute("data-bablic")),!bablic.data&&a[i].getAttribute("data-bablic-m")){var l=a[i].getAttribute("data-bablic-m");if(l){l=l.replace(/[“”]/g,"").replace(/[‘’]/g,"'");try{l=JSON.parse(l.replace(/'/g,'"')),l=decodeSnippetData(l),bablic.data=l}catch(e){console.error("malformed code snippet",e)}}}var c=a[i].getAttribute("src");if(c&&/(cdn2|staging)\.bablic\.com/.test(c)){var s={};if($.each((c.split("?")[1]||"").split("&"),function(e,t){var n=t.split("="),r=decodeURIComponent(n[0]).replace("amp;","");s[r]=decodeURIComponent(n[1])}),s.site&&!bablic.Site&&(bablic.Site=s.site),!bablic.data&&s.meta)try{l=JSON.parse(s.meta.replace(/'/g,'"')),l=decodeSnippetData(l),bablic.data=l}catch(e){bablic.error(e)}}}}(),bablic.$.prototype.animate=function(e,t,n){return bablic.Modernizr.csstransitions?(this.each(function(){var r=this;r._babStop&&r._babStop();var a=Ei||(Ei=function(){if(!WIN.getComputedStyle)return{};var e=WIN.getComputedStyle(DOC.DOCElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1],lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}()),i=t.duration||".5s",o=Object.keys(e).map(function(e){return e+" "+i}).join(",");r._babStop=function(){clearTimeout(c),n=null,l()};var l=function(){r.style[a.lowercase+"Transition"]="",r.style.transition="",new Array("transitionEnd",a.lowercase+"TransitionEnd").forEach(function(e){$(r).off(e,l)}),delete r._babStop,n&&n(),n=null};new Array("transitionEnd",a.lowercase+"TransitionEnd").forEach(function(e){$(r).on(e,l)}),r.style[a.lowercase+"Transition"]=o,r.style.transition=o;var c=setTimeout(function(){for(var t in e)r.style[t]=e[t]},0)}),this):setTimeout(n,0)},function(){function e(e){return btoa(function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}(function(e,a){e[a>>5]|=128<<24-a%32,e[15+(a+64>>9<<4)]=a;for(var i=Array(80),o=1732584193,l=-271733879,c=-1732584194,s=271733878,u=-1009589776,d=0;d<e.length;d+=16){for(var f=o,b=l,p=c,h=s,g=u,m=0;m<80;m++){i[m]=m<16?e[d+m]:r(i[m-3]^i[m-8]^i[m-14]^i[m-16],1);var v=n(n(r(o,5),t(m,l,c,s)),n(n(u,i[m]),(y=m)<20?1518500249:y<40?1859775393:y<60?-1894007588:-899497514));u=s,s=c,c=r(l,30),l=o,o=v}o=n(o,f),l=n(l,b),c=n(c,p),s=n(s,h),u=n(u,g)}var y;return Array(o,l,c,s,u)}(function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(a=function(e){var t,n,r="",a=-1;for(;++a<e.length;)t=e.charCodeAt(a),n=a+1<e.length?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),a++),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}(e||"")),8*a.length)));var a}function t(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t){return e<<t|e>>>32-t}WIN.atob||WIN.btoa||function(e){var t="=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function r(e,t){var n=e.charCodeAt(t);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n}WIN.btoa=function(e){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";var a,i=[],o=(e=String(e)).length-e.length%3;if(!e.length)return e;for(a=0;a<o;a+=3)l=r(e,a)<<16|r(e,a+1)<<8|r(e,a+2),i[i.length]=n.charAt(l>>18),i[i.length]=n.charAt(l>>12&63),i[i.length]=n.charAt(l>>6&63),i[i.length]=n.charAt(63&l);switch(e.length-o){case 1:l=r(e,a)<<16,i[i.length]=n.charAt(l>>18)+n.charAt(l>>12&63)+t+t;break;case 2:l=r(e,a)<<16|r(e,a+1)<<8,i[i.length]=n.charAt(l>>18)+n.charAt(l>>12&63)+n.charAt(l>>6&63)+t}for(var l=0,c=i.length,s="";l<c;)s+=i[l++];return s}}();var a={};bablicHash=function(t){if("string"==typeof(n=a[t]))return n;var n=e(t);return a[t]=n,n}}(),bablic.hash=bablicHash;var root_path="//"+(bablic.debugServer||"e2.bablic.com"),editorPath=bablic.debugServer?"//"+bablic.debugServer:"https://www.bablic.com",fetchFromCDN,ajaxPost,ajaxGet,getPageTranslationURL,turnOffCDN,build_query_string;!function(e,t,n){e.now||(e.now=function(){return Number(new e)}),t.isArray||(t.isArray=function(e){return e&&e.constructor==t}),t.prototype.indexOf||(t.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1});var r=null,a=n.cdnServer||"c.bablic.com",i=n.confCdnServer||"c.bablic.com";turnOffCDN=function(){r=e.now()},getPageTranslationURL=function(e){return e.indexOf("conf")>-1?"//"+i+e+".json?t="+(LDATA?LDATA.timestamp:""):"//"+a+e+".json?t="+(LDATA?LDATA.timestamp:"")},fetchFromCDN=function(e,t){var n=getPageTranslationURL(e);ajaxGet(n,null,function(e){t(null,e)},function(e){t(e)})};var o=function(e,t,r,a,i,l,c){a=a||function(){n.log("bablic POST success")},i=i||function(e){n.log("bablic POST request failed "+e.responseText||e)},c=c||0;var s=t.indexOf("//")>-1,u=t.indexOf("?")>-1?"&":"?",d=l?"https:":"";if(WIN.XDomainRequest){if(!WIN.JSON)return i("not supported");var f=new XDomainRequest;l&&!parent.SESSION_KEY&&(f.withCredentials="true"),f.open(e,s?t:(n.preview?editorPath:d+root_path)+t+u+build_query_string()),f.onload=function(){setTimeout(function(){if("application/json"==f.contentType){var e=JSON.parse(f.responseText);null!=e&&void 0!==e||(e=JSON.parse(r.firstChild.textContent)),a(e)}else a(f.responseText)},1)},f.onerror=function(){i(f)},r?f.send(JSON.stringify(r)):f.send()}else{var b=new XMLHttpRequest;b.open(e,s?t:(n.preview?editorPath:d+root_path)+t+u+build_query_string()),"POST"==e&&b.setRequestHeader("Content-type","application/json"),l&&!parent.SESSION_KEY&&(b.withCredentials="true",b.setRequestHeader("x-with-credentials","1")),b.onreadystatechange=function(){if(4==b.readyState){var n=b.responseText;if("string"==typeof n&&/^\s*(\{|\[|"|[0-9])/.test(n))try{n=JSON.parse(n)}catch(e){}if(b.status<200||b.status>=300)return!(b.status>=400&&b.status<=409||500==b.status)&&c++<2?setTimeout(function(){o(e,t,r,a,i,l,c)},(429==b.status?1500:100)*c):i(n||b.status||"failed");a(n)}},r?b.send(JSON.stringify(r)):b.send()}};ajaxPost=function(e,t,n,r,a){return o("POST",e,t,n,a,r)},ajaxGet=function(e,t,n,r,a,i){return o("GET",e,null,n,r,a,i)},build_query_string=function(){return"s="+n.Site+(n.locale?"&l="+n.locale:"")+(n.package&&!n.dedicated?"&package="+n.package:"")+"&uri="+encodeURIComponent(pageUri())+"&v="+n.version+(n.localeURL?"&ld="+n.localeURL:"")+(n.preview?"&preview="+encodeURIComponent(n.preview):"")+(n.previewMode?"&previewMode="+encodeURIComponent(n.previewMode):"")+(r?"&_c="+r:"")}}(Date,Array,bablic),function(e){function t(e,n){return 1===arguments.length?function(){var n=$.makeArray(arguments);return n.unshift(e),t.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=$.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),$.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),n).replace("%s",n)}),e)}var n=e.getText=e.__=function(e,n,a){return n=n||[],arguments.length>2&&n.constructor!==Array&&(n=$.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t(r(e,null,a),n)};function r(t,n,r){if(!LDATA||!LDATA.content)return e.log("translation not loaded yet"),t;if(!Text)return t;n=n||{},!Text.stripText&&Text.prepare&&Text.prepare();var a={nodeType:3,nodeValue:t,nodeName:"#text"};return processNodeWithEngine(a,{tagName:"P",_fake:!0},n,Text.index,null,null,r),LDATA.report&&send_ldata_report(!1),LDATA.usage&&send_usage_report(),a._nodeValue||a.nodeValue}e.getTextWithMarkup=function(e,n,a){return a=a||[],arguments.length>3&&a.constructor!==Array&&(a=$.makeArray(arguments).slice(2)),a.constructor!==Array&&(a=[a]),t(r(e,n),a)},e.__n=e.getTextPlural=function(e,n,a,i){i=i||[],arguments.length>4&&i&&i.constructor!==Array&&(i=$.makeArray(arguments).slice(3)),i.constructor!==Array&&(i=[i]);var o=r(e),l=r(n);return t(1==a?o.replace(/%\s*?d/g,a):l.replace(/%\s*?d/g,a||0),i)};var a=WIN.alert;WIN.alert=function(){var e=n.apply(null,arguments);return a(e)},e.alert=function(){return a.apply(WIN,arguments)};var i=WIN.confirm;WIN.confirm=function(){var e=n.apply(null,arguments);return i(e)},e.confirm=function(){return i.apply(WIN,arguments)};var o=WIN.prompt;WIN.prompt=function(){var e=n.apply(null,arguments);return o(e)},e.prompt=function(){return o.apply(WIN,arguments)}}(bablic);var Mutation=bablic.Mutation={},attributeObserver,setNodeValue=function(e,t){e.nodeValue=t},turnObserverOn,turnObserverOff,prefetchOnFirstView,LocalDB;!function(bablic){Mutation.events=bablic._e||{},WIN.MutationObserver=WIN.MutationObserver||WIN.WebKitMutationObserver||WIN.MozMutationObserver;var _observer=WIN.MutationObserver,lastBablic=0;function detectPingPong(e){if(e._lp=Date.now(),Date.now()-lastBablic<200){if(e._pp=e._pp||0,e._pp++,e._pp>20)return!0}else{if(e._pp>20&&Date.now()-lastBablic<1e3)return!0;e._pp=0}}if(_observer){var ua=WIN.navigator.userAgent,isIE=/MSIE|Trident/.test(ua);if(!isIE){function _callback(e){return e?function(t){if(!detectPingPong(e))return e.apply(this,arguments)}:e}try{var functionName=_callback.name||"_callback";eval("class MutationObserve extends _observer { constructor(func) { super("+functionName+"?"+functionName+"(func):func); }} window.MutationObserver = MutationObserve;")}catch(e){try{WIN.MutationObserver=function(e){this._obs22=new _observer(_callback(e))};for(var methods=["disconnect","observe","takeRecords"],i=0;i<methods.length;i++){var func=_observer.prototype[methods[i]];func&&(WIN.MutationObserver.prototype[methods[i]]=function(){return func.apply(this._obs22,arguments)})}}catch(e){}}}var observer=new _observer(function(e){if(!(bablic.mutation_listen_off>0))for(var t=0;t<e.length;t++){var n=e[t].target;if(n&&!(e[t].attributeName.indexOf("bablic")>-1)){var r=n.attributes[e[t].attributeName];if(r&&DOC.contains(n)&&readNodeAttr(r,"bablic_last_value",n)!=getNodeValue(r))return processElement(n,!0)}}});attributeObserver=function(e,t){var n=e._babi=e._babi||{};n[t.nodeName]||(n[t.nodeName]=!0,setTimeout(function(){observer.observe(e,{attributeFilter:[t.nodeName],attributes:!0})},1))}}else attributeObserver=function(e,t){var n=readNodeAttr(t,"_babi",e);n&&clearInterval(n),n=setInterval(function(){readNodeAttr(t,"bablic_replaced_value",e)!=getNodeValue(t)&&mutationCallbackSingle(e)},200),setNodeAttr(t,"_babi",n,e)};Mutation.on=function(e,t){$.each(e.trim().split(/\s+/),function(e,n){Mutation.events[n]=Mutation.events[n]||[],Mutation.events[n].push(t),"locale"==n&&LDATA&&bablic.getLocale&&bablic.getLocale()&&setTimeout(function(){t(bablic.getLocale())},0)})},Mutation.once=function(e,t){Mutation.events[e]=Mutation.events[e]||[];var n=function(){try{t()}catch(e){}Mutation.unbind(e,n)};Mutation.events[e].push(n)},Mutation.unbind=function(e,t){Mutation.events[e]=Mutation.events[e]||[];var n=Mutation.events[e].indexOf(t);n>-1&&Mutation.events[e].splice(n,1)},Mutation.emit=function(e,t){var n;Mutation.events[e]=Mutation.events[e]||[];for(var r=0;r<Mutation.events[e].length;r++)try{var a=Mutation.events[e][r].apply(bablic,t);void 0!==a&&(n=a)}catch(e){}return n};var timeouts=[];function getElementDepth(e){for(var t=0;e;){if(e._babSt)return-1;t++,e=e.parentElement}return t}Mutation.rush=function(){timeouts.map(function(e){return e.h}).forEach(function(e){e()})},Mutation.clearTimeout=function(e){var t=$.grep(timeouts,function(t){return t.t==e})[0];t&&t.c()},Mutation.observeHead=function(e){if(_observer){var t={LINK:1,STYLE:1};new _observer(function(n){for(var r=0;r<n.length;r++){var a=n[r].addedNodes;if(a&&a.length)for(var i=0;i<a.length;i++)if(a[i].tagName in t&&!/bablic/.test(a[i].id||""))return e()}}).observe($.byTag("head").get(0),{childList:!0})}};var listening=!1;Mutation.listen=function(){if(!listening){if(_observer){var e=new _observer(function(e){if(LDATA&&LDATA.content&&!(bablic.noMutationListening||bablic.mutation_listen_off>0)){for(var t={},n=0,r=1e5,a=0;a<e.length;a++){var i=e[a].target;if(i&&(!i._babSt&&DOC.contains(i))){for(1!=i.nodeType&&(i=i.parentNode);i&&i.parentElement&&1==i.nodeType&&!("bablic_last_value"in i)&&i!==DOC.body&&"HEAD"!==i.tagName;)i=i.parentElement;-1!==(l=getElementDepth(i))&&(i._babSt=1,l>n&&(n=l),l<r&&(r=l),t[l]=t[l]||[],t[l].push(i))}}if(n){var o=t[r];if(n!==r)for(var l in t)if((l=Number(l))!==r){var c=t[l];for(a=0;a<c.length;a++){for(var s=c[a],u=!1,d=l;d>r;d--){if(s.parentElement._babSt){u=!0;break}s=s.parentElement}u||o.push(c[a])}}mutationCallback(o)}}});turnObserverOff=function(){e.disconnect()},(turnObserverOn=function(){e.observe(DOC.body,{characterData:!0,childList:!0,subtree:!0})})()}else{var t=function(e){var t=e.srcElement||e.relatedNode||e.originalEvent&&e.originalEvent.srcElement||e.originalEvent&&e.originalEvent.relatedNode;mutationCallbackSingle(t)};turnObserverOff=function(){$(DOC.documentElement).off("DOMNodeInserted",t).off("DOMCharacterDataModified",t)},(turnObserverOn=function(){$(DOC.documentElement).on("DOMNodeInserted",t).on("DOMCharacterDataModified",t)})()}setInterval(function(){LDATA&&LDATA.content&&processElement(DOC.documentElement)},5e3),listening=!0}};var THROTTLE_GLOBAL_WINDOW=5e3,THROTTLE_GLOBAL_MAX=30,THROTTLE_ELEMENT_WINDOW=1e3,THROTTLE_ELEMENT_MAX=2,lastFired=Date.now();function calculateThrottle(e,t,n){var r=(t-Math.max(t-n,Date.now()-n))/n;return r<0?1:e*r+1}function pushThrottled(e,t){return e._babTh?(e._babTc=calculateThrottle(e._babTc,e._babTh,t),e._babTh=Date.now(),e._babTc):(e._babTh=Date.now(),e._babTc=1,1)}var stalledQueue=[],globalThrottle={};function throttleEvent(e){return!bablic.noMutationThrottle&&(pushThrottled(globalThrottle,THROTTLE_GLOBAL_WINDOW)>THROTTLE_GLOBAL_MAX?(bablic.log("canceled because short time"),!0):pushThrottled(e,THROTTLE_ELEMENT_WINDOW)>THROTTLE_ELEMENT_MAX&&(bablic.log("canceled because short time"),!0))}var BULK_PULL=10,consumeQueueInner=function(){consumeQueueTimeout=started=null;var e=stalledQueue;if(stalledQueue=[],e.length>80)return processElement(document.body);var t=function(){var n=e.splice(0,BULK_PULL);if(n.length){for(var r=0;r<n.length;r++)n[r].parentElement&&n[r]._babSt&&(processElement(n[r]),delete n[r]._babSt);setTimeout(t,0)}};t()},consumeQueueTimeout,started,consumeQueue=function(){started&&Date.now()-started>1250||(consumeQueueTimeout&&clearTimeout(consumeQueueTimeout),started||(started=Date.now()),consumeQueueTimeout=setTimeout(consumeQueueInner,250))},mutationCallbackSingle=function(e){if(LDATA&&LDATA.content&&!(bablic.mutation_listen_off>0)){if(e&&"SPAN"==e.tagName&&"bablicLink"==e.id&&parent.parentNode)return e.parentNode.removeChild(e);if(!bablic.noMutationListening&&e&&e!=WIN){for(1!=e.nodeType&&(e=e.parentNode);e&&e.parentElement&&1==e.nodeType&&!("bablic_last_value"in e)&&e!=DOC.body&&"HEAD"!=e.tagName;)e=e.parentElement;mutationCallback([e])}}},mutationCallback=Mutation.callback=function(e){Mutation.emit("mutation");var t=Date.now()-lastBablic;lastBablic=Date.now();for(var n=0,r=0;r<e.length;r++){var a=e[r];throttleEvent(a)?2!==a._babSt&&(a._babSt=2,stalledQueue.push(a)):(a._babSt&&delete a._babSt,processElement(a),n++)}bablic.log("mutation",n+"/"+e.length,t),n>0&&(lastFired=Date.now()),n<e.length&&consumeQueue()};try{var prop=Object.getOwnPropertyDescriptor(Node.prototype,"nodeValue");if(prop&&prop.set){var _setter=prop.set;prop.set=function(e){var t=this.nodeValue!=e;_setter.apply(this,arguments),t&&this&&this.parentElement&&this.parentElement.ownerDocument&&mutationCallbackSingle(this)},Object.defineProperty(Node.prototype,"nodeValue",prop),Object.defineProperty(Node.prototype,"_nodeValue",{get:prop.get,set:_setter}),setNodeValue=function(e,t){e._nodeValue=t}}}catch(e){}}(bablic),function(e){function t(e){$('head link[rel=prefetch][href="'+e+'"]').length()||$("head").append('<link bablic-exclude rel="prefetch" href="'+e+'" />')}prefetchOnFirstView=function(){e.proxy||$.each(e.locales,function(n,r){var a=normalizedCurrentPath(),i="/page?s="+e.Site+"&l="+r.key+"&page="+encodeURIComponent(a),o=getPageTranslationURL(i);t(o=LOC.protocol+jsonpURL(o,i)),e.log("prefetch",o),i="/conf?s="+e.Site+"&l="+r.key,o=getPageTranslationURL(i),t(o=LOC.protocol+jsonpURL(o,i)),e.log("prefetch",o)})}}(bablic);var USE_LOCAL_DB=!PROXY&&!bablic.preview||-1!=location.search.indexOf("testBablicLS"),USE_INDEXED_DB=USE_LOCAL_DB,_c1="continu",hideWidget,showFlags,getFlag,bidiInline,es;!function(e){var t,n=_c1+"e",r=function(){try{if(WIN.localStorage)return WIN.localStorage}catch(e){console.log("cant get local storage")}return t||(t={getItem:function(e){return LocalDB.cookie.getCookie(e)},setItem:function(e,t){LocalDB.cookie.setCookie(e,t)}})},a={},i={};function o(t){if(!e.locale||!WIN.indexedDB)return t(new Error("No indexed db"));if(e.locale in a)return t(null,a[e.locale]);if(e.locale in i)return i[e.locale].push(t);var n=e.locale;try{var r=indexedDB.open("bablic_"+n,4);i[n]=[];var o=setTimeout(function(){l("Timeout"),console.log("cant load indexeddb")},5e3),l=function(e,r){r&&(a[n]=r),clearTimeout(o),e&&LocalDB.setSync("dbdown",Math.floor(Date.now()/1e3)),t&&(t(e,r),i[n].forEach(function(t){t(e,r)}),delete i[n],t=null)};r.onupgradeneeded=function(e){var n=e.target.result;if(!n)return t(new Error("Not created"));e.target.transaction.onerror=t,n.createObjectStore("a",{keyPath:"id"}).createIndex("page","page",{unique:!1,multiEntry:!0})},r.onsuccess=function(e){l(null,e.target.result)},r.onerror=function(e){l(e)}}catch(e){t(e)}}if(LocalDB={cookie:{setCookie:function(t,n,r){if(!(n.length>1e3)){var a=new Date;a.setDate(a.getDate()+r);var i="",o=(e.conf||e.data||{}).domain;if(o){var l=o.indexOf("/");l>-1&&(o=o.substr(0,l))}o&&LOC.hostname.indexOf(o)>-1&&(i=";domain="+o);var c=escape(n)+(null==r?"":"; expires="+a.toUTCString())+"; path=/"+i;DOC.cookie=t+"="+c}},getCookie:function(e){var t,n,r,a=DOC.cookie.split(";");for(t=a.length-1;t>=0;t--)if(n=a[t].substr(0,a[t].indexOf("=")),r=a[t].substr(a[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return unescape(r)},clear:function(e){var t=new Date(Date.now()-36e7);DOC.cookie=e+"=; expires="+t.toUTCString()+"; path=/"}},getSync:function(t,n,a){try{return n?LocalDB.cookie.getCookie("bab_"+t):USE_LOCAL_DB||a?r().getItem("bab_"+t):null}catch(t){e.error("LocalDB Failed",t)}},setSync:function(t,n,a,i){try{if(a)return LocalDB.cookie.setCookie("bab_"+t,n,365);if(!USE_LOCAL_DB&&!i)return;r().setItem("bab_"+t,n)}catch(t){e.error("LocalDB failed",t)}},getConf:function(){return JSON.parse(LocalDB.getSync("bablic")||"null")},setConf:function(e){LocalDB.setSync("bablic",JSON.stringify(e))},getByIds:function(e,t){if(!USE_INDEXED_DB)return t(!0);try{o(function(n,r){if(n||!r)return t(n);try{var a=r.transaction(["a"],"readonly").objectStore("a"),i={};parallelEach(e,function(e,t){var n=a.get(e);n.onsuccess=function(n){var r=n.target.result;r&&(i[e]=r.value),t()},n.onerror=function(e){t()}},function(e){t(e,i)})}catch(e){t(e)}})}catch(e){t(e)}},getByPage:function(t,r){if(!USE_LOCAL_DB)return r(!0);try{if(WIN.localStorage){var a=localStorage.getItem("bab_p_"+t);if(a)return r(null,JSON.parse(a))}}catch(t){e.error(t)}if(!USE_INDEXED_DB)return r(!0);try{o(function(e,a){if(e||!a)return r(e);try{var i=a.transaction(["a"],"readonly"),o=i.objectStore("a").index("page"),l=IDBKeyRange.only(t),c={},s=!1;o.openCursor(l).onsuccess=function(e){var t=e.target.result;t&&("__set__"!=t.value.id?c[t.value.id]=t.value.value:s=!0,t[n]())},i.oncomplete=function(){if(!s&&$.isEmptyObject(c))return r("not found",c,a);r(null,c,a)}}catch(e){r(e)}})}catch(e){r(e)}},setByPage:function(t,n){if(USE_LOCAL_DB){try{if(WIN.localStorage&&t.length<1e3){var r=JSON.stringify(t);return void localStorage.setItem("bab_p_"+n,r)}}catch(t){e.error(t)}USE_INDEXED_DB&&($.isEmptyObject(t)&&(t.__set__="true"),LocalDB.getByPage(n,function(r,a,i){if(!i||!a)return e.error(r);var o=[],l=[];for(var c in t)c in a||function(e,t){o.push(function(r){i.transaction(["a"],"readonly").objectStore("a").get(e).onsuccess=function(a){var i=a.target.result;if(i){if(i.page.indexOf(n)>-1)return;i.page.push(n)}else i={id:e,value:t,page:[n]};l.push(i),r()}})}(c,t[c]);parallel(o,function(t){if(t)return e.error(t);var n=i.transaction(["a"],"readwrite"),r=n.objectStore("a");l.forEach(function(e){r.put(e)}),n.oncomplete=function(t){e.log(t)},n.onerror=function(t){e.error(t)}})}))}},clearSync:function(e,t){WIN.localStorage&&localStorage.removeItem("bab_"+e),LocalDB.cookie.clear("bab_"+e)},clearAll:function(t){var n=["bablic","unused"];if($.each(e.locales||[],function(e,t){n.push("global"+t.key),n.push("home_"+t.key),$.each(Object.keys(LDATA&&LDATA.packages||{}),function(e,r){n.push("p_"+t.key+"_"+r),n.push("@"+t.key+"_"+r)})}),$.each(n,function(e,t){LocalDB.clearSync(t)}),!WIN.indexedDB)return t&&t();parallelEach(e.locales||[],function(t,n){try{var r=indexedDB.deleteDatabase("bablic_"+t.key);r.onsuccess=function(){e.log("Deleted database successfully"),delete a[t.key],n&&n(),n=null},r.onerror=function(){e.error("Couldn't delete database"),n&&n(),n=null},r.onblocked=function(){e.error("Couldn't delete database due to the operation being blocked"),n&&n(),n=null},setTimeout(function(){n&&(e.error("timeout in deleting db"),n(),n=null)},1e3)}catch(e){n&&n(),n=null}},t)}},e.cookie=LocalDB.cookie,USE_LOCAL_DB){var l=LocalDB.getSync("dbdown");USE_INDEXED_DB=!(l&&Number(l)>(Date.now()-3e5)/1e3)}}(WIN._bab||bablic),function(bablic){var _functionToString=WIN.Function&&Function.prototype.toString;function printFunction(e){return _functionToString?_functionToString.apply(e):e.toString()}var SIZES={1:16,2:24,3:32,4:48,5:64,6:128},EMBEDDED_WIDGET='<ul class="bablic-flags-menu"> {@_.l} <li {{_.selected ? "class=\\"selected\\"":""}}> <a target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_.name}}"> <img src="{{_.flag}}" alt="{{_.name}}"> </a> </li> {/?} </ul> ',WIDGET_TYPES={flags:{html:'<ul class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.expanded?"expanded":""}} {{_.c.widgetType.indexOf("Horiz")>-1?"horizontal":"vertical"}}"> {@_.l} <li {{_.selected ? "class=\\"selected\\"":""}}> <a class="item" target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_._name}}" style="font-size:{{Math.floor(_.parent.sizeNum*0.5*_.factor)+3}}px;" aria-label="Translate to {{_._name}}"> {?_.parent.c.widgetType.indexOf("flags")>-1} <img src="{{_.parent.p}}{{_._flag}}" alt="{{_._name}}"> {/?} {?_.parent.c.widgetType.indexOf("flags")==-1} {{_._prefix}} {/?} </a> </li> {/@} {?_.c.logo&&!_.expired} <li class="logo"><a target="_top" href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" title="Powered by Bablic"><img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/theme/{{_.c.colors[0]=="#01B0F0"?"dark":"blue"}}/{{_.sizeNum}}.png"></a></li> {/?} {?_.expired} <li class="logo"><img onclick="window.top.location.href=\'http://www.bablic.com\'" title="Bablic trial expired!" class="notice_icon" src="//uploads.bablic.com/resources/notice_icon.png"></li> {/?} </ul>',css:'body{ direction:ltr; } .notice_icon { width: 100%; } ul{ position:absolute; {{_.c.position.corner%8>3?"bottom:0":"top:0"}}; list-style: none; margin:0; {?!_.c.expanded} transition: height 300ms,width 300ms; -webkit-transition: height 300ms,width 300ms; -moz-transition: height 300ms,width 300ms; -ms-transition: height 300ms,width 300ms; -o-transition: height 300ms,width 300ms; {/?} background-color: {{_.c.colors[0]}}; overflow:hidden; left:0; right:auto; } ul.vertical{ width: {{_.sizeNum}}px; height: {{_.sizeNum}}px; padding:4px 6px; } ul.horizontal{ width: {{_.sizeNum+14}}px; height: {{_.sizeNum+8}}px; padding:0; } ul.corner2,ul.corner3,ul.corner4,ul.corner5{ right:0; left:auto; } a.item{ color:{{_.c.colors[1]}}; text-decoration:none; font-family:Arial; text-transform:uppercase; display:block; text-align:center; line-height:{{_.sizeNum}}px; white-space: nowrap; } ul.corner1,ul.corner2{ border-radius: 0 0 5px 5px; } ul.corner3,ul.corner4{ border-radius: 5px 0 0 5px; } ul.corner5,ul.corner6{ border-radius: 5px 5px 0 0; } ul.corner7,ul.corner8{ border-radius: 0 5px 5px 0; } ul li{ height: {{_.sizeNum}}px; width:{{_.sizeNum}}px; display:none; float:left; } ul.horizontal li{ padding:4px 7px; } ul.corner2 li,ul.corner3 li,ul.corner4 li,ul.corner5 li{ float:right; } ul.expanded li,ul li.selected{ display:block; } ul li a img{ height:100%; } ul li.logo a img{ width:70%; height:70%; //top:15%; //left:15%; padding:15%; position:relative; }',js:function(){var e=parent._bab||parent.bablic;e.trigger("widget");var t=e.$,n=t(document.getElementsByTagName("ul"));e.resizeWidget(n.width(),n.height());var r=Date.now(),a=function(n){if(!parent.isInClickElement||!parent.isInClickElement(n.clientX,n.clientY)){if(n.ctrlKey||n.shiftKey||n.altKey)return!0;var a=t(this).attr("data-locale");return!a||(n.preventDefault(),h&&!e.widgetConf.expanded&&e.Modernizr.touchevents&&(!i||Date.now()-o<500)?(o=null,!1):e.Modernizr.touchevents&&Date.now()-r<800?(o=null,!1):a?void e.redirectTo(a,null,n):e.logo())}n.preventDefault()};t.byTag("a",document).on("click",a);var i,o,l,c,s=parseInt(n.css("padding-top"))+parseInt(n.css("padding-bottom"))||0,u=parseInt(n.css("padding-left"))+parseInt(n.css("padding-right"))||0,d=n.children("li").length(),f=Math.ceil(d/15),b=n.height()||0,p=n.width()||0,h=d>1;e.widgetConf.widgetType.indexOf("Horiz")>-1?(l=(b-s)*f+s,c=(p-u)*Math.ceil(d/f)+u):(l=(b-s)*Math.ceil(d/f)+s,c=(p-u)*f+u),c||e.error("No width");var g,m,v=function(){i||(e.trigger("expand"),e.resizeWidget(c,l),n.css("height",l-s).css("width",c-u),t.byTag("li",document).css("display","block"),i=!0,o=Date.now(),g&&clearTimeout(g),g=null)},y=function(){if(e.trigger("collapse"),i=!1,o=null,n.css("height",b-s).css("width",p-u),t.byTag("li",document).css("display",""),e.Modernizr&&!e.Modernizr.csstransitions)return e.resizeWidget(p,b);g=setTimeout(function(){g=null,e.resizeWidget(p,b)},500)};if(window.expand=v,window.collapse=y,e.widgetConf.expanded)return e.resizeWidget(c,l),void n.css("height",l-s).css("width",c-u);window.onClickOutside=y,n.on("mouseenter",v).on("mouseleave",y),e.Modernizr.touchevents&&t.byTag("a",document).on("touchstart",function(e){n.off("mouseenter",v).off("mouseleave",y);var t=a.apply(this,[e]);return!1===t?v.apply(this,[e]):t});var _=function(){clearTimeout(m)};t.byTag("a",document).on("focus",function(){_(),v()}).on("blur",function(){_(),m=setTimeout(y,200)})}},labels:{html:'<div id="widget" class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.logo?"with-logo":""}} {{_.c.expanded?"expanded":""}} {{_.expired?"is-expired":""}}"> <div id="current"> <a target="_top" data-locale="{{_.s.key}}" href="{{_.s.href}}" title="{{_.s._name}}" style="font-size:{{(_.factor||1)*100}}%" aria-label="Remain in current language ({{_.s._name}})">{{_.s._name}}</a> {?_.expired} <img class="expired" onclick="handleExpired();" title="Bablic trial is expired!" src="//uploads.bablic.com/resources/notice_icon.png"> {/?} </div> <div id="list" class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.logo?"logo":"logo"}}"> {?_.c.logo && _.c.position.corner > 3} <a class="logo" href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" target="_blank"> <img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/logo/TWD-x{{_.c.size<4?15:35}}.png"/> </a> {/?} {@_.l} <a target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_._name}}" style="font-size:{{(_.factor||1)*100}}%" aria-label="Translate to {{_._name}}" >{{_._name}}</a> {/@} {?_.c.logo && _.c.position.corner < 3} <a class="logo" href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" target="_blank"> <img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/logo/TWD-x{{_.c.size<4?15:35}}.png"/> </a> {/?} {?_.expired} <img class="expired" onclick="handleExpired();" title="Bablic trial is expired!" src="//uploads.bablic.com/resources/notice_icon.png"> {/?} </ul> </div> ',css:'body { direction:ltr; font-family: sans-serif; color: {{_.c.colors[2]}}; font-weight:bold; width:400px; height:1000px; } div,a{ display:block; } a,a:visited,a:focus,a:active,.desktop a:hover{ color: inherit; text-decoration: none; } a:focus { outline: none; box-shadow: inset 0.5px 0 0 4px {{_.c.colors[1]}}; } #widget{ position:fixed; overflow:hidden; border-radius:{{_.c.size+1}}px; box-shadow: 0px 0px 1px 1px rgba(0,0,0,0.2); font-size:{{_.c.size*3+6}}px; line-height:{{_.c.size*9+15}}px; } #widget #list{ visibility:hidden; } #widget.active #list{ display:none; visibility:visible; } #widget.expanded.active #list{ display:block; } #widget.expanded #current{ display:none; } a{ text-align:center; padding:0 {{_.c.size*8+2}}px; min-width: {{_.c.size*10+10}}px; border-bottom:1px solid {{_.c.colors[3]}}; margin-bottom:-1px; position:relative; white-space:nowrap; } a:before{ content:""; display:block; position:absolute; top:0; left:0; right:0; bottom:0; background:{{_.c.colors[0]}}; opacity:0.95; z-index:-1; } a:hover:before { background:{{_.c.colors[1]}}; opacity:1; } a:focus:before { background:{{_.c.colors[1]}}; opacity: 1; } {?_.c.size>2} a.logo{ padding:0 23px; } {/?} a.logo:before{ background:rgb(1, 174, 218); } a.logo:after{ content: ""; background-image: url(https://uploads.bablic.com/flags/logo/unbabel.png); position: absolute; width: 56px; height: 13px; background-size: cover; bottom: 3px; left: 0px; right: 0; margin: auto; display:none; } {?_.c.size>2} a.logo:after{ display:block; } {/?} {?_.c.size==4} a.logo:after{ width: 62px; height: 13px; bottom: 4px; } {/?} {?_.c.size==5} a.logo:after{ width: 69px; height: 14px; bottom: 6px; } {/?} a.logo img{ height:{{_.c.size*4+3}}px; } #widget.corner1,#widget.corner2 { top:0; border-top-left-radius:0; border-top-right-radius:0; } #widget.corner1{ left:1px; } #widget.corner2{ right:1px; } #widget.corner5,#widget.corner6 { bottom:0; border-bottom-left-radius:0; border-bottom-right-radius:0; } #widget.corner5{ right:1px; } #widget.corner6{ left:1px; } .expired{ max-width: 20px; max-height: 20px; display: block; position: absolute; top: 0; right: 0; }',js:function(){var e,t,n=parent._bab||parent.bablic,r=n.$,a=document,i=r.byId("widget",a),o=n.widgetConf.expanded,l=r.byId("list",a),c=!o&&r.byId("current",a),s=l.children("a").length()>1,u="ontouchstart"in a.body,d=function(){return Date.now()};r.byTag("a",a).on("click",function(a){if(parent.isInClickElement&&parent.isInClickElement(a.clientX,a.clientY))a.preventDefault();else{if(a.ctrlKey||a.shiftKey||a.altKey)return!0;if(s&&!o&&u&&(!e||d()-t<500))return t=null,a.preventDefault(),!1;var i=r(this).attr("data-locale");i&&(a.preventDefault(),n.redirectTo(i,null,a))}});var f=function(){n.resizeWidget(e||o?A:y+2,e||o?T:_+1)},b=window.expand=function(){i.addClass("expanded"),e=!0,t=Date.now(),f()},p=window.collapse=function(){i.removeClass("expanded"),e=!1,t=null,f()};if(o)i.addClass("expanded");else{var h;window.onClickOutside=p,c.on("mouseover",b),l.on("mouseleave",p);var g=function(){u||(m(),h=setTimeout(p,200))},m=function(){u||clearTimeout(h)};c.children("a").on("focus",function(){u||(b(),l.children("a").get(0).focus())}).on("blur",g),l.children("a").on("focus",m).on("blur",g)}var v=null;r(a).on("touchstart",function(){v=d(),u=!0}),r(a).on("mousemove",function(){!u||v&&d()-v<500||(u=!1)});var y,_,A,T,L=1;!function e(){l.get(0).offsetHeight;o||c.get(0).offsetHeight,A=l.width(),T=l.height(),o||(l.get(0).style.display="none",l.get(0).offsetHeight,y=c.width(),_=c.height(),l.get(0).style.display="",l.get(0).offsetHeight),A&&T?(i.addClass("active"),a.body.style.width="auto",a.body.style.height="auto",f()):setTimeout(e,L++)}()}}};WIDGET_TYPES.labels2=WIDGET_TYPES.labels,WIDGET_TYPES.flagsHoriz=WIDGET_TYPES.letters=WIDGET_TYPES.lettersHoriz=WIDGET_TYPES.flags;var FOREACH_REGEX=/\{@([^\s]+)\}((?:.|\n)*?)\{\/@}/g,VAR_REGEX=/\{\{(.*?)\}\}/g,IF_REGEX=/\{\?(.*?)\}((?:.|\n)*?)\{\/\?\}/g;function renderTags(context,template){var saveUnderscore=WIN._;WIN._=context;var renderedHTML=template.replace(FOREACH_REGEX,function(a0,collectionVar,inner){for(var localesHTML=[],collection=eval(collectionVar),i=0;i<collection.length;i++){var item=collection[i];item.parent=context;var itemHTML=renderTags(item,inner);localesHTML.push(itemHTML)}return localesHTML.join("")}).replace(VAR_REGEX,function(a0,varName){return eval(varName)}).replace(IF_REGEX,function(a0,varName,inner){return eval(varName)?inner:""});return WIN._=saveUnderscore,renderedHTML}function renderWidget(e,t){var n=e||{},r=WIDGET_TYPES[n.widgetType||"flags"].html,a=bablic.Site?bablic.Site.charCodeAt(bablic.Site.length-1)%3:0,i={expired:bablic.expired,c:n,l:t,s:e.hideCurrent?t[0]:targetLocale,sizeNum:SIZES[n.size],size:n.size,p:LOC.protocol,keyword:{0:"Website translation",1:"Website localization",2:"Translate Your Website"}[a],rgba:function(e,t){var n=this.c.colors[e];n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return r?"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+","+t+")":n}},o=renderTags(i,r),l=renderTags(i,WIDGET_TYPES[n.widgetType].css),c=WIN.BABLIC_ZOOM||1;n.css&&(l+=n.css);var s=printFunction(WIDGET_TYPES[n.widgetType].js);return'<!DOCTYPE html>                <html style="overflow:hidden;direction:ltr;zoom:'+c.toFixed(4)+';" dir="ltr" class="'+(bablic.mobile?"mobile":"desktop")+'">                    <head>                        <style>'+l+'</style>                    </head>                <body style="margin:0">'+o+"<script>("+s+")();<\/script></body>        </html>"}var chromeBugTimeout=null;function injectWidget(e,t,n,r){var a=DOC.createElement("iframe");a.setAttribute("bablic-exclude","true"),a.id="bablicFlagsWidget",a.title="Change Language",a.style.position=e.fixed||n?"absolute":"fixed",a.style.width=400,a.style.height=1e3,a.style.margin=0,a.style.border="none",a.style.display="block",a.style.opacity=1,setZIndex(a);var i=e.distance+e.unit;switch(e.corner){case 1:a.style.top=0,a.style.left=i;break;case 2:a.style.top=0,a.style.right=i;break;case 3:a.style.top=i,a.style.right=0;break;case 4:a.style.right=0,a.style.bottom=i;break;case 5:a.style.right=i,a.style.bottom=0;break;case 6:a.style.left=i,a.style.bottom=0;break;case 7:a.style.left=0,a.style.bottom=i;break;case 8:a.style.top=i,a.style.left=0;break;default:bablic.error("This corner is not defined "+e.corner)}r&&(a.style+=r);var o=!1;"srcdoc"in a&&(a.srcdoc=t,o=!0,chromeBugTimeout&&clearTimeout(chromeBugTimeout),chromeBugTimeout=setTimeout(function(){chromeBugTimeout=null,a&&a.contentDocument&&a.contentDocument.body&&!a.contentDocument.body.innerHTML&&(a.srcdoc=t)},500));var l=DOC.body;if(!n||(l=DOC.querySelector(n))){var c=$("#bablicEditorSideBarWrapper,#bablicEditorSideBar");if(c.length()?l.insertBefore(a,c.get(0)):l.appendChild(a),!o)try{a.contentWindow.document.open(),a.contentWindow.document.write(t),a.contentWindow.document.close()}catch(e){setTimeout(function(){if(a.contentWindow)try{a.contentWindow.document.open(),a.contentWindow.document.write(t),a.contentWindow.document.close()}catch(e){a.contentWindow.location.href="data:text/html;charset=utf-8,"+encodeURIComponent(t)}},500)}return a}}function resizeWidget(e,t){var n=DOC.getElementById("bablicFlagsWidget");n&&(null!==t&&(n.style.height=t+"px"),null!==e&&(n.style.width=e+"px"))}var addedPadding=0,resizeInt;function updateScrollPadding(){var e=!!(Modernizr.touchevents&&$.window.width()<700||EDITOR&&"mobile"==EDITOR.device());e!=MOBILE&&(MOBILE=bablic.mobile=e,showFlags());var t=hasAutoHidingScrollBar()?detectScrollbarWidth():0;if(t!=addedPadding){var n=t-addedPadding;addedPadding=t;var r=DOC.getElementById("bablicFlagsWidget");if(r){var a=r&&r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.getElementsByTagName("ul")[0];if(a){var i=["top","right","bottom","left"][Math.floor(bablic.widgetConf.position.corner/2)];if("left"==i||"right"==i){var o=parseInt($(a).css("padding-"+i)||"");$(a).css("padding-"+i,o+n+"px"),$(r).css("width",parseInt($(r).width())+n)}}}}}function hasAutoHidingScrollBar(){if(!(WIN.innerHeight&&WIN.innerWidth&&DOC&&DOC.body))return!1;if(DOC.body.clientHeight<=WIN.innerHeight&&!(DOC.body.scrollHeight>WIN.innerHeight))return!1;if("hidden"==$("html").css("overflow")||"hidden"==$("html").css("overflow-y"))return!1;var e=DOC.getElementsByTagName("html")[0]||DOC.body;return!!e&&WIN.innerWidth==e.clientWidth}var scrollWidth=null;function detectScrollbarWidth(){if(null!==scrollWidth)return scrollWidth;var e=bablic.$('<div style="width:100px; height:100px; overflow:scroll; position:absolute; top:-99999px" class="bablic-scrollbar-measure" bablic-exclude></div>').appendTo("body");if(0==e.length)return 0;var t=e.get(0);return scrollWidth=t.offsetWidth-t.clientWidth,e.remove(),scrollWidth}hideWidget=function(){bablic.setMutationListen(!1),$("#bablicFlagsWidget").remove(),bablic.setMutationListen(!0)};var registerLoadEvent,flagsLoaded=!1,showFlagsInt;showFlags=function(e,t){if(LDATA&&bablic.locales){if(!e){if(!(e=LDATA.widget&&LDATA.widget[t||MOBILE?1:0]))return;WidgetSettings&&(e=$.extend({},e,WidgetSettings))}if(!bablic.hideWidget)if(DOC.body){showFlagsInt&&clearInterval(showFlagsInt),flagsLoaded=!0,bablic.widgetConf=e,$.each(bablic.locales,function(t,n){var r=LocaleSettings[n.key]||{};n._flag=r.flag||n.flag||"//uploads.bablic.com/flags/"+SIZES[e.size]+"/"+n.key+".png",n._flag.length<=5&&(n._flag="//uploads.bablic.com/flags/"+SIZES[e.size]+"/"+n._flag+".png"),n._name=r.name||n.name,n.href=r.href||bablic.getLink(n.key,null,null,n.legacy,n),n.selected=n.key==bablic.locale,n._prefix=n.prefix||n._name.substr(0,2),n.factor=/zh|hi/.test(n.key)?.66:1}),bablic.setMutationListen(!1),$("#bablicFlagsWidget").remove(),bablic.setMutationListen(!0);var n=$.grep(bablic.locales,function(e){var t=LocaleSettings[e.key];return!t||!t.hidden});if(0!=n.length&&(1!=n.length||n[0]!=targetLocale)){if(e.expanded){if(e.hideCurrent){var r;(r=n.indexOf(targetLocale))>-1&&n.splice(r,1)}}else(r=n.indexOf(targetLocale))>-1&&n.splice(r,1),e.hideCurrent?n[0].selected=!0:e.position.corner%8<4||"labels"!=e.widgetType?n.unshift(targetLocale):n.push(targetLocale);if(bablic.setMutationListen(!1),!e.show){if(!e.embedded)return bablic.setMutationListen(!0);var a=$(e.embedded);if(!a.length())return bablic.error("can't find target element "+e.embedded),bablic.setMutationListen(!0);var i=renderTags({c:e,l:n},EMBEDDED_WIDGET);return a.html(i),bablic.setMutationListen(!0)}if(targetLocale.engines.indexOf(5)>-1&&e.position){var o=e.position._corner||e.position.corner;e.position._corner=o,o=(11-o-1)%8+1,e.position.corner=o}else e.position._corner&&(e.position.corner=e.position._corner);var l=renderWidget(e,n),c=injectWidget(e.position,l,e.target,e.style);WIN.addEventListener&&(WIN.removeEventListener("resize",updateScrollPadding),WIN.addEventListener("resize",updateScrollPadding)),$.byTag("body").off("resize",updateScrollPadding).on("resize",updateScrollPadding),triggerEvent("afterWidgetRender",[c]),resizeInt&&clearInterval(resizeInt),resizeInt=setInterval(updateScrollPadding,2e3),bablic.setMutationListen(!0)}}else registerLoadEvent||flagsLoaded||($(DOC).on("DOMContentLoaded",function(){showFlags()}),showFlagsInt=setInterval(function(){showFlags()},500),registerLoadEvent=!0)}},$(DOC).on("click",function(e){var t=DOC&&DOC.getElementById("bablicFlagsWidget");t&&t.contentWindow&&t.contentWindow.onClickOutside&&(e.target&&"bablicFlagsWidget"==e.target.id||t.contentWindow.onClickOutside())}),getFlag=function(e,t){return t=t||(bablic.widgetConf?bablic.widgetConf.size:2),"//uploads.bablic.com/flags/"+SIZES[t]+"/"+e+".png"},bablic.showFlags=showFlags,bablic.resizeWidget=resizeWidget,EDITOR&&EDITOR.isInClickElement&&(window.isInClickElement=function(e,t){var n=DOC&&DOC.getElementById("bablicFlagsWidget");e+=n.offsetLeft,t+=n.offsetTop;var r=EDITOR.isInClickElement(e,t);return r&&EDITOR.onWidgetRightClick(n,e,t),r}),bablic.logo=function(){setTimeout(function(){$("#bablic_dialogContainer,#bablic_dialogContainer *").on("click",function(){e.css("opacity",0),setTimeout(function(){e.remove()},400)})},10);var e=$('<div id="bablic_dialogContainer" data-bablic-exclude style="background: #000; background: rgba(0,0,0,0.8); background: -webkit-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: -moz-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: -ms-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); filter: alpha(opacity = 80); position: fixed; right: 0; top: 0 !important; z-index: 999999999999999; overflow-x: auto; overflow-y: scroll; opacity:0; -webkit-transition: 400ms opacity ease; -moz-transition: 400ms opacity ease; transition: 400ms opacity ease; overflow: hidden; width:100%; height:100%; display:block; border-radius: 10px;"><div id="bablic_dialogTemplate" style="padding:0; top:0; bottom:0; box-shadow: 0 0 10px #bfc0c0, 0 0 10px #bfc0c0, 0 0 10px #bfc0c0, 0 0 10px #bfc0c0; border: 1px solid #0081a8; z-index:300; width:470px; height:120px;  max-width:90%; max-height:90%; position:absolute; left:0; right:0; margin:auto;"><div class="bablic-close-popup" style="position: absolute; cursor: pointer; display: block; background: url(\'//www.bablic.com/images/2/blue-x.png\') no-repeat; width:18px; height:18px; top:0; right:0;"></div><iframe class="bablic_iframe" style="width:100%; height:100%; border:0;" src="//www.bablic.com/banner?site='+bablic.Site+'" frameborder="no"></iframe></div></div>').appendTo("body");setTimeout(function(){e.css("opacity",1)},1)}}(bablic),es={stripNumRegex:/(\d+)(.*)/,needTransform:function(){return(originalLocale.dir&&"rtl"==originalLocale.dir)!=(targetLocale&&"rtl"==targetLocale.dir)?targetLocale.dir||"ltr":null},replace_css_attr:{"margin-left":"margin-right",left:"right","padding-left":"padding-right"},defs:{"margin-left":0,"margin-right":0,"padding-right":0,"padding-left":0,top:0,left:0,float:"","text-align":""},replace_css_value:{"text-align":{left:"right"},float:{left:"right"}},replace_attr_value:{},bidiElement:function(e,t){if(!e.bablic_bidid&&1==e.nodeType){e.bablic_bidid=!0;var n=this;e=$(e);$.each(n.replace_css_attr,function(t,r){var a,i=!1,o=!1;e.css(t)&&Number(/\d+/.exec(e.css(t)))&&(i=!0,a=e.css(t)),e.css(r)&&Number(/\d+/.exec(e.css(r)))&&(e.css(t,e.css(r)),e.css(r,n.defs[r]),o=!0),i&&(e.css(r,a),o||e.css(t,n.defs[t]))});var r=e.css("right")&&0===Number(/\d+/.exec(e.css("right"))+""),a=e.css("left")&&0===Number(/\d+/.exec(e.css("left"))+"");r?(e.css("left","0px"),a?e.css("right","0px"):e.css("right","auto")):a&&(e.css("right","0px"),e.css("left","auto")),$.each(this.replace_css_value,function(t,n){e.css(t)&&$.each(n,function(n,r){var a=!1;e.css(t)==n&&(a=!0),e.css(t)==r&&e.css(t,n),a&&e.css(t,r)})}),$.each(this.replace_attr_value,function(t,n){e.attr(t)&&$.each(n,function(n,r){var a=!1;e.attr(t)==n&&(a=!0),e.attr(t)==r&&e.attr(t,n),a&&e.attr(t,r)})})}},RTL_REGEX:/(left|right)/g,MARGIN_PADDING_REGEX:/(margin|padding)[\s\t\n\r]*:[\s\t\n\r]*([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))/g,bidiInline:function(e){if(!e.bablic_bidid&&1==e.nodeType){e.bablic_bidid=!0;var t=e.attributes.style;if(t){var n=t.nodeValue;n&&(n=(n=n.replace(this.RTL_REGEX,function(e){return"left"==e?"right":"left"})).replace(this.MARGIN_PADDING_REGEX,"$1:$2 $5 $4 $3"),t.nodeValue=n)}}}},bidiInline=function(e){return es.bidiInline(e)};var HasTextMarkup=bablic.integrateI18n||!1,LDATA;new_content={},usage_report={};var Engines={},processElement,savedContentNodes=[],jsNodes={},IS_PROPERTIES_SUPPORTED,addMarkupByCode,removeMarkupByCode,excludeByCode,includeByCode,readNodeAttr,setNodeAttr,readNodeAttrIf,setNodeAttrIf,domTraverse,mergeContentNodes,flushMergedNodes,getNodeValue,processNodeWithEngine,node_to_location,addOMGScript,triggerEvent,_forceTraverse=!1,translateAttr,EMPTY_REGEX=/^\s*$/,overrideHTMLAccess;!function(e){if(!e)throw new Error("Problem in loading");var t=/^(?:data\-)?bablic\-(.+)$/,n="https://www.bablic.com/dist";e.debugServer&&(n="//"+e.debugServer+"/dist"),processElement=e.processElement=function(t,n){if(LDATA&&LDATA.engines&&LDATA.content&&DOC.body&&Object.keys(LDATA.engines).length){WIN.angular&&(HAS_ANGULAR=!0);var r=savedContentNodes;savedContentNodes=[],domTraverse(t,e.UseInclude,n),mergeContentNodes(r),(LDATA.fallback||LDATA.report)&&send_ldata_report(),LDATA.usage&&send_usage_report()}};var r={};function a(e,t){if(!r[e])return!1;if("string"==typeof t)return!!(r[e].sels&&t in r[e].sels)&&(delete r[e].sels[t],!0);if(!r[e].el)return!1;var n=$.grep(r[e].el,function(e){return e[0]==t})[0];if(!n)return!1;var a=r[e].el.indexOf(n);return r[e].el.splice(a,1),!0}addMarkupByCode=function(e,t,n){e&&t&&(r[e]=r[e]||{},"string"==typeof t?(r[e].sels=r[e].sels||{})[t]=n:(r[e].el=r[e].el||{}).push([t,n]))},removeMarkupByCode=a,excludeByCode=function(e){a("include",e)||addMarkupByCode("exclude",e,!0)},includeByCode=function(e){a("exclude",e)||addMarkupByCode("include",e,!0)},IS_PROPERTIES_SUPPORTED=!0;try{DOC.createTextNode("stam").a=0}catch(e){IS_PROPERTIES_SUPPORTED=!1}function i(e){var n={};return e.attributes&&$.each(e.attributes,function(e,r){var a=t.exec(r.nodeName);a&&(n[a[1]]=r.value),"translate"===r.nodeName&&("no"===r.value?n.exclude=!0:"yes"===r.value&&(n.include=!0))}),("generated-text"in n||"generated-button"in n)&&(n.exclude=!0),n}readNodeAttr=IS_PROPERTIES_SUPPORTED?function(e,t,n){return 2==e.nodeType?n["ba_"+e.nodeName+"_"+t]:e[t]}:function(e,t,n){if(1==e.nodeType||9==e.nodeType)return e[t];n=n||e.parentNode||e.ownerElement;var r=e.nodeName;if("#text"==r){for(var a=0;e.previousSiblin;)e=e.previousSibling,a++;r="#text"+a}return n[r+"_b_"+t]},setNodeAttr=IS_PROPERTIES_SUPPORTED?function(e,t,n,r){if(2==e.nodeType)return r["ba_"+e.nodeName+"_"+t]=n;e[t]=n}:function(e,t,n,r){if(1!=e.nodeType&&9!=e.nodeType){r=r||e.parentNode||e.ownerElement;var a=e.nodeName;if("#text"==a){for(var i=0;e.previousSiblin;)e=e.previousSibling,i++;a="#text"+i}r[a+"_b_"+t]=n}else e[t]=n},setNodeAttrIf=IS_PROPERTIES_SUPPORTED?setNodeAttr:function(){},readNodeAttrIf=IS_PROPERTIES_SUPPORTED?readNodeAttr:function(){};var o=/(\w+)(?:=["']?([^"']*)["']?)?/g;function l(e){for(var t,n={};t=o.exec(e);)n[t[1]]=t[2];return n}var c={TEXTAREA:1,SVG:1,IFRAME:1};function s(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var u=/^\s*(\/?)bablic((?:.|\n)*)/;domTraverse=function(t,n,a){if(t&&(triggerEvent("beforeChange"),!1!==triggerEvent("beforeProcess",[t]))){e.setMutationListen(!1);var o=t,d=function(e,t){if(!e.parentNode)return{};if(e.parentNode.bablicTotalMarkup)return e.parentNode.bablicTotalMarkup;for(var n={exclude:t},r=$(e).parents(),a=0;a<r.length;a++){var o=r[r.length-1-a];if(o.tagName in c||o.getAttribute&&"true"==o.getAttribute("contenteditable"))return null;var l=i(o);for(var s in l){var u=l[s];"exclude"==s?u=!0:"include"==s&&(s="exclude",u=!1),n[s]=u}}return e.parentNode.bablicTotalMarkup=n,n}(t,n);if(d){var f=function(e){for(var t=[],n=e;n.parentElement;){var r=s(n.parentNode.childNodes,n);t.unshift(r),n=n.parentElement}return t}(t);!function(){for(var e in r){var t=r[e];if(t){var n=t.sels;if(n)for(var a in n)try{$(a).attr("bablic-"+e,n[a]||!0).addClass("bablic-code-markup")}catch(e){}var i=t.el;if(i)for(var o=0;o<i.length;o++)$(i[o][0]).attr("bablic-"+e,i[o][1]||!0).addClass("bablic-code-markup")}}}();var b=d.exclude?null:t,p=d.exclude?t:null,h=[],g=[],m=[],v={_hash:!0},_=[],A=[];for(var T in d){var L=d[T];"exclude"!=T&&(m.push({key:T,value:L,node:t}),v[T]=v[T]||[],v[T].push(L))}!function(t){var n=t;for(;n.previousSibling;)n=n.previousSibling;for(;n!=t;){if(8==n.nodeType){var r=u.exec(n.nodeValue);if(r)if(r[1])_.length?R(_.pop()):e.error("Cant find start comment tag");else{_.push(n);var a=l(r[2]);I(n,a)}}n=n.nextSibling}}(t);var E=null;if(!a&&void 0!==CompositeEngine&&LDATA.engines[Text.index]){"HTML"==t.tagName?CompositeEngine.mapSegments(document.body):CompositeEngine.mapSegments(t);var C=t;do{if(readNodeAttr(C,"_seg")){E=C,b==t&&(b=C),p==t&&(p=C),o=t=C;break}C=C.parentNode}while(C.parentNode)}if(a){for(var N=0,D=t.parentElement,x=0;x<D.childNodes.length;x++)if(D.childNodes[x]==t){N=x;break}k(N),B()}else for(var S=null,w=0;null!=o;){var O=k(w);if(O||!(o.shadowRoot&&o.shadowRoot.hasChildNodes()||o.hasChildNodes())||o.tagName in c||o.getAttribute&&"true"==o.getAttribute("contenteditable")||"phrase"in v||"exclude"in v)if(o.nextSibling&&o!=t)O||B(),O||w++,o=o.nextSibling;else{for(;null==o.nextSibling&&o!=t;)O||B(),O=!1,o=o.host&&o.host instanceof Node&&o.host!==o?o.host.hasChildNodes()?o.host.firstChild:o.host:o.parentNode,w=f[f.length-1]||0;if(B(),o==t)break;o=o.nextSibling,w++}else o=o.shadowRoot&&o.shadowRoot.hasChildNodes()?o.shadowRoot.firstChild:o.firstChild,w=0}e.setMutationListen(!0)}else e.setMutationListen(!0)}function I(e,t){for(var n in t){var r=t[n];"exclude"==n?p||(p=e,b&&(h.push(b),b=null)):"include"==n?b||(b=e,p&&(g.push(p),p=null)):(m.push({node:e,key:n,value:r}),v[n]=v[n]||[],v[n].push(r))}}function R(e){for(e==b&&(b=null,p=g.length?g.pop():null),e==p&&(p=null,b=h.length?h.pop():null);m.length&&m[m.length-1].node==e;){var t=m.pop();v[t.key].pop(),v[t.key].length||delete v[t.key]}}function k(t){if(3===(n=o).nodeType&&(!n.nodeValue||EMPTY_REGEX.test(n.nodeValue)))return!0;var n;if(f.push(t),1==o.nodeType){if(HAS_ANGULAR&&(e.version<=3.2||3.4==e.version)&&($(o).hasParent("[ng-controller]:not(.ng-scope),[ng-module]:not(.ng-scope)")||$(o).parent().is("[ui-view]")&&!$(o).is(".ng-scope")))return f.pop(),!0;readNodeAttr(o,"_seg")&&(E&&A.push(E),E=o);a=i(o);I(o,a)}else{if(8!=o.nodeType)return;var r=u.exec(o.nodeValue);if(!r)return;if(r[1])_.length?R(_.pop()):e.error("Cant find start comment tag");else{_.push(o);var a=l(r[2]);I(o,a)}}}function B(){var t;if(b?t=function t(n,r,a,i,o,l){n._babSt&&delete n._babSt;if(HAS_ANGULAR&&(n.nodeValue&&n.nodeValue.indexOf("{{")>-1||i==n&&(c=n.innerHTML,(c||"").replace(/<!\-\-.*\-\->/g,"")).indexOf("{{")>-1))return;var c;var s=!1;if(l||_forceTraverse||readNodeAttr(n,"bablic_last_value",a)!==getNodeValue(n,i===n)){var u=r||{};if(r&&r._hash)for(var d in u={},r){var f=r[d];f&&f.length&&(u[d]=f[f.length-1])}for(var d in LDATA.engines){var b=processNodeWithEngine(n,a,u,d,i,o);s=s||b}setNodeAttr(n,"bablic_last_value",getNodeValue(n,i===n),a)}if(1==n.nodeType&&n.attributes){o&&o.push(0);for(var p=0;p<n.attributes.length;p++){var h=(n.attributes[p].nodeName||"").toLowerCase()in y;if(!h&&HasTextMarkup&&(h=e.integrateI18n.qualify(n.attributes[p].value)),h){o&&(o[o.length-1]=p);var b=t(n.attributes[p],u,n,null,o,l);s=s||b}}o&&o.pop()}return s}(o,v,1==o.nodeType?o:o.parentNode,E,f,a):(o._babEx=!0,LDATA.bidi&&1==o.nodeType&&Bidi.exclude(o)),f.pop(),1==o.nodeType){if(t||o==S){if(o._babLis)try{o._babLis()}catch(t){e.error(t)}S=o.parentNode}E&&E==o&&(E=A.pop()),R(o)}else t&&(S=o.parentNode)}};var d=$("<div></div>");function f(t){if(h.length){var n=t&&WIN.omg&&!!omg.initContent2,r={};for(var a in LDATA.content)LDATA.content[a]&&LDATA.content[a].toLowerCase&&(r[LDATA.content[a].toLowerCase()]=a);if(e.preview)for(var a in PREVIOUSLY_USED_CONTENT)PREVIOUSLY_USED_CONTENT[a]&&PREVIOUSLY_USED_CONTENT[a].toLowerCase&&(r[PREVIOUSLY_USED_CONTENT[a].toLowerCase()]=a);for(var i=[],o=0;o<h.length;o++)i=i.concat(h[o]);h=[];var l=[];i=$.grep(i,function(e){if(!e.content)return!0;var t,n=(t=e.content.toLowerCase())&&-1!=t.indexOf("&")?d.text(t).html():t;return!(n in r&&r[n]!=e.hash)||(e.hash=r[n],l.push(e),!1)});var c={},s={};savedContentNodes.forEach(function(e){var t=!e.node._br&&!DOC.contains(e.element),n=e.hash+"_"+e.node.nodeType;if(t)return c[n]=c[n]||[],void c[n].push(e);s[n]=e,i.push(e)});for(o=0;o<l.length;o++){var u,f=l[o].hash,b=l[o].node,p=f+"_"+b.nodeType,g=l[o].element,m=c[p];if(m&&m.length)u=m.pop();else{var v=s[p];if(v)u=$.extend({},v);else{var y=jsNodes[f];if(!y)continue;u=$.extend({},y)}}u.node=b,u.element=g,i.push(u)}if(n){var _=omg.initContent2(i);_&&_.forEach(function(e){i.splice(i.indexOf(e),1)})}savedContentNodes=i}}flushMergedNodes=function(){b&&(clearTimeout(b),b=null,f(!0))};var b,p,h=[];mergeContentNodes=function(e){if(savedContentNodes.length){var t=savedContentNodes;if(savedContentNodes=e,h.push(t),b){if(Date.now()-p>2e3)return;clearTimeout(b)}else p=Date.now();b=setTimeout(function(){b=null,f(!0)},300)}else savedContentNodes=e},e._pull=function(){return f(),savedContentNodes};var g={SCRIPT:1,STYLE:1,LINK:1};getNodeValue=function(e,t){return 1==e.nodeType?e.tagName in g?"":t||e.attributes["bablic-block"]||e._babCe?e.textContent:$.map(e.childNodes,function(e){return 3==e.nodeType?e.nodeValue:null}).join(" "):2==e.nodeType?e.value:e.nodeValue};var m="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function v(e){if(!e)return"";for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=m[e[n]];return t.join(".")}overrideHTMLAccess=function(e,t){e._babOv&&(e._babOv=!0),function(e,t,n,r){var a=Object.getPrototypeOf(e);if(e[t]){for(;!Object.getOwnPropertyDescriptor(a,t);)a=Object.getPrototypeOf(a);var i=Object.getOwnPropertyDescriptor(a,t),o={};n&&(o.get=function(){return n.call(this,i.get)}),r&&(o.set=function(e){r.call(this,e,i.set)}),Object.defineProperty(e,t,o)}}(e,"innerHTML",t,function(e,t){t.call(this,e)})};var y={value:"",src:"",srcset:"",placeholder:"",alt:"",title:"",content:"",href:"","data-before":"","data-after":"",label:"","aria-label":1};function _(e,t){return function(){try{t.apply(e)}catch(e){console.error(e.stack)}}}function A(t,n){if(t._babE&&t._babE[n])return _(t,t._babE[n]);if(1!=t.nodeType)return t.parentElement?A(t.parentElement,n):void 0;if(t.matches&&e._sels&&e._sels[n])for(var r=e._sels[n],a=0;a<r.length;a++)if(t.matches(r[a][0]))return _(t,r[a][1])}translateAttr=function(e,t){e&&(e=e.toLowerCase(),!1!==t?y[e]="":delete y[t],Text.addAttr(e,t))},processNodeWithEngine=function(t,n,r,a,i,o,l){var c=A(t,"pre"+a),s=A(t,"post"+a);c&&c();var u=Engines[a].qualifier.call(Engines[a],t,targetLocale,originalLocale,r,n,i);if(!u)return s&&s();r["exclude-unless"]&&(u=u.filter(function(e){return e.content===r["exclude-unless"]}));var d=[],f=!$.isArray(u);if(f)u=[u];else if(!u.length)return s&&s();var b,p=!1,h=2!=t.nodeType&&e.preview&&r.tags&&$.grep(r.tags.trim().toLowerCase().split(/\s*,\s*/),function(e){return e}),g=$.map(u,function(t){if(!t.id)return p=!0,t.content;if("translated"in r)return t.content;var n=a+"_"+t.id;if(e.preview){var i=(h||[]).concat(t.tags||[]);t.tags=i;var o=!1;i.forEach(function(e){TAGS[n]&&TAGS[n][e]||(o=!0,TAGS[n]=TAGS[n]||{},TAGS[n][e]=1)}),o&&t.a&&delete LDATA.content[n],t.a&&t.key&&!BY_KEYS[t.key]&&delete LDATA.content[n]}if(!(n in LDATA.content)){var l=!1;if(t.bc)for(var c=0;c<t.bc.length;c++)if(a+"_"+t.bc[c]in LDATA.content){n=a+"_"+t.bc[c],l=!0,t.bcHash=t.bc[c];break}if(!l)return d.push(t),t.wrapped&&(p=!0),t.content}var s=LDATA.content[n];return"__empty__"!=s&&s!=t.content?(usage_report[n]=(usage_report[n]||0)+1,p=!0,s):t.content});(LDATA.edit||SUPPORT_AJAX_NAVIGATE&&"1"==a)&&(b=1==t.nodeType?$(t).html():2==t.nodeType?t.value:t.nodeValue);var m,y=!p&&$.grep(u,function(e){var t=e.q||e.d||e.t;return!!t&&(!!e.vars&&t[0]!=e.vars[0])}).length;if((p||y||u[0].i18n)&&!n._babIg&&(Engines[a].replacer.call(Engines[a],t,f?g[0]:g,f?u[0]:u,targetLocale,originalLocale,r,n,i),2==t.nodeType&&attributeObserver(n,t)),s&&s(),l||!d.length||readNodeAttr(t,"bablic_replaced"+a,n)&&getNodeValue(t)===readNodeAttr(t,"bablic_replaced_value"+ +a,n)||($.each(d,function(i,l){if(LDATA.edit||l.a){new_content[a]=new_content[a]||{},m=m||v(o);var c=new_content[a][l.id]||{content:l.content,elements:[],nodes:[],markup:{},key:l.key,i:T++,a:!1,h:l.h,path:m,tags:{},v:l.vars};if(e.preview){var s=l.tags||[];$.each(s,function(e,t){c.tags[t]=1}),"force"in r&&(c.tags.force=1)}l.h||delete c.h,l.bc&&(c.bc=l.bc),c.a=c.a||l.a,c.nodes.push(t),c.elements.push(n),new_content[a][l.id]=c}}),!0),(LDATA.edit||SUPPORT_AJAX_NAVIGATE&&LDATA.ajaxWidget)&&(!readNodeAttr(t,"bablic_replaced"+a,n)||getNodeValue(t)!==readNodeAttr(t,"bablic_replaced_value",n))){if(2==t.nodeType){var _=t.parentNode||n;_.bablic_attrs=_.bablic_attrs||[],_.bablic_attrs.push(t)}$.each(u,function(i,l){(LDATA.edit||p||y||l.a)&&("1"==a&&1==t.nodeType&&(l.oVal=Engines[a].oVal,l.tree=Engines[a].tree),n&&n._fake?jsNodes[a+"_"+(l.bcHash||l.id||"")]={hash:a+"_"+(l.bcHash||l.id||""),content:l.content,original:r.translated||l.content,vars:l.vars,tags:l.tags,d:l.d,t:l.t,c:l.c,h:l.h,completeOriginal:b,translation:g[i],restore:function(t,n){(p||y)&&(e.setMutationListen(!1),Engines[a].restore&&(c&&c(),Engines[a].restore(this,t,n,u,g,r),s&&s()),setNodeAttr(t,"bablic_last_value",getNodeValue(t),n),e.setMutationListen(!0))},replace:function(t,n,o,l){e.setMutationListen(!1),p=!0,this.restore(t,n),g[i]=o,c&&c(),Engines[a].replacer.call(Engines[a],t,f?g[0]:g,f?u[0]:u,targetLocale,originalLocale,r,n,null,l),s&&s(),setNodeAttr(t,"bablic_last_value",getNodeValue(t),n),e.setMutationListen(!0)},engine:Engines[a]}:(m=m||v(o),savedContentNodes.push({node:t,composite:l.tree,content:l.content,oVal:l.oVal,isAttr:2==t.nodeType,element:1==t.nodeType?t:t.parentNode||n,hash:a+"_"+(l.bcHash||l.id||""),original:r.translated||l.content,vars:l.vars,tags:l.tags,path:m,a:l.a,d:l.d,t:l.t,c:l.c,h:l.h,fi:l.fi,completeOriginal:b,translation:g[i],restore:function(t,n){(p||y)&&(e.setMutationListen(!1),Engines[a].restore&&(c&&c(),Engines[a].restore(this,t,n,u,g,r),s&&s()),setNodeAttr(t,"bablic_last_value",getNodeValue(t),n),e.setMutationListen(!0))},replace:function(t,n,o,l){e.setMutationListen(!1),p=!0,this.restore(t,n),g[i]=o,c&&c(),Engines[a].replacer.call(Engines[a],t,f?g[0]:g,f?u[0]:u,targetLocale,originalLocale,r,n,null,l),s&&s(),setNodeAttr(t,"bablic_last_value",getNodeValue(t),n),e.setMutationListen(!0)},engine:Engines[a]})))})}return 0==d.length&&(setNodeAttr(t,"bablic_replaced"+a,!0,n),setNodeAttr(t,"bablic_replaced_value",getNodeValue(t),n)),p};node_to_location=function(e,t,n){if(!t||1!=t.nodeType)return{};t.setAttribute("bablic-content-id",n)},addOMGScript=function(){if(!WIN.omg&&!e.previewMode){e.setMutationListen(!1);var t=DOC.getElementsByTagName("SCRIPT")[0];if(LDATA.edit){var r=DOC.createElement("SCRIPT");r.src=n+"/js/omg3.min.js",t.parentNode.insertBefore(r,t);var a=DOC.createElement("LINK");a.href=n+"/css/omg3.css",a.rel="stylesheet",a.type="text/css",a.className="bablicOMGStyle",a.setAttribute("bablic-exclude","true"),(t=DOC.getElementsByTagName("HEAD")[0]).appendChild(a)}e.setMutationListen(!0)}};var T=0;triggerEvent=function(e,t){var n;if(WIN.CustomEvent){var r=[];try{t&&(r=JSON.parse(JSON.stringify(t)))}catch(e){}"function"==typeof CustomEvent?n=new CustomEvent("bablic"+e,{detail:r}):(n=document.createEvent("CustomEvent")).initCustomEvent("bablic"+e,!1,!1,r)}else DOC.createEvent?(n=DOC.createEvent("HTMLEvents")).initEvent("bablic"+e,!0,!0):(n=DOC.createEventObject()).eventType="bablic"+e;if(DOC.createEvent)DOC.dispatchEvent(n);else try{DOC.fireEvent("on"+n.eventType,n)}catch(e){}return Mutation.emit(e,t)}}(bablic);var CompositeEngine=function(){var e=/left|right/,t=/[^-\s]/,n=null,r={B:5,STRONG:5,U:6,A:10,IMG:11,BUTTON:12},a=0,i={STRONG:1,B:1,U:1,H1:1,H2:1,H3:1,H4:1,H5:1,H6:1,H7:1},o=function(e){this.text=e};o.prototype.isEmpty=function(){return!t.test(this.text)},o.prototype.toString=function(){return this.text},o.prototype.getType=function(){return""};var l=function(){};l.prototype.toString=function(){return"<br>"},l.prototype.getType=function(){return"BR"},l.prototype.isEmpty=function(){return!0};var c=function(e){this.text=e};c.prototype.getType=function(){return"COMMENT"},c.prototype.setIndex=function(e){this.i=e},c.prototype.isEmpty=function(){return!0},c.prototype.toString=function(){return"\x3c!-- comment"+(this.i||"")+" --\x3e"};var s={SCRIPT:1,SVG:1,STYLE:1},u=function(e,t){this.element=e,this.children=[],this.block=e.hasAttribute("bablic-block")||e.hasAttribute("data-bablic-block"),e.hasAttribute("bablic-exclude")&&"false"!==e.getAttribute("bablic-exclude")?(this.excluded=!0,this.var=!0):e.hasAttribute("data-bablic-exclude")&&"false"!==e.getAttribute("data-bablic-exclude")?(this.excluded=!0,this.var=!0):e.tagName in s?this.excluded=!0:t&&this.block&&(this.excludedChild=!0),bablic.mobile&&isSafari&&"A"==e.tagName&&/^([0-9+\s]{7,30})$/.test(e.innerHTML.trim())&&(this.pass=!0)};u.prototype.append=function(e){this.excluded||this.excludedChild||this.children.push(e)},u.prototype.setIndex=function(e){this.pass||this.getType()in i||(this.i=e)},u.prototype.getType=function(){return this.element.tagName};var d=!1;function f(e){for(var t=e.tagName.replace(/\d+$/,""),n="H"==t?e.tagName:t,r=DOC.createElement(n),a=0;a<e.attributes.length;a++)try{r.setAttribute(e.attributes[a].name,e.attributes[a].value)}catch(e){}for(var i=e.firstChild;i;){var o=i.nextSibling;1==i.nodeType?r.appendChild(f(i)):r.appendChild(i),i=o}return r}u.prototype.isEmpty=function(){if(this.excludedChild&&d)return!0;if(!this.children.length)return!0;for(var e=0;e<this.children.length;e++){var t=this.children[e];if(!(t instanceof l||t instanceof c)&&!t.isEmpty())return!1}return d},u.prototype.getTrimTop=function(){if(this.excluded)return 0;for(var e=0,t=0;t<this.children.length;t++)if(!this.children[t].isEmpty()||this.children[t].block||this.children[t].var){e=t;break}return e},u.prototype.getTrimBottom=function(e){var t=e;if(this.excluded)return t;for(var n=this.children.length-1;n>e;n--)if(!this.children[n].isEmpty()||this.children[n].block||this.children[n].var){t=n;break}return t},u.prototype.countTags=function(e){if(!this.excluded&&!this.isEmpty()){var t=this._tt=this.getTrimTop(),n=this._tb=this.getTrimBottom(t);if(!(n<t||this.pass)){for(var i,s=0,d=0,f=[],b=t;b<=n;b++){var p=this.children[b];if(p){if(p instanceof u){var h=p.getType();p.pass||f.push(h),p.countTags(e)}else p instanceof c&&(e.COMMENT=(e.COMMENT||0)+1);d||s>1||p instanceof l||p instanceof c||(p instanceof o?p.isEmpty()||d++:p.isEmpty()||(s++,i=p))}}if(this._nee=s,this._fce=i,this._net=d,s<=1&&0==d)if(i){if(this.singleChild=i,f[0]){var g=r[f[0]]||0,m=this.getType();g>(r[m]||a)?(this.skip=!0,e[f[0]]=(e[f[0]]||0)+1):(this.singleChild.skip=!0,e[m]=(e[m]||0)+1)}}else this.skip=!0;else $.each(f,function(t,n){e[n]=(e[n]||0)+1})}}},u.prototype.setIndexes=function(e,t){if(!this.excluded&&!(0==this._nee&&0==this._net||this._tb<this._tt)){if(this.singleChild){if(this.skip&&!this.singleChild.skip)if(e[i=this.singleChild.getType()]>1){var n=t[i]=(t[i]||0)+1;this.singleChild.setIndex(n)}return this.singleChild.setIndexes(e,t)}for(var r=this._tt;r<=this._tb;r++){var a=this.children[r];if(a instanceof u||a instanceof c){var i;if(a.skip||a.pass){if(bablic.version<=3.6&&3.5!=bablic.version)continue}else if(e[i=a.getType()]>1){n=t[i]=(t[i]||0)+1;a.setIndex(n)}a instanceof u&&a.setIndexes(e,t)}}}},u.prototype.toString=function(){if(this.hidden)return"";var e=this.skip||this.pass,t=this.getType().toLowerCase(),n=e?null:t;if(n&&this.i&&(n+=this.i),this.excluded||this.isEmpty())return e?"":"<"+n+"/>";var r=this._tt,a=this._tb;if(a<r)return e?"":"<"+n+"/>";if(this.singleChild)return e?this.singleChild.toString():"<"+n+">"+this.singleChild.toString()+"</"+n+">";for(var i=new Array(a-r+1),o=r;o<=a;o++){var l=this.children[o];i.push(l.toString())}return e?i.join(""):"<"+n+">"+i.join("")+"</"+n+">"},u.prototype.collectChildren=function(e,t,n){if(!this.excluded){if(this.singleChild){if(this.skip&&(this.singleChild._p=this._p||this),this.skip&&!this.singleChild.skip)t[l=this.singleChild.getType()]=t[l]||[],t[l].push(this.singleChild),this.singleChild.i&&(l+=this.singleChild.i),e[l]=e[l]||[],this.singleChild._ordinal=n++,e[l].push(this.singleChild);return this.singleChild.collectChildren(e,t,n)}if(!this.isEmpty()){var r=this._tt,a=this._tb;if(!(a<r))for(var i=r;i<=a;i++){var o=this.children[i];if(o instanceof u||o instanceof c){var l;if(!o.skip)o._ordinal=n++,t[l=o.getType()]=t[l]||[],t[l].push(o),o.i&&(l+=o.i),e[l]=e[l]||[],e[l].push(o);o instanceof u&&o.collectChildren(e,t,n)}}}}},u.prototype.getChildren=function(e){var t={};return this.collectChildren(t,{},0),(t[e]||[]).map(function(e){return e.element}).filter(function(e){return e})},u.prototype.copyFromElement=function(e,t,n){if(!this.excluded){if(this.singleChild&&this.singleChild.skip)return this.singleChild.copyFromElement(e,t,n);var r=this._tt,a=this._tb;if(!(a<r)){this.element.hasChildNodes()||this.element.appendChild(DOC.createTextNode(""));for(var i=this.element.firstChild,o=this.element.lastChild,l=0;l<r&&i.nextSibling;l++)i=i.nextSibling;for(l=this.children.length-1;l>a&&o.previousSibling;l--)o=o.previousSibling;for(var c=this.element,s=r,d=function(e){var t,n=!1;(t=b?b.nextSibling:c.firstChild)?1===e.nodeType?t!==e&&("BR"!==t.tagName||"BR"!==e.tagName?e.contains(c)?n=!0:c.insertBefore(e,t):e=t):t.nodeType===e.nodeType?(t.nodeValue!==e.nodeValue&&setNodeValue(t,e.nodeValue),e=t):e.contains(c)?n=!0:c.insertBefore(e,t):c.appendChild(e),n||(b=e)},b=i.previousSibling,h=o.nextSibling,g=e.firstChild;g;){if(3==g.nodeType)d(DOC.createTextNode(g.nodeValue));else if(8==g.nodeType){var m=(t[g.nodeValue||"COMMENT"]||[]).shift();m=m&&m.text,d(DOC.createComment(m||g.nodeValue))}else if("BR"==g.tagName)d(DOC.createElement("BR"));else{var v;if(n){var y=g.tagName.replace(/\d+$/,""),_=t[g.tagName];(v=_&&_.shift())||(v=(_=t[y])&&_.shift()),_&&!_.length&&delete t[g.tagName]}else{for(;s++,this.children[s-1]&&!(this.children[s-1]instanceof u););v=this.children[s-1]}if(!v){var A=f(g);g=g.nextSibling,d(A);continue}var T=v._p&&v._p!=this&&!v._p.element.contains(this.element)?v._p.element:v.element;T.removeAttribute("hidden"),v.hidden=!1,p(T,g),v.copyFromElement(g,t,n),d(T)}g=g.nextSibling}if((b=b||c.firstChild)&&b!=h)for(var L=b.nextSibling;L&&L!=h;){var E=L;L=L.nextSibling,1===E.nodeType&&"BR"!==E.tagName?(E.hidden=!0,E.setAttribute("hidden","")):c.removeChild(E)}}}};var b=/[<'">]|^[\d]/;function p(e,t){for(var n=0;n<t.attributes.length;n++)b.test(t.attributes[n].name)||e.setAttribute(t.attributes[n].name,t.attributes[n].value)}var h={TEXTAREA:1,SVG:1,STYLE:1,SCRIPT:1,CODE:1,OBJECT:1,VIDEO:1,AUDIO:1,CANVAS:1,IFRAME:1};function g(e,t,n){for(var r=e;null!=r;){var a=t&&t(r);if(a||!(r.shadowRoot&&r.shadowRoot.hasChildNodes()||r.hasChildNodes())||r.tagName&&r.tagName.toUpperCase()in h)if(r.nextSibling&&r!=e)a||n&&n(r),r=r.nextSibling;else{for(;null==r.nextSibling&&r!=e;)a||n&&n(r),a=!1,r=r.host&&r.host instanceof Node&&r.host!==r?r.host.hasChildNodes()?r.host.firstChild:r.host:r.parentNode;if(a||n&&n(r),r==e)break;r=r.nextSibling}else r=r.shadowRoot&&r.shadowRoot.hasChildNodes()?r.shadowRoot.firstChild:r.firstChild}}var m={};function v(t){if("boolean"==typeof t._babDisp)return t._babDisp;var r=$(t),a=r.css("display"),i=a.indexOf("inline")>-1;return i||"none"!==a||(i=function(e){if(!DOC.body)return!0;var t=e.tagName;if(t in m)return m[t];var n=DOC.createElement(t);DOC.body.appendChild(n);var r=($(n).css("display")||"").indexOf("inline")>-1;return DOC.body.removeChild(n),m[t]=r,r}(t)),t._babDisp=!!i&&(n||!e.test(r.css("float"))),t._babDisp}return{mapSegments:function(e){for(null===n&&(n=function(){var e=document.createElement("SPAN");e.setAttribute("bablic-exclude",""),e.style.visibility="hidden",e.style.float="left",document.body.appendChild(e);var t=$(e).css("display");return document.body.removeChild(e),"block"===t}()),bablic.version<3.7||bablic.version>=9?(h={TEXTAREA:1,SVG:1},i={},d=!1):d=!0,bablic.version<3.8&&bablic.version>=9&&(a=void 0);e.parentNode&&"BODY"!=e.tagName&&!readNodeAttr("_seg")&&v(e);)e=e.parentNode;var r,o=[],l=[];g(e,function(e){if(1==e.nodeType&&"BR"!=e.tagName){var t=e.hasAttribute("bablic-block"),n=t&&e.getAttribute("bablic-block");if(t&&"false"!==n)return setNodeAttr(e,"_seg",!0),r&&(r.text=!0),void l.push(e);if(!l.length){if("OPTION"!=e.tagName&&v(e)||"false"===n){if(!r)return}else o=[];r={text:!1,elements:!1,composite:!1},o.push(r)}}},function(e){if(r)if(l.length)l[l.length-1]===e&&l.pop();else if(3==e.nodeType){if(r.composite)return;t.test(e.nodeValue)&&(r.text=!0,r.elements&&(r.composite=!0))}else{if(1!=e.nodeType)return;if("BR"==e.tagName)return void(r.text&&(r.elements=!0));var n=o.pop();(r=o[o.length-1])?n.composite?r.composite=!0:n.text&&(r.text?r.composite=!0:(r.text=!0,r.elements=!0)):n.composite&&setNodeAttr(e,"_seg",!0)}})},buildDOMTree:function(e){var t,n=[];return g(e,function(r){var a=n[n.length-1];if(3==r.nodeType){var i=new o(r.nodeValue);a.append(i)}else if(8==r.nodeType){var s=new c(r.nodeValue);a.append(s)}else if(1==r.nodeType)if("BR"==r.tagName){var d=new l;a.append(d)}else{if(r!=e){var f=new u(r,t);a.append(f),a=f}else a=t=new u(r);n.push(a)}},function(e){1==e.nodeType&&"BR"!=e.tagName&&n.pop()}),t},replaceDOMTree:function(e,t){var n=DOC.createElement("div");try{for(var r=t.replace(/<([^>]*?)\/>/g,"<$1></$1>");;){for(var a,o=/<(?:!--\s*(.*?)\s*--|(\/?)(.*?)(\/?))>/g,l=!1;a=o.exec(r);)if(a[3]&&a[3].indexOf("<")>-1){r=r.substr(0,a.index)+"&lt;"+r.substr(a.index+1),l=!0;break}if(!l)break}n.innerHTML=r}catch(e){return void console.error("Bad translation HTML",t)}var c={},s={};e.collectChildren(c,s,0);for(var u={},d=n.firstElementChild;d&&d!==n;){var f=d.tagName;if("BR"!=f){var b=f.replace(/\d+$/,"");u[b]=(u[b]||0)+1}if(d.firstElementChild)d=d.firstElementChild;else{for(;!d.nextElementSibling&&d!=n;)d=d.parentElement;if(d==n)break;d=d.nextElementSibling}}var p=!0;for(var h in u)if(!(h in i)&&u[h]!==(s[h]||[]).length){p=!1;break}e.copyFromElement(n,c,p)},getTreeContent:function(e){var t={};return e.skip=!0,e.countTags(t),e.setIndexes(t,{}),e.toString()}}}(),__spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)r[a]=i[o];return r};!function(e){var t,n,r,a;(n=t||(t={}))[n.TIME=1]="TIME",n[n.DATE=2]="DATE",n[n.PERCENT=3]="PERCENT",n[n.QUANTITY=4]="QUANTITY",(a=r||(r={}))[a.BEFORE=0]="BEFORE",a[a.HOURS=1]="HOURS",a[a.MINUTES=2]="MINUTES",a[a.PM=3]="PM",a[a.DAY=4]="DAY",a[a.MONTH=5]="MONTH",a[a.YEAR=6]="YEAR",a[a.PERCENT_NATURAL=8]="PERCENT_NATURAL",a[a.PERCENT_DECIMAL=9]="PERCENT_DECIMAL",a[a.QUANTITY_NATURAL=10]="QUANTITY_NATURAL",a[a.QUANTITY_DECIMAL=11]="QUANTITY_DECIMAL",a[a.QUANTITY_SCIENTIFIC=12]="QUANTITY_SCIENTIFIC",a[a.URL=13]="URL",a[a.NAMED_VARIABLE=14]="NAMED_VARIABLE",a[a.DATE_SUFFIX=15]="DATE_SUFFIX",a[a.FILE_SIZE=16]="FILE_SIZE",a[a.DURATION_UNIT=17]="DURATION_UNIT";var i={1:1,2:1,3:1,4:2,5:2,6:2,8:3,9:3,10:4,11:4,12:4};e.FormatType=t,e.FormatGroup=r;var o="[0-2]?\\d",l="[0-3]?\\d",c="\\d\\d(?:\\d\\d)?",s="st|nd|rd|th",u=new RegExp("(\\d)("+s+")","i"),d=/<[\/a-z][^>]*?>/gi,f={before:"^|[^0-9:]",after:"[^0-9:]|$",format:"("+o+"):([0-5]\\d)(h?)\\s*(am|pm)?|("+o+")\\s*(am|pm)",captureGroups:[r.HOURS,r.MINUTES,r.DURATION_UNIT,r.PM,r.HOURS,r.PM]},b=function(e){return["/","-","."].map(function(t){return{before:"^|[^0-9:\\"+t+"]",after:"[^0-9:\\"+t+"]|$",format:"(?:("+l+")\\"+t+"("+l+")\\"+t+"("+c+"))|(?:(\\d{4})\\"+t+"("+l+")\\"+t+"("+l+"))",captureGroups:[e?r.MONTH:r.DAY,e?r.DAY:r.MONTH,r.YEAR,r.YEAR,r.MONTH,r.DAY]}})},p={format:"(-?[12]\\d{3})\\.(\\d+)",captureGroups:[r.QUANTITY_NATURAL,r.QUANTITY_DECIMAL],before:"^|[^0-9\\-.]",after:"[^0-9.]|$"},h={format:"([12]\\d{3})",captureGroups:[r.YEAR],before:"^|[^0-9]",after:"[^0-9]|$"},g=function(e){for(var t={},n=0;n<e.length;n++){var a=e[n];Array.isArray(a)||(a=[a]);for(var i=0;i<a.length;i++){var o=a[i].toLowerCase();t[o]=n+1;var u=o.substring(0,3),d=o.substring(0,4);t[u]=n+1,t[d]=n+1}}var f=Object.keys(t).join("|");return{before:"^|[^0-9a-z]",after:"[^0-9a-z]|$",format:"(?:("+l+")\\s*("+s+"|\\.)?\\s*)?(\\b(?:"+f+")\\b\\.?)(?:\\s*[,\\s]\\s*(\\d{4})|\\s+("+l+")("+s+")?(?:\\s*[,\\s]\\s*("+c+"))?)?",captureGroups:[r.DAY,r.DATE_SUFFIX,r.MONTH,r.YEAR,r.DAY,r.DATE_SUFFIX,r.YEAR],valid:function(e){return e[0]!==e[4]&&(e[4].length>3||e[0].trim()!==e[4])},postMatch:function(e){e[4]&&(e[4]=t[e[4].toLowerCase().replace(".","")]),e[2]&&e[6]&&!e[8]&&(e[8]=e[6],e[6]=null)}}},m=function(e,t){return{before:"^|[^a-z0-9.]",after:"$|[^a-z0-9]",format:"((?:-\\s?)?\\d+(?:"+e+"\\d{3})*)(?:"+t+"(\\d+))?(?:\\s?e([+\\-]\\d+))?(?:([KGMT]?B)|([smhdw]))?",captureGroups:[r.QUANTITY_NATURAL,r.QUANTITY_DECIMAL,r.QUANTITY_SCIENTIFIC,r.FILE_SIZE,r.DURATION_UNIT]}},v=function(e,t,n){return{before:"^|[^0-9\\-.%]",after:"$|[^0-9\\-.%]",format:e+"\\s*((?:-\\s?)?\\d+(?:"+t+"\\d{3})*)(?:"+n+"(\\d+))?|((?:-\\s?)?\\d+(?:"+t+"\\d{3})*)(?:"+n+"(\\d+))?\\s*"+e,captureGroups:[r.PERCENT_NATURAL,r.PERCENT_DECIMAL,r.PERCENT_NATURAL,r.PERCENT_DECIMAL]}},y={before:"^|[^a-z]",after:"$|[^a-z0-9_\\-/.?=%&@+!#]",format:"(https?:\\/\\/[^\\s<]+|[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4})",captureGroups:[r.URL]},_={format:"\\{\\{(?:\\s*([^}]+?)\\s*)\\}\\}",captureGroups:[r.NAMED_VARIABLE],before:"^|[^{]",after:"$|[^}]"};function A(e,t){return e.replace(/_%(.*?)%_/g,function(e,n){return t.push(n),"ESC"})}function T(e,t){return e.replace(/ESC/g,function(e,n){return t.shift()})}function L(e,t,n,r,a,i,o,l){var c=!1;e<0&&(e*=-1,c=!0);for(var s=[],u=0;(n<0||n>u)&&(t>u||e>0);){var d=e%10;r&&u>0&&u%3==0&&s.unshift(r),s.unshift(d+""),e=Math.floor(e/10),u++}if((a=a||"")||i>0)for(s.push(l),o>0&&(a=a.substring(0,o));i>a.length;)a+="0";return(c?"-":"")+s.join("")+a}var E=["January","February","March","April","May","June","July","August","September","October","November","December"];var C=function(){function e(e,t){this.e=t;var n,r=(n=e,__spreadArrays([y,_,g(n.months||E),f],b(n.monthBeforeDay),[v(n.percentSeparator||"%",n.thousandSeparator||",",n.decimalSeparator||"\\."),p,h,m(n.thousandSeparator||",",n.decimalSeparator||"\\.")])).map(function(e){return{regex:new RegExp("("+e.before+")"+e.format+"("+e.after+")","gi"),captureGroups:e.captureGroups,postMatch:e.postMatch,valid:e.valid}});this.r=r}return e.prototype.getNextMatch=function(e,t){d.lastIndex=t;var n=d.exec(e);if(n&&n.index===t)return t=n.index+n[0].length,this.getNextMatch(e,t);var r,a,i=e.length+1,o=0,l=t>0;l&&0===--t&&(e=" "+e.substring(1));for(var c=0,s=this.r;c<s.length;c++){var u=s[c];u.regex.lastIndex=t;var f=u.regex.exec(e);if(f)if(!(f.index+(f[1]||"").length>=i)){var b=f.index+f[0].length-(f[u.captureGroups.length+2]||"").length;b>i||u.valid&&!u.valid(f)||(i=f.index,r=f,a=u,o=b)}}return r?n&&n.index<i?(t=n.index+n[0].length,this.getNextMatch(e,t)):(l&&0===r.index&&(r.index=1,r[1]="",r[0]=r[0].substring(1)),[a,r,o]):null},e.prototype.getType=function(e){var t=this.getNextMatch(e,0);return t?i[t[0].captureGroups[0]]:0},e.prototype.prepareFormat=function(e,t){var n=this;return e.includes("${")?e.replace(/\$\{([^}]*)}/g,function(e,r){return n.e("(function("+Object.keys(t).join(",")+"){ return "+r+"; })("+Object.keys(t).map(function(e){return JSON.stringify(t[e])}).join(",")+")")}):e},e.prototype.injectTime=function(e,t,n,r){var a=t>=12;return a&&/p/i.test(e)&&(t-=12),e.replace(/hh|mm|h|m|p|P|u/g,function(e){return"hh"===e?L(t,2,2):"h"===e?L(t,1,2):"mm"===e?L(n,2,2):"m"===e?L(n,1,2):"u"===e?r:"p"===e?a?"pm":"am":a?"PM":"AM"})},e.prototype.injectDate=function(e,t,n,r){if(n>12&&r<=12){var a=r;r=n,n=a}return e.replace(/mmmm|mmm|mm|m|dd|d|yyyy|yy|th/g,function(e){switch(e){case"mmmm":return"{month"+n+"}";case"mmm":return"{mon"+n+"}";case"mm":return n<10?"0"+n:n;case"m":return n;case"dd":return r<10?"0"+r:r;case"d":return r;case"yyyy":return t||"";case"yy":return t?t%100:"";case"th":default:return""}})},e.prototype.injectQuantity=function(e,t,n,r){e.includes("-")&&(t=-t);var a=function(e,t){var n=e.match(t);return n?n.length:0},i=/t\(([^)]*)\)([0#*]*)d\(([^)]+)\)([0#*]*)/.exec(e);if(!i)return null;var o=e.substring(0,i.index).replace("u",r),l=e.substring(i.index+i[0].length).replace("u",r),c=(i[0],i[1]),s=i[2],u=i[3],d=i[4],f="*"===s[0]?-1:s.length,b="*"===d[d.length-1]?-1:d.length;return o+L(t,a(s,/0/g),f,c,n,a(d,/0/g),b,u)+l},e.prototype.injectMonths=function(e,t){return t=t||E,(e=e.replace(u,"$1")).replace(/\{mon(th)?(\d+)}/g,function(e,n,r){var a=t[Number(r)-1]||"";return n?a:a.substring(0,3)})},e.prototype.processText=function(e,n){var a=this;void 0===n&&(n={});for(var o,l,c,s,u,d,f,b,p={},h=[],g=0,m=0,v=function(e){var t,n=(t=e,b.captureGroups.findIndex(function(e,n){return e===t&&s[n+2]}));return n<0?null:s[n+2]},y=function(e,t,n,r){r=r||"";var i=[],o=Number((t||"").replace(/[^0-9\-]/g,"")),l=(n||"").replace(/[^0-9]/g,""),s=o<0;e=a.prepareFormat(A(e,i),{m:s,n:t,f:n,u:r}),(c=c||{})[d]=T(a.injectQuantity(e,o,l,r),i)},_=function(){var e=i[b.captureGroups[0]];if(e!==t.TIME)if(e!==t.DATE)if(e!==t.PERCENT)if(e!==t.QUANTITY);else{var c=n.quantityFormat;if(!c)return;if(v(r.QUANTITY_SCIENTIFIC))return;p=v(r.QUANTITY_NATURAL),h=v(r.QUANTITY_DECIMAL),B=v(r.FILE_SIZE)||v(r.DURATION_UNIT);y(c,p,h,B)}else{var f=n.percentFormat;if(!f)return;var p=v(r.PERCENT_NATURAL),h=v(r.PERCENT_DECIMAL);y(f,p,h)}else{var g=v(r.MONTH);if(!g)return;var m=Number(g),_=n.dateFormat;if(isNaN(m)&&(b.postMatch(s),m=v(r.MONTH),!_)){o=o||{};var L=g.length,E="."===g[L-1],C=E||3===L;return void(o[d]=u.replace(g,"{mon"+(C?"":"th")+m+"}"+(E?".":"")))}if(!_)return;o=o||{};var N=v(r.YEAR),D=Number(N),x=v(r.DAY),S=Number(x);N&&D<100&&(D=(D<50?2e3:1900)+D);k=[],P=a.prepareFormat(A(_,k),{y:N&&!isNaN(D),m:!0,d:x&&!isNaN(S)});o[d]=T(a.injectDate(P,D,m,S),k)}else{var w=n.timeFormat,O=Number(v(r.HOURS));if(!w)return;l=l||{};var I=v(r.PM);I&&/p/i.test(I)&&(O+=12);var R=Number(v(r.MINUTES)),k=[],B=v(r.DURATION_UNIT)||"",P=a.prepareFormat(A(w,k),{h:!0,p:I,m:!isNaN(R),u:B});l[d]=T(a.injectTime(P,O,R,B),k)}};f=this.getNextMatch(e,g);){b=f[0];var L=(s=f[1])[1]||"",E=s[b.captureGroups.length+2]||"",C=s[0];u=L||E?C.substring(L.length,C.length-E.length):C;var N=v(r.NAMED_VARIABLE),D=void 0;N?(d=N,D=u):(d=m,D="{"+m+"}",m++),_(),p[d]=u,h.push(e.substring(g,s.index),L,D),g=f[2]}return g<e.length&&h.push(e.substring(g)),{text:e=h.join(""),nums:p,d:o,t:l,q:c}},e}();e.VariableFormatter=C}("undefined"==typeof window?module.exports:window.isBab?window:bablic);var Text=Engines[1]=function(){var BABLIC_INLINE_MARKUP_VAR=/__vs\(([^)]+)\)__((?:.|\s)*?[^)]*)__ve/gi,BABLIC_INLINE_MARKUP_VAR_NEW=/__vs(.*?)__vm_((?:.|\s)*?)__ve/gi,compact=/\s+/g,CHECK_INLINE=/^(?:inline|none)$/i,HAS_COMPOSITE=void 0!==CompositeEngine,SHOPIFY_REGEX=/powr\-map/i,HAS_LINES=/\S\s*__nl__\s*\S/,CLEAN_TAGS=!1,identicalSymbolsRegex=null,IGNORE_TEXT=/[,\/\\'”«»"[\]()+*:&%$~#@<>{}^]{8}/,div;function getUniqueId(e,t){return t+e}function htmlToText(e){return div||(div=$("<div></div>")),e&&-1!=e.indexOf("&")?div.html(e).text():e}var asianLiterals=/(?:^|[.,\-\/\\'”«»"[\]()+*:&%#@!?<>{}\s\r\n^])[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫a-z]/i,asianLocales={zh_cn:1,zh_tw:1,ja:1},attrs={title:!0,placeholder:!0,label:!0,"aria-label":!0},Self={index:1,name:"text",addAttr:function(e,t){!1!==t?attrs[e]=!0:delete attrs[e]},prepare:function(){bablic.version>3.6&&(CLEAN_TAGS=!0);var self=this,CURRENCIES="";self.CURRENCIES=CURRENCIES,self.hasLiterals=bablic.version>3.6?/(?:^|[.,\-\/\\'”«»"[\]()+*:&%#@!?<>{}\s\r\n^])[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫]+[\-&\s\r\n]*[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫]+/:/(?:^|[.,\-\/\\'”«»"[\]()+*:&%#@!?<>{}\s\r\n^])[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^]+[\-&\s\r\n]*[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^]+/,(LDATA.alt||LDATA.conf&&LDATA.conf.a)&&(attrs.alt=!0),self.i={button:0,submit:0,reset:0},self.s={product:{name:0,description:0},article:{headline:0,description:0,articleBody:0,name:0}},self.m={description:0,title:0,"st:title":0,"st:section":0,"og:description":0,"og:title":0,"twitter:title":0,"twitter:description":0,"og:site_name":0},self.split=/(?:\s+[|]\s+|{nl}|{ct[^}]*})/,self.trim=/^[\s\r\n^]*((?:.|\s)*?)[\s\r\n^]*$/,self.f=new bablic.VariableFormatter({months:originalLocale&&originalLocale.months,monthBeforeDay:LDATA.mbd},eval),targetLocale&&targetLocale.months&&(self.mnth=targetLocale.months),self.need_bidi=/(?:^|[0-9.,\/\\'[\]()+*:&%#@!?<>{}^])(?:$|[0-9.,\/\\'[\]()+*:&%#@!?<>{}^])/,self.exclude=/<(?:.|\s)*?exclude(?:.|\s)*?>(?:.|\s)*?<(?:.|\s)*?>/gi,self.SEG_DEP=2,self.SEG_STEP=/((?:.|\s)*?){(?:t(\d+)|(nl)|(ct[^}]*))}/g,self.itags={SCRIPT:1,STYLE:1,HEAD:1,NOSCRIPT:1,SVG:1,SYMBOL:1,CODE:1,VAR:1,PATH:1,CANVAS:1,LINK:1},self.extractNums=function(e,t){return self.f.processText(e,t||targetLocale&&targetLocale.formats||{})},self.stripText=function(e,t,n,r,a,i,o,l,c){var s=self.trim.exec(e);if(!(e=s&&s[1]))return null;c&&c.length>2&&"/"===c[0]&&"/"===c[c.length-1]&&(c=new RegExp(c.substring(1,c.length-1)));var u=$.map(n||a?[e]:e.split(c||self.split),function(e){if(!(e=self.trim.exec(e)[1]))return null;if(IGNORE_TEXT.test(e.replace(/\.+/g,".")))return null;var a=t?{text:e,nums:[]}:self.extractNums(e);l&&((a={text:e,nums:[],d:{}}).text=e.replace(BABLIC_INLINE_MARKUP_VAR,function(e,t,n){return a.nums.push(n),"{"+(a.nums.length-1)+"}"}).replace(BABLIC_INLINE_MARKUP_VAR_NEW,function(e,t,n){return a.nums.push(n),"{"+(a.nums.length-1)+"}"}));var c=self.hasLiterals.test(a.text);if(!c&&originalLocale.key in asianLocales&&(c=asianLiterals.test(a.text)),c&&LDATA.block&&LDATA.block.test&&(c=!LDATA.block.test(a.text)),a.text.indexOf("BESbswy")>-1&&(c=!1),c&&WIN.Shopify&&(c=!SHOPIFY_REGEX.test(a.text)),!(a.q||a.d||a.t||c))return a.nums.length?[{content:a.text,id:r||bablicHash(n?getUniqueId(n,a.text):a.text),a:!1,vars:a.nums,tags:["visible"]},{content:e,id:r||bablicHash(n?getUniqueId(n,e):e),a:!1,tags:["visible"]}]:null;for(var s=0,u=0;u<a.nums.length;u++)s+=a.nums[u].length;if(e.length==s||!c)return{content:a.text,vars:a.nums,d:a.d,t:a.t,q:a.q,a:!1};!0;var d=a.text.toLowerCase().replace(compact," ").replace(/σ([^a-zα-ω]|$)/g,"ς$1");return identicalSymbolsRegex&&(d=d.replace(identicalSymbolsRegex,"")),i&&CLEAN_TAGS&&(d=d.replace(/\s*<[^>]*>\s*/g,"<>")),o&&(d=bablic.hashByKey?o:o+"_"+d),{id:r||bablicHash(n?getUniqueId(n,d):d),content:a.text,vars:Object.keys(a.nums).length&&a.nums,v:n,d:a.d,t:a.t,q:a.q,a:!HasTextMarkup||l,tags:["visible"]}});return u.length&&u},self.isSeg=function(e){if(CHECK_INLINE.test($(e).css("display"))&&(e=e.parentNode,CHECK_INLINE.test($(e).css("display"))))return!1;for(var t=0,n=!1,r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1==a.nodeType){if(t++,!CHECK_INLINE.test($(a).css("display")))return!1}else 3==a.nodeType&&/[^-\s]/.test(a.nodeValue)&&(n=!0)}return!!(t>1||t>0&&n)}},qualifier:function(e,t,n,r,a,i){var o=(r=r||{}).split;if(a&&a.tagName&&a.tagName.toUpperCase()in this.itags){if(this.s&&"SCRIPT"===e.tagName&&"application/ld+json"===e.getAttribute("type")){var l=$(e).html();try{var c=JSON.parse(l);c=Array.isArray(c)?c:c["@graph"]||[c];var s=[],u=this;return c.forEach(function(e){if(e["@type"]){var t=e["@type"].toLowerCase();if(t in u.s)for(var n in u.s[t])if(e[n]){var a=u.stripText(e[n],"no-vars"in r,r.unique,r.id,!0);a&&((a=a[0]).h=!0,a.a=!0,a.fi=t+"."+n,a.tags=["structured-data"],s.push(a))}}}),s}catch(A){}}return null}u=this;if(HasTextMarkup){if(3===e.nodeType&&!a._fake&&(!bablic.i18nHybrid||bablic.integrateI18n.qualify(a.innerHTML)))return null;var d=e===a?e.innerHTML:a._fake?e.nodeValue:e.value;if(!bablic.i18nHybrid||bablic.integrateI18n.qualify(d)){var f=bablic.integrateI18n.parse(d),b=[];return f.forEach(function(e){var t=e.attributes,n=u.stripText(e.content,"no-vars"in r||"no-vars"in t,t.unique||r.unique,t.id||r.id,!0,!1,t.key,!0);n&&((n=n[0]).markup=t,n.key=t.key,n.wrapped=!0,n.a=!0,n.i18n=!0,n.tags=["i18n"],b.push(n))}),b.length?(e._babCe=!0,b):null}}var p="no-vars"in r,h=r.unique,g=r.id;switch(!HAS_COMPOSITE&&a&&e==a.firstChild&&(r.block?setNodeAttr(a,"_seg","false"!=r.block):void 0===readNodeAttr(a,"_seg")&&setNodeAttr(a,"_seg",this.isSeg(a))),this.tree=null,e.nodeType){case 3:if(HAS_COMPOSITE){if(i)return null}else if(a&&readNodeAttr(a,"_seg"))return null;var m=e.nodeValue;return"TITLE"==a.tagName&&r.translated&&(setNodeValue(e,r.translated),p=!0),(S=u.stripText(m,p,h,g,null,null,null,null,o))&&setNodeAttrIf&&setNodeAttrIf(e,"bablic_c",S),S&&"TITLE"==a.tagName&&$.each(S,function(e,t){t.h=!0,t.tags=["visible","meta"]}),S;case 2:var v=(e.nodeName||"").toLowerCase();if(v===r.attribute||v in attrs||"value"==v&&a&&"input"==(a.tagName||"").toLowerCase()&&a.attributes.type&&(a.attributes.type.value||"").toLowerCase()in this.i){if("iframe"==(a.tagName||"").toLowerCase())return;return"#"==e.value[0]&&-1==e.value.indexOf(" ")?null:((S=u.stripText(e.value,p,h,g,null,null,null,null,o))&&"value"!=v&&"placeholder"!=v&&$.each(S,function(e,t){t.h=!0,"alt"==v&&(t.tags=["alt"])}),S)}return null;case 1:if(this.m&&"META"===e.tagName){if(((e.getAttribute("name")||"").toLowerCase()||(e.getAttribute("property")||"").toLowerCase()||(e.getAttribute("itemprop")||"").toLowerCase())in this.m){var y=r.translated||e.getAttribute("content")||e.getAttribute("value");return(S=u.stripText(y,bablic.version<=3.7||p,h,g,null,null,null,null,o))?($.each(S,function(e,t){t.h=!0,t.a=!0,t.tags=["meta"]}),S):null}return null}if("phrase"in r){l=$(e).html();if(r.phrase&&"true"!=r.phrase&&"false"!=r.phrase)return[{id:g||bablicHash(r.phrase),content:l,a:!0,v:r.phrase}];if(h)return[{id:g||bablicHash(h),content:l,a:!0,v:h}];for(var _,A=[];_=u.exclude.exec(l);)A.push(_[0]);return $.each(A,function(e,t){l=l.replace(t,"{"+e+"}")}),[{id:g||bablicHash(l.toLowerCase()),content:l,vars:A.length&&A,a:!0}]}if(a.readOnly&&("INPUT"==a.tagName||"TEXTAREA"===a.tagName)&&!a.attributes.value)return u.stripText(a.value,p,h,g,null,null,null,null,o);if(HAS_COMPOSITE){if(i==a){var T=CompositeEngine.buildDOMTree(a);if(T.isEmpty())return null;var L=CompositeEngine.getTreeContent(T);return(S=u.stripText(L,p,h,g,!0,!0,null,null,o))?(this.tree=T,this.oVal=L,a._babCe=!0,S):null}return null}if(readNodeAttr(a,"_seg")){var E=0,C=[],N={};this._seg=!1;for(var D=a.firstChild,x=!0;D;)3==D.nodeType?(x=!0,C.push(D.nodeValue)):8==D.nodeType?(x=!0,C.push("{ct"+(D.nodeValue||"").replace(/}/g,"__close__")+"}")):"BR"==D.tagName?(x=!0,C.push("{nl}")):(x&&C.push("{t"+ ++E+"}"),(N[E]=N[E]||[]).push(D),x=!1),D=D.nextSibling;var S,w=C.join("");return this.oVal=w,(S=u.stripText(w,p,h,g,null,null,null,null,o))&&S.length&&$.each(S,function(e,t){t&&(t.c=N)}),S}return null}},replacer:function(e,t,n,r,a,i,o,l,c){if(HasTextMarkup&&n[0].i18n){var s=e===o?e.innerHTML:o._fake?e.nodeValue:e.value,u=bablic.integrateI18n.translate(s,n,t).replace(/__nl__/g,"\n");e===o?o.innerHTML=u:o._fake?e.nodeValue=u:e.value=u}else{var d=1!=e.nodeType?2==e.nodeType?e.value:e.nodeValue:"phrase"in i||"SCRIPT"==e.tagName&&"application/ld+json"===e.getAttribute("type")?$(e).html():"META"==e.tagName?e.getAttribute("content")||e.getAttribute("value")||"":!e.readOnly||"INPUT"!=e.tagName&&"TEXTAREA"!==e.tagName?this.oVal:e.value,f=1==e.nodeType,b=!1,p=this.tree,h=this;if($.each(n,function(e,a){var i=t[e];i=i.replace(/^(__nl__)+/,"").replace(/(__nl__)+$/,""),b=b||HAS_LINES.test(i);var o=a.content;a.tmp&&o==i&&(o=i=a.tmp),a.vars&&$.each(a.vars,function(e,t){var n=a.t&&a.t[e]||a.d&&a.d[e]||a.q&&a.q[e];if(c){var l=h.extractNums(t,r&&r.formats);n=(l.t||l.d||a.q||[])[0]}var s=n||t;a.d&&(s=h.f.injectMonths(s,h.mnth)),i=i.replace(RegExp("\\{"+e+"(.*?)\\}","g"),s),o=o.replace(RegExp("\\{"+e+"(.*?)\\}","g"),t)}),d=p&&1==n.length?i:(d+"").replace(o,i)}),this.tree)d=d.replace(/__nl__/g,"\n"),o._bWS==e&&(o.style.whiteSpace="",delete o._bWS);else{var g=!1;if(d=d.replace(/\n/g,"").replace(/__nl__/g,"\n"),!HAS_COMPOSITE&&b&&(g=!0),HAS_COMPOSITE&&d.indexOf("<br>")>-1&&(g=!0,d=d.replace(/\n/g,"").replace(/<br>/g,"\n")),g){var m=$(o).css("white-space");if("pre"!=m&&"pre-line"!=m&&"nowrap"!=m&&!o.style.whiteSpace){o.style.whiteSpace="pre-line",o._bWS=e;for(var v=0;v<o.childNodes.length;v++){var y=o.childNodes[v];3==y.nodeType&&(y!=e&&setNodeValue(y,y.nodeValue.replace(/^\s+/g," ").replace(/\s+$/g," ")))}}}}if(f)if("phrase"in i||"SCRIPT"===e.tagName&&"application/ld+json"===e.getAttribute("type"))$(e).html(d);else if("META"==e.tagName)e.setAttribute("content",d);else if(!o.readOnly||"INPUT"!=o.tagName&&"TEXTAREA"!=o.tagName){if(HAS_COMPOSITE){var _=this.tree;return _?void CompositeEngine.replaceDOMTree(_,d):console.error("Problem with segment manipulating",e)}for(var A,T=LDATA.edit||doesSupportAjaxReplace(),L={},E=[],C=[],N=[],D=e.firstChild,x=0,S=[],w=!0;D;){var O=D.nextSibling;3==D.nodeType?(N.push(D),w=!0):8==D.nodeType?(C.push(D),w=!0):1==D.nodeType&&("BR"==D.tagName?(E.push(D),w=!0):(w?L[++x]=[D]:L[x].push(D),w=!1,T&&(D.order||(D.order=[x,L[x].length-1]),S.push(D))),T&&1==D.nodeType&&D.removeAttribute("hidden")),D&&e.removeChild(D),D=O}for(T&&(L={},S.forEach(function(e){L[e.order[0]]=L[e.order[0]]||[],L[e.order[0]][e.order[1]]=e})),d=d.replace(/<tn?(\d+)>.*?<\/tn?\d+>/g,"{t$1}");A=this.SEG_STEP.exec(d+"{t0}");){var I=A[1],R=A[2];if(I){var k=N.shift()||DOC.createTextNode(I);setNodeValue(k,I),e.appendChild(k)}if(R){if("0"!=R){var B=L[R];B&&$.each(B,function(t,n){e.appendChild(n)})}}else if(A[3]){var P=E.shift()||DOC.createElement("BR");e.appendChild(P)}else{var M=A[4].substr(2).replace(/__close__/g,"}"),W=C.shift()||DOC.createComment(M);e.appendChild(W)}}if(T)for(var U in L)for(x=0;x<L[U].length;x++)L[U][x].parentNode!=e&&(L[U][x].setAttribute("hidden",""),e.appendChild(L[U][x]))}else o.readOnly=!1,o.value=d,o.readOnly=!0;else if(2==e.nodeType){var H=htmlToText(d);"placeholder"==e.nodeName&&o.value==e.value&&(o.value=H),e.value=H}else setNodeValue(e,htmlToText(d));if(o&&LDATA.bidi_elements){I=$.trim(f?$(e).html():2==e.nodeType?e.value:e.nodeValue);this.need_bidi.test(I)&&this.hasLiterals.test(I)&&($(o).css("direction",LDATA.bidi_elements),o.dir=LDATA.bidi_elements)}}},restore:function(e,t,n,r,a,i){if(HasTextMarkup&&r[0].i18n)t==n?n.innerHTML=e.completeOriginal:t.value=e.completeOriginal;else if(1==t.nodeType){this.oVal=e.oVal,this.tree=e.tree,!this.oVal&&r.length&&(this.oVal=r[0].oVal),!this.tree&&r.length&&(this.tree=r[0].tree);var o=r.map(function(e,t){return e._cnt=e.content,e._d=e.d,e._t=e.t,e.d={},e.t={},e.content=a[t],e._cnt});this.replacer(t,o,r,targetLocale,originalLocale,i,n),r.forEach(function(e){e.content=e._cnt,e.d=e._d,e.t=e._t,delete e._cnt,delete e._d,delete e._t})}else 2==t.nodeType?("placeholder"==t.nodeName&&n.value==t.value&&(n.value=e.completeOriginal),t.value=e.completeOriginal):setNodeValue(t,e.completeOriginal)}};return Self}(),CSS=Engines[2]={index:2,name:"css",qualifier:function(e,t,n){return 1==e.nodeType&&"HEAD"==e.tagName?{id:bablicHash(bablic.Site),content:"<style type='text/css' id='bablic_site_css' bablic-exclude></style>",a:!0}:null},replacer:function(e,t,n,r,a,i){var o=$.byId("bablic_site_css");if(o.length()){var l=t.replace(/<.*?>/g,"");if(o.html()==l)return;o.html(l)}else $(e).append(t)},restore:function(e,t,n){$.byId("bablic_site_css").remove()}},IMAGE_META={"og:image":1,"st:image":1,"twitter:image":1},Images=Engines[3]={index:3,name:"images",prepare:function(){this.r=/url\("?(.+?)"?\)/},qualifier:function(e,t,n,r,a){if(2==e.nodeType&&"src"==e.nodeName.toLowerCase()&&("IMG"==a.tagName||"INPUT"==a.tagName&&"image"==a.getAttribute("type"))&&a.parentNode&&"HEAD"!=a.parentNode.tagName)return bablic.version>=3.9&&a.attributes.srcset?null:cleanSrc(e.value,null,e);if(1==e.nodeType){var i=null,o=!1;if("META"==e.tagName&&e.getAttribute("property")in IMAGE_META)i=e.getAttribute("content"),o=!0;else{var l=$(e).css("background-image"),c=l&&this.r.exec(l);i=c&&c[1]}return cleanSrc(i,o)}if(2==e.nodeType&&"srcset"==e.nodeName.toLowerCase()&&("IMG"==a.tagName||"SOURCE"==a.tagName)){var s=e.value.trim().split(/\s*,\s*/).map(function(e){return e.split(/\s+/)}),u=bablic.version<3.9?$.grep(s.map(function(e){return cleanSrc(e[0])}),function(e){return e}):[];s.sort(function(e,t){return parseFloat(t[1])-parseFloat(e[1])});var d=cleanSrc(s[0][0],!1,e);return d&&u.unshift(d),u}return null},replacer:function(e,t,n,r,a,i,o){if(!Array.isArray(t)&&CLOUDINARY_REGEX.test(t)&&n){var l=n.content.replace(/^(https?:)?\/\//i,"").split("/"),c=l[4];c.indexOf("_")>-1&&l.length>5&&((l=t.replace(/^(https?:)?\/\//i,"").split("/")).splice(4,0,c),t="//"+l.join("/"))}if(2==e.nodeType)if("srcset"==e.nodeName.toLowerCase()){var s=!1,u=e.value.trim().split(/\s*,\s+/).map(function(e,t){return e.split(/\s+/)});if(CLOUDINARY_REGEX.test(t[0])){var d=(l=t[0].replace(/^(https?:)?\/\//i,"").split("/")).slice(0,4).join("/"),f=l.slice(4).join("/"),b=u.map(function(e,t){if(!e[0])return e[0];var n=(e[1]||"").trim().split(/\s+/),r=$.grep(n.map(function(e){return"w"==e[e.length-1]?"w_"+e.substr(0,e.length-1):"h"==e[e.length-1]?"h_"+e.substr(0,e.length-1):void 0}),function(e){return e});return r.push("f_auto","q_80"),"//"+d+"/"+r.join(",")+"/"+f+" "+(e[1]||"")}).join(", ");s=b!=e.value}else b=u.map(function(e,n){if(!e[0])return e[0];var r=normalizeImageUrl(e[0]),a=normalizeImageUrl(t[n]);return s=s||r!=a,e[0]=t[n]||t[0]||e[0],e.join(" ")}).join(", ");if(s){n&&(replacedImages[n.id]=e.value),e._babSrcset=e.value;var p=o.attributes.src;if(p){var h=getSelectedSource(p.value,e.value,b);h&&h!=p.value&&(p.value=h)}e.value=b}}else if(e.value!=t){if(n&&(replacedImages[n.id]=e.value),CLOUDINARY_REGEX.test(t)){var g=RESPONSIVE_IMG_REGEX.exec(e.value);g&&g[1]&&((l=t.replace(/^(https?:)?\/\//i,"").split("/")).splice(4,0,g[1]),t="//"+l.join("/"))}e.value=t}else{var m=o.attributes.srcset;if(m&&m._babSrcset&&m.value.indexOf("bablic")>-1){var v=getSelectedSource(e.value,m._babSrcset,m.value);v&&v!=e.value&&(e.value=v)}}else{var y=this.r.exec($(e).css("background-image"));y&&y[1]!=t&&(n&&(replacedImages[n.id]=y[1]),e.style.setProperty("background-image",'url("'+t+'")',"important"),!e._babBck&&e.attributes.style&&(e._babBck=!0,attributeObserver(e,e.attributes.style)))}},restore:function(e,t,n,r,a,i){"srcset"==t.nodeName.toLowerCase()?this.replacer(t,$.map(r,function(e){return e.content}),null,null,null,i,n):this.replacer(t,r[0].content,null,null,null,i,n)}},replacedImages={},BLANK_REGEX=/\b(blank|empty)\b\.(gif|png|jpe?g)$/i,CLOUDINARY_REGEX=/cloudinary/,RESPONSIVE_IMG_REGEX=/\/(w_\d+,h_\d+),/,UrlEngine,reverseKeywordByLocale,keywordsByLocale,generateOriginalPath,generateTranslatedPath,Bidi,isSafari;!function(){var DOWNLOAD_REGEX=/\.(jpe?g|png|zip|apk|crx|rar|z7|tar|gz|mp3|avi|mpeg|bmp|wav|pdf|docx?|xml|xlsx?|kml|svg|eot|woff|woff2|pptx?|txt|rtf|mp4|webm)$/i,fakeAnchor=DOC.createElement("A"),SRC_ELEMENTS={IFRAME:1,SOURCE:1};function processKeywordsToOriginal(e,t){if(!reverseKeywordByLocale||!reverseKeywordByLocale[t])return null;var n=e.split("?"),r=n[0],a=r.split("."),i=a.length>1?"."+a[a.length-1]:"",o=a.length>1?a.slice(0,a.length-1).join("."):r,l=reverseKeywordByLocale[t],c=o.split("/").map(function(e){return l[e]||e}).join("/");return c!=o?(n[0]=c+i,n.join("?")):e}function processTranslatedKeywords(e,t){if(!keywordsByLocale||!keywordsByLocale[t])return null;var n=e.split("?"),r=n[0],a=r.split("."),i=a.length>1?"."+a[a.length-1]:"",o=a.length>1?a.slice(0,a.length-1).join("."):r,l=keywordsByLocale[t],c=o.split("/").map(function(e){return l[e]||e}).join("/");return c!=o?(n[0]=c+i,n.join("?")):null}generateOriginalPath=function(url,locale){var processedUrl=processKeywordsToOriginal(url,locale);if(!LDATA||!LDATA.rewriteUrlHandler)return processedUrl;url=processedUrl||url,"string"==typeof LDATA.rewriteUrlHandler&&(LDATA.rewriteUrlHandler=eval(LDATA.rewriteUrlHandler));var newUrl=LDATA.rewriteUrlHandler(bablic.original,url,locale);return newUrl===url?processedUrl:newUrl},generateTranslatedPath=function(url,locale){var processedUrl=processTranslatedKeywords(url,locale);if(!LDATA||!LDATA.rewriteUrlHandler)return processedUrl;url=processedUrl||url,"string"==typeof LDATA.rewriteUrlHandler&&(LDATA.rewriteUrlHandler=eval(LDATA.rewriteUrlHandler));var newUrl=LDATA.rewriteUrlHandler(locale,url,bablic.original);return newUrl===url?processedUrl:newUrl},UrlEngine=Engines[4]={index:4,name:"url",qualifier:function(e,t,n,r){if(1!=e.nodeType)return null;if(r&&"ignore"==r.url)return null;var a,i,o,l,c,s=e.tagName;if("A"==s&&e.attributes.href&&""!==e.attributes.href.value&&"#"!=e.attributes.href.value[0]){if("alternate"==e.getAttribute("rel"))return null;a=e;try{a.href}catch(e){return null}}else if(SRC_ELEMENTS[s]&&(e.src||e.attributes["data-src"]))fakeAnchor.setAttribute("href",e.src||e.attributes["data-src"].value),a=fakeAnchor,c=!0,o="IFRAME"===s;else if("FORM"==s&&e.getAttribute("action"))fakeAnchor.setAttribute("href",e.getAttribute("action")),a=fakeAnchor,i=!0;else{if("META"!=s||"og:url"!=e.getAttribute("property"))return null;fakeAnchor.setAttribute("href",e.getAttribute("content")),a=fakeAnchor,l=!0}if(HasTextMarkup){var u=bablic.integrateI18n.parse(a.href);if(u&&1===u.length){var d=u[0],f=d.attributes.key;return a.setAttribute("href",d.content),[{id:bablicHash(d.content+"_"+f),content:d.content,oVal:{form:i,frame:o,src:c,abs:d.content.includes("//"),m:l}}]}}var b=a.hostname,p=LDATA.localeDetection||LDATA.localeDetection,h=!1,g=!1;switch(a.protocol){case"tel:":case"callto:":case"sms:":case"mailto:":g=!0;break;case"http:":case"https:":h=!isInDomain(a.hostname),i||c||l||!a.getAttribute("download")&&!DOWNLOAD_REGEX.test(a.pathname)||(g=!0);break;default:return null}var m=!1;if("custom"==p&&bablic.originalLocale&&bablic.originalLocale.url&&0==bablic.originalLocale.url.indexOf(a.hostname)&&"#language"!==a.hash&&(h=!1,b="",m=!0),LDATA&&LDATA.previewUrl&&!h)return null;if(h||g){var v=a.getAttribute("href"),y=b+getPathname(a)+(a.search||"");WIN.BABLIC_RESTORE?(v=BABLIC_RESTORE(v),y=BABLIC_RESTORE(y)):WIN.BABLIC_R&&(v=v.replace(BABLIC_R,BABLIC_V),y=y.replace(BABLIC_R,BABLIC_V));var _=["origin"];b.indexOf("youtu")>-1&&_.push("widgetid","widget.referrer"),window.dmAPI&&_.push("preview","locale");for(var A=0;A<_.length;A++){var T=RegExp("&"+_[A]+"=[^&=]*","i"),L=RegExp("\\?"+_[A]+"=[^&=]*&?","i");v=v.replace(T,"").replace(L,"?"),y=y.replace(T,"").replace(L,"?")}return[{id:bablicHash(y),content:v,oVal:{form:i,frame:o,src:c,abs:!0,m:l}}]}if(r&&"switch"in r)return null;if("#"==a.getAttribute("href")[0])return null;var E=getPathname(a)+(a.search||""),C=!1,N=!1;if("subdir"!=p||bablic.preview||c&&!o)if("subdomain"==p&&isInDomain(a.hostname)||m)C=!0,N=!0;else{if(WIN.BABLIC_REPLACE)BABLIC_REPLACE(a.href)!=a.href&&(N=!0);"querystring"!=p||LDATA.ajaxWidget||bablic.noUrl||(E=E.replace(/[?&]locale=\w\w?\w(_\w\w)?/,"").replace(/\?$/,""),N=!0)}else{if(a.hostname!=LOC.hostname)return null;if(a.protocol!=LOC.protocol)return null;var D=bablic.folders?Object.keys(bablic.folders):LDATA.localeKeys,x=RegExp("^"+escapeRegex(bablic.subDirBase||"")+"(\\/(?:"+D.join("|")+"))*\\/").exec(E);x&&(E=E.replace(x[0],"/")),N=!0}(keywordsByLocale&&keywordsByLocale[t]||LDATA.rewriteUrlHandler)&&(N=!0);var S=E,w=a.hostname&&getCurrentOtherDomain(a.hostname);w&&(S="@"+w.toLowerCase()+"@"+E,E=WIN.BABLIC_RESTORE?BABLIC_RESTORE(a.hostname)+E:a.hostname+E);var O=[{id:bablicHash(S),content:E,oVal:{form:i,frame:o,src:c,abs:C,m:l,href:a.getAttribute("href")}}];return N&&O.push({content:""}),O},replacer:function(e,t,n,r){var a,i=t[0],o=n[0].oVal;if(a=o.src||o.form||o.m?fakeAnchor:e,!i||n[0].content&&i===n[0].content||(a.hash&&-1==i.indexOf("#")&&(i+=a.hash),a.setAttribute("href",i),i.indexOf("://")>-1&&(o.abs=!0)),n.length>1){var l=LDATA.localeDetection||LDATA.localeDetection;if(WIN.BABLIC_REPLACE&&"subdomain"!=l&&"custom"!=l)if(a.protocol!=LOC.protocol&&WIN.top.VisualEditor){var c=a.hostname,s=a.protocol,u=getPathname(a)+a.search+a.hash;a.addEventListener("click",function(e){e.preventDefault(),top.VisualEditor.redirectTop({protocol:s,domain:c,path:u})})}else a.href=BABLIC_REPLACE(a.href);else{var d=bablic.getLink(r.key,a.hostname,a.href);if(a.getAttribute("href").indexOf("://")>-1)a.href=d;else{var f=parseURL(d);f.protocol===a.protocol&&f.hostname===a.hostname?a.href=f.pathname+f.query+f.hash:a.href=d}}}if(!o.form&&!o.src&&!o.m)return null;var b="SOURCE"===e.tagName?e.parentElement:null,p=o.form?"action":o.m?"content":"src";if(o.abs)if(o.frame)if(bablic.recreateIframes){if(e._babRepFrame)e._babRepFrame.style.setProperty("display",""),e._babRepFrame.src!==a.href&&e._babRepFrame.setAttribute(p,a.href);else{for(var h=document.createElement("IFRAME"),g=0;g<e.attributes.length;g++)if(e.attributes[g].name!=p)try{h.setAttribute(e.attributes[g].name,e.attributes[g].value)}catch(e){}h.setAttribute(p,a.href),e.parentElement.insertBefore(h,e),e._babRepFrame=h}e.style.setProperty("display","none","important")}else if(e.src)try{e.contentWindow.location.replace(a.href)}catch(t){e.setAttribute(p,a.href)}else e.setAttribute("data-src",a.href);else{var m=!1;if(b&&!1===b.paused){try{b.pause()}catch(e){}m=!0}if(e.setAttribute(p,a.href),b)try{b.load(),m&&b.play()}catch(e){}}else e.setAttribute(p,getPathname(a)+(a.search||"")+(a.hash||""))},restore:function(e,t,n,r,a){if(r[0].oVal.src){if(r[0].oVal.frame&&t._babRepFrame)return t._babRepFrame.style.setProperty("display","none","important"),void t.style.setProperty("display","");fakeAnchor.setAttribute("href",t.src)}else r[0].oVal.form&&fakeAnchor.setAttribute("href",t.getAttribute("action"));var i=r[0].oVal.href||r[0].content,o=$.map(r,function(e,t){return{oVal:e.oVal,content:a[t],id:e.id}});this.replacer(t,[i],o,originalLocale)}}}();var flipBackgroundPosition=!0,detectBrowserLocale,pageUri,normalizedCurrentPath,normalizeSomePath,doesSupportAjaxReplace,LocaleSettings,WidgetSettings,bablicDTO,getCurrentOtherDomain,isBot;!function(){var e,t=/url\(\s*['"]?(.+?)['"]?\s*\)/g,n=/(squarespace|shopifycdn)\.com/,r=/googleapis\.com|gravatar\.com|typekit/i,a=!1,i=!1,o=!1,l=null,c=0;isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var s=WIN.CSS2Properties?CSS2Properties:CSSStyleDeclaration;function u(e){var t=parseURL(e),n=t.hostname==LOC.hostname&&-1==e.indexOf("//")?e.substring(0,e.lastIndexOf("/")+1):"//"+t.hostname+t.pathname.substring(0,t.pathname.lastIndexOf("/")+1);return function(e){return r=t,a=n,e.replace(/url\(\s*['"]?(.+?)['"]?\s*\)/g,function(e,t){return t.indexOf("//")>-1?e:0==t.indexOf("data:")?e:"/"==t[0]?"url('//"+r.hostname+t+"')":"url('"+a+t+"')"});var r,a}}function d(e,t){return e&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t)||d(e.__proto__,t):null}function f(e,t,n,r){try{var a=d(e,t);if(a){if(!1===a.configurable)return!1;var i=a.get,o=$.extend({},a);return a.get=function(){return n.call(this,i)},Object.defineProperty(e,t,a),Object.defineProperty(e,"_bab"+t,o),!0}var l=e.__lookupGetter__&&e.__lookupGetter__(t);if(l){return e.__defineGetter__(t,function(){return n.call(this,l)}),e.__defineGetter__(t,"_bab"+l),!0}if(r){try{if(Object.getOwnPropertyDescriptor)return Object.defineProperty(e,t,{get:n,configurable:!0}),!0}catch(e){}return e.__defineGetter__(t,n),!0}}catch(e){bablic.error("error overriding "+t+" "+e.message)}}function b(e,t){try{if(Object.defineProperties)Object.defineProperties(e,t);else if(e.__defineGetter__)for(var n in t)if(e.__defineGetter__(n,t[n].get),e.__defineSetter__(n,t[n].set),e.__lookupGetter__(n)!=t[n].get)return!1}catch(e){}}Bidi=Engines[5]={index:5,name:"bidi",qualifier:function(e,t,n,a){if(i)return a&&"false"===a.bidi||"SVG"==e.tagName?(1==e.nodeType&&this.exclude(e),null):1==e.nodeType&&e.attributes.dir&&e.attributes.dir.value!=n.dir&&"HTML"!=e.tagName&&"BODY"!=e.tagName?(this.exclude(e),null):e.className&&e.className.indexOf&&e.className.indexOf("bablic")>-1?null:e.id&&e.id.indexOf&&e.id.indexOf("bablic")>-1?null:1==e.nodeType&&"LINK"==e.tagName&&"stylesheet"==(e.getAttribute("rel")||"").toLowerCase()&&-1==(e.className||"").indexOf("bablic")&&-1==(e.id||"").indexOf("bablic")?r.test(e.href)?null:e._babQ?null:(e._babQ=!0,{content:"",id:""}):1==e.nodeType&&"STYLE"==e.tagName&&-1==(e.className||"").indexOf("bablic")&&-1==(e.id||"").indexOf("bablic")?!e._babQ||"number"==typeof e._babQ&&e._babQ!==e.innerHTML.length?(e._babQ=!0,delete e._babRestored,{content:"",id:""}):null:(1==e.nodeType&&this.element(e),null)},replacer:function(e){if("LINK"!=e.tagName||e.sheet||e._br){if(!1!==e._babRestored){var t=function(e,t,n){var i=[],o=0;if(e=e.replace(/@import\s+(?:(?:url\(\s*["']?)|"|')(.+?)(?:(?:["']?\s*\))|"|')(?:\s+([^;]*?))?;/g,function(n,l,c){if(r.test(l))return n;var s="__REPLACE"+o+++"__";return i.push(function(n){a(l,function(r){if(t){var a=(i=r,(o=DOC.createElement("STYLE")).setAttribute("bablic-exclude",""),o.setAttribute("type","text/css"),o.setAttribute("media","print"),H(o,i),o.sheet&&o.sheet.cssRules||DOC.head.appendChild(o),o);r=U(a.sheet),a.parentNode&&a.parentNode.removeChild(a)}var i,o;e=e.replace(s,c?"@media "+c+"{"+r+"}\n":r+"\n"),n()})}),s}),!i.length)return n(e);parallel(i,function(){n(e)})},a=function(e,r){var a=parseURL(e),i=u(e),o=function(e){e=i(e),t(e,!1,r)};if(n.test(a.href)||LocalDB.getSync("cors-"+a.href))return ajaxGet("//e2.bablic.com/api/engine/access?url="+encodeURIComponent(a.href),null,o,function(){o("")},!1,2);ajaxGet(a.href,null,o,function(){ajaxGet("//e2.bablic.com/api/engine/access?url="+encodeURIComponent(a.href),null,o,function(){o("")},!1,2),LocalDB.setSync("cors-"+a.href,"1")},!1,2)},i="STYLE"==e.tagName?e:e._babBidid;if(i){var o=U(i.sheet);t(o,!0,function(e){H(i,e),i._babRestored=!1,i._babQ=i.innerHTML.length})}else{var l=e.getAttribute("href");if(l){e.setAttribute("crossorigin","anonymous");var s=!1;try{s=e.sheet&&e.sheet.cssRules}catch(e){}if(s){var d=DOC.createElement("STYLE");d.setAttribute("bablic-exclude",""),d.setAttribute("type","text/css"),d.setAttribute("data-source",e.getAttribute("href"));var f=e.getAttribute("media");f&&d.setAttribute("media",f);o=u(l)(U(e.sheet));t(o,!0,function(t){e.parentNode&&(H(d,t),d._babRestored=!1,e._babBidid=d,e.setAttribute("media","print"),e.parentNode.insertBefore(d,e))})}else if(!e.bablicLoading){e.bablicLoading=!0;var b=bablic.hidden;b&&setHidden(!0);var p=e.parentElement.tagName,h="HEAD"===p||"BODY"===p;a(l,function(t){var n=DOC.createElement("STYLE");n.setAttribute("bablic-exclude",""),n.setAttribute("type","text/css"),n.setAttribute("data-source",e.getAttribute("href")),n.setAttribute("media","print"),H(n,t),n._babRestored=!1,e._babBidid=n;var r=e.getAttribute("media");e.parentNode&&(h?e.parentNode.insertBefore(n,e):DOC.body.appendChild(n),e._br=!0,h?e.parentNode.removeChild(e):e.setAttribute("media","print"),H(n,U(n.sheet)),r?n.setAttribute("media",r):n.removeAttribute("media"),b&&setHidden(!1))})}}}}}else{var g=e._babRev=++c;e.addEventListener("load",function(){g===e._babRev&&Bidi.replacer(e)})}},restore:function(e,t){var n="STYLE"==t.tagName?t:t._babBidid;if(n){if(!1===n._babRestored){var r=B(n.sheet);n._babRestored=!0,H(n,r)}}else t._babRev=++c},element:function(t){t._babBidi||(t.attributes.style&&I(t.style),o||e(t,!0),t._babBidi=!0)},exclude:function(t){t.setAttribute("data-x-bidi",""),t._babBidi&&(delete t._babBidi,o||e(t,!1),t.attributes.style&&I(t.style))},activate:function(){if(a){for(var t=DOC.querySelectorAll("[style]:not([data-x-bidi])"),n=0;n<t.length;n++)t[n].getAttribute("bablic-exclude")?Bidi.exclude(t[n]):Bidi.element(t[n]);i=!0}else{i=!0,a=!0;var r=!1,l=!1,c=!1,u=!!WIN.MutationObserver,p=WIN.Symbol&&WIN.Symbol.iterator;if(o=f(HTMLElement.prototype,"style",function(e){var t=e.apply(this);return!r&&i&&this._babBidi?new $(t):(i&&(t._babParent=this),t)}))try{if(Object.defineProperties){var h=d(s.prototype,"left");h&&!1===h.configurable?r=!1:(h={configurable:!0,get:function(){return this.getPropertyValue("left")},set:function(e){return this.setProperty("left",e)}},Object.defineProperty(s.prototype,"left",h),r=d(s.prototype,"left").get==h.get)}if(r){var g=d(s.prototype,"cssText");g&&(!1===g.configurable?r=!1:Object.defineProperty(s.prototype,"cssText",{configurable:!0,get:function(){if(!i||!this._babParent||!this._babParent._babBidi)return g.get.call(this);var e=this;return Array.from(this).map(function(t){var n=e.getPropertyPriority(t);return t+":"+e.getPropertyValue(t)+(n?"!"+n:"")}).join(";")},set:function(e){if(!i||!this._babParent||!this._babParent._babBidi)return g.set.call(this,e);var t=this,n=[],r=function(e){return n.push(e),"_bk_"},a=function(e){return e.replace(/_bk_/g,function(){return n.shift()})};(e=e.replace(/url\(.*?\)/gi,r).replace(/".*?"/g,r).replace(/'.*?'/g,r)).split(";").forEach(function(e){var n=(e=e.trim()).split(":"),r=n[0],i=n[1];if(r=a(r.trim())){var o=(n=(i=i||"").split("!"))[1];i=a(n[0]),t.setProperty(r.trim(),i.trim(),o)}})}}))}if(!r){var m=s.prototype.__lookupGetter__("width");m&&(s.prototype.__defineGetter__("width",function(){}),s.prototype.__lookupGetter__("width")!=m&&(l=!0,s.prototype.__defineGetter__("width",m)))}}catch(e){}else try{var v=DOC.createElement("div"),y={};l=f(v,"style",function(){return y},!0),v.style==y&&(l=!0),l||(v.style=y,v.style==y&&(c=!0))}catch(e){}if(!(r||l||c||u))return i=!1,void(a=!1);var _=!r&&!l&&!c;r?bablic.log("BIDI: will override css attributes globaly"):l||c?bablic.log("BIDI: will override css attributes per element"):bablic.log("BIDI: will observe style attribute changes");var T=s.prototype.setProperty;s.prototype.setProperty=function(e,t,n,r){if(!i||o&&!this._babParent||this._babParent&&!this._babParent._babBidi)return n?T.call(this,e,t,n):T.call(this,e,t);_&&(this._babOrig=this._babOrig||{},this._babOrig[e]=t),isSafari&&"left"==e&&(this._babParent||r)&&(this._babParent||r)==DOC.body&&(this._babRight=t,t="0");var a=w(e=A(e),t);return n?T.call(this,e,a,n):T.call(this,e,a),t};var L=s.prototype.getPropertyValue;s.prototype.getPropertyValue=function(e,t){if(!i||o&&!this._babParent||this._babParent&&!this._babParent._babBidi)return L.call(this,e);if(isSafari&&"left"==e&&(this._babParent||t)&&(this._babParent||t)==DOC.body)return this._babRight||"";e=A(e);var n=L.call(this,e);return n=w(e,n)},s.prototype._getProp=L;var E=s.prototype.getPropertyPriority;s.prototype.getPropertyPriority=function(e){return!i||o&&!this._babParent||this._babParent&&!this._babParent._babBidi?E.call(this,e):E.call(this,A(e))};var C,N,D=s.prototype.removeProperty;s.prototype.removeProperty=function(e){return!i||o&&!this._babParent||this._babParent&&!this._babParent._babBidi?D.call(this,e):D.call(this,A(e))};try{var x=["left","right","padding","margin","float","text-align","padding-left","padding-right","margin-left","margin-right","border-radius","border-left","border-left-color","border-left-style","border-left-width","border-right","border-right-color","border-right-style","border-right-width","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","text-align-last"],S=(C=WIN.getComputedStyle(DOC.documentElement,""),N=(Array.prototype.slice.call(C).join("").match(/-(moz|webkit|ms)-/)||""===C.OLink&&["","o"])[1],{dom:"WebKit|Moz|MS|O".match(new RegExp("("+N+")","i"))[1],lowercase:N,css:"-"+N+"-",js:N[0].toUpperCase()+N.substr(1)});["transform","transform-style","transform-origin","transition","transition-property"].forEach(function(e){x.push(e),S.lowercase&&x.push(S.css+e)});var I={float:["cssFloat"]},R=x.length;for(n=0;n<R;n++){var k=x[n],B=k.split("-");if(B.length>1){var P=B.shift()+B.map(function(e){return e[0].toUpperCase()+e.substr(1)}).join("");I[k]=[P],"-"==k[0]&&(P=B.shift()+B.map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(""),I[k].push(P))}}var M={};if(x.forEach(function(e){M[e]=1}),r){var W={};x.forEach(function(e){var t={get:function(){return this.getPropertyValue(e)},set:function(t){this.setProperty(e,t+"")},configurable:!0};W[e]=t,e in I&&I[e].forEach(function(e){W[e]=t})}),b(s.prototype,W)}else if(l||c){var U=DOC.createElement("div"),$=function(e){this.s=e};for(var H in p&&($.prototype[Symbol.iterator]=function(){var e=0;return{next:function(){return{value:this.s[++e],done:!(e in this.s)}}}}),s.prototype){try{if("function"!=typeof s.prototype[H])continue}catch(e){continue}$.prototype[H]=s.prototype[H]}var j={};for(var H in U.style)"function"!=typeof U.style[H]&&(j[H]=function(e){if(e in M){var t={get:function(){return this.s.getPropertyValue(e)},set:function(t){this.s.setProperty(e,t+"")},configurable:!0};return k in I&&I[k].forEach(function(e){j[e]=t}),t}return"length"==e?{get:function(){var e=this.s.length;this._babItr=this._babItr||0;for(var t=this._babItr;t<e;t++)f(this,t+"",function(e){return function(){return this.s[e]}}(t),!0);return e},configurable:!0}:{get:function(){return this.s[e]},set:function(t){this.s[e]=t},configurable:!0}}(H));b($.prototype,j),e=function(e,t){if(t){e._babStyl||(e.style._babParent=e,e._babStyl=new $(e.style));var n=e._babStyl;l?f(e,"style",function(){return n},!0):c&&(e.style=n)}else{if(!e._babStyl)return;l?f(e,"style",function(){return e._babStyl.s},!0):c&&(e.style=e._babStyl.s)}}}else if(u){var F={attributes:!0,attributeFilter:["style"]};e=function(e,t){if(t)e._babObs||(e._babObs=new WIN.MutationObserver(function(){for(var t=[],n=0;n<e.style.length;n++){var r=e.style[n];if(r in M){var a=O(e.style,r),i=e.style._babOrig?e.style._babOrig[r]:"";i!=a&&t.push([r,a,i])}}if(t.length){e._babObs.disconnect();for(n=0;n<t.length;n++)e.style[t[n][0]]=t[n][2],e.style.setProperty(t[n][0],t[n][1],void 0,e);e._babObs.observe(e,F)}}),e._babObs.observe(e,F));else{if(!e._babObs)return;e._babObs.disconnect()}}}}catch(e){bablic.error("Error overriding CSS style attributes "+e.message)}var V=Element.prototype.getBoundingClientRect;Element.prototype.getBoundingClientRect=function(){var e=V.call(this);if(!i||!this._babBidi)return e;var t=DOC.documentElement.offsetWidth;return e?{top:e.top,bottom:e.bottom,width:e.width,height:e.height,left:t-e.right,right:t-e.left}:e},Element.prototype._babgetBoundingClientRect=V,f(HTMLElement.prototype,"offsetLeft",function(e){var t=e.apply(this);if(!i||!this._babBidi)return t;var n=this.offsetParent;return(n?n.clientWidth:DOC.documentElement.clientWidth)-this.clientWidth-t});var z=WIN.getComputedStyle;bablic.getStyle=z,WIN.getComputedStyle=function(e){var t=z.apply(this,arguments);return i&&e&&e._babBidi?(t._babParent=e,t):t};var G=function(e){var t=e.apply(this);if(!i)return t;for(var n=this.target;n;){if(n.hasAttribute&&n.hasAttribute("data-x-bidi"))return t;n=n.parentElement}return DOC.documentElement.clientWidth-t},q=function(e){f(e.prototype,"pageX",G),f(e.prototype,"clientX",G)};bablic.skipMirrorMouseEvents||("undefined"!=typeof MouseEvent&&q(MouseEvent),"undefined"!=typeof TouchEvent&&q(TouchEvent),"undefined"!=typeof Touch&&q(Touch))}},deactivate:function(){i=!1;for(var t=DOC.querySelectorAll("[style]"),n=0;n<t.length;n++)t[n]._babBidi&&(delete t[n]._babBidi,o||e(t[n],!1),I(t[n].style))},setDir:function(e){var t=originalLocale.dir||"ltr";if(e!=(l=l||t)){var n=targetLocale.engines.includes(5);if(e!=t){if(!i&&n){this.activate();var r="html{direction:"+e+';} polyline{transform: scale(-1,1);transform-origin: 50% 50%;} .bidi-flip{transform: scale(-1,1);transform-origin: 50% 50%;}[bablic-exclude],[data-bablic-exclude],[data-bablic-bidi="false"],[bablic-bidi="false"]{direction:'+t+';} [bablic-include],[data-bablic-include],[data-bablic-bidi="true"],[bablic-bidi="true"]{direction:'+e+";} [dir=ltr]:not([data-x-bidi]){ direction:rtl;} [dir=rtl]:not([data-x-bidi]){ direction:ltr;}",a=$.byId("bablic_rtl_css");a.length()?a.html(r):(setHidden(!0,!0),$.byTag("head").append("<style type='text/css' id='bablic_rtl_css' bablic-exclude>"+r+"</style>"),bablic.on("translated",function(){setHidden()}))}n||$.byId("bablic_rtl_css").html("")}else i&&this.deactivate(),$.byId("bablic_rtl_css").html("html{direction:"+e+";}");l=e}}};var p=/\b([Ll]eft|[Rr]ight)\b/,h={left:"right",right:"left",Left:"Right",Right:"Left"},g=/([\-0-9.]+(?:px|em|pt|%|)|auto)[\s\t\n\r]+([\-0-9.]+(?:px|em|pt|%|)|auto)[\s\t\n\r]+([\-0-9.]+(?:px|em|pt|%|)|auto)[\s\t\n\r]+([\-0-9.]+(?:px|em|pt|%|)|auto)/gi,m=/transform/i,v=/transform-origin/i,y=/translate(X|3d)?\(\s*(\-)?([0-9\.]+)/,_=/rotate(X)?\(\s*(\-)?([0-9\.]+)/;function A(e){return e.replace(p,function(e){return h[e]})}var T={};function L(e,t){for(var n=0;n<t.length;n++){var r=t[n][0],a=t[n][1];if(-1!=e.lastIndexOf(r))return e.replace(RegExp(escapeRegex(r),"g"),a)}return e}var E=[["left","right"],["next","previous"],["prev","next"]],C=/[<>\(\)\[\]\{\}]/g,N={">":"<","<":">","(":")",")":"(","[":"]","]":"[","{":"}","}":"{"},D=/^\s*(?:(?:"([^"]+)")|(?:'([^']+)'))\s*$/;var x=/^[\-0-9.]+%/,S=/^[\-0-9.]+(px|pt|cm|in|em|rem|vw|vh)/;function w(e,n,r,a){if("string"!=typeof n)return n;if("direction"==e)return"ltr"==n?"rtl":"rtl"==n?"ltr":n;if("margin"==e||"padding"==e)return n.replace(g,"$1 $4 $3 $2");if("border-radius"==e)return n.replace(g,"$2 $1 $4 $3");if("content"==e)return function(e,t,n){if(!e)return e;var r=D.exec(e);if(!r)return e;var a=r[1]||r[2];if(isSafari||a.length>1&&"\\"!=a[0])return e.replace(C,function(e){return N[e]});if(!t)return e;for(var i=t.split("{")[0].trim(),o=[],l=0;l<E.length;l++){var c=E[l],s=L(i,[c,[c[1],c[0]]]);if(s!=i){if(s in T)return T[s];o.push(s)}}if(!n)return e;for(l=0;l<o.length;l++){var u=o[l],d=$.grep(n,function(e){return e.selectorText==u})[0];if(d){var f=d.style.content;if(f&&(r=D.exec(f))&&!((a=r[1]||r[2]).length>1&&"\\"!=a[0]))return T[i]=e,T[u]=f,f}}return e}(n,r,a);if(!isSafari&&flipBackgroundPosition&&"background-position-x"==e){if(n=n.trim(),x.test(n))return 100-Number(n.substr(0,n.length-1))+"%";if(S.test(n))return"calc(100% - "+n+")"}if(!isSafari&&flipBackgroundPosition&&"background-position"==e){var i=(n=n.trim()).split(/\s+/);if(x.test(n)){var o=i[0],l=i[1]||i[0];return 100-Number(o.substr(0,o.length-1))+"% "+l}if(S.test(n))return"calc(100% - "+i[0]+") "+i[1]}if("animation-name"==e||"animation"==e){var c=n.split(/\s+/);return[c.shift()+"-bablic-bidi"].concat(c).join(" ")}if(v.test(e)){i=(n=n.trim()).split(/\s+/);if(x.test(n)||0===parseFloat(i[0])){o=i[0];return i[0]=100-parseFloat(o)+"%",i.join(" ")}}else if(m.test(e))return n.replace(y,function(e,t,n,r){return"translate"+(t||"")+"("+(n||"0"==r?"":"-")+r}).replace(_,function(e,t,n,r){return"rotate"+(t||"")+"("+(n||"0"==r?"":"-")+r});var s=[];return n.replace(t,function(e){return s.push(e),"__SAVE__"}).replace(p,function(e){return"left"==e?"right":"Left"==e?"Right":"Right"==e?"Left":"left"}).replace(/__SAVE__/g,function(){return s.shift()})}function O(e,t){return e._getProp?e._getProp(t):e.getPropertyValue(t)}function I(e){for(var t=[],n={},r=e.length-1;r>=0;r--){var a=e[r],i=O(e,a),o=A(a),l=w(a,i);if(a!=o){t.push(a);var c=e.getPropertyPriority(a);n[o]=[l,c]}else l!=i&&e.setProperty(a,l,e.getPropertyPriority(a))}for(var a in t.forEach(function(t){e.removeProperty(t)}),n)e.setProperty(a,n[a][0],n[a][1])}var R={"background-repeat-y":["background-repeat-x","background-repeat"],"background-position-y":["background-position-x","background-position"]};function k(e,t,n){for(var r,a=[],i=!1,o={},l=e.length-1;l>=0;l--){var c=e[l];if(!(c in o)){var s=O(e,c),u=(r=c).startsWith("border-")&&!r.includes("radius")?"border":r.startsWith("background-")&&!r.startsWith("background-position")?"background":null;if(s||!u||o[u]||t.includes(c+":")||(o[u]=!0,c=u,s=O(e,u)),isSafari&&"unset"!=s&&"initial"!=s&&c in R){var d=R[c][1],f=R[c][0],b=O(e,f);b&&"unset"!=b&&"initial"!=b&&(o[f]=!0,c=d,s=s+" "+b)}var p=A(c),h=w(c,s,t,n);i||(h!=s||isSafari&&-1==c.indexOf("-")&&"initial"==s?i=!0:p!=c&&O(e,c)!=O(e,p)&&(i=!0));var g=e.getPropertyPriority(c)?" !important":"";if("content"==p&&1==h.length){var m=h.charCodeAt(0);m>255&&(h="\\"+m.toString(16),isSafari&&(h='"'+h+'"',i=!0))}a.push(p+":"+h+g+";")}}return i?a.join(" "):null}function B(e){var t=[];try{for(var n=0;n<e.cssRules.length;n++){var r=e.cssRules[n];switch(r.type){case 1:if(r.selectorText.indexOf(":not([data-x-bidi]")>-1)break;var a=r.selectorText.replace(/\s:not\(\.bab\-s\)/g," *").replace(/\s\[data\-x\-bidi\]/g," *").replace(/:not\(\.bab\-s\)/g,"").replace(/\[data\-x\-bidi\]/g,"").split(/\s*,\s*/).map(function(e){return e||"*"}).join(",");t.push(a+"{"+W(r)+"}");break;case 4:var i=r.conditionText||(r.media?r.media.mediaText:"");if(!i)return P(r);t.push("@media "+i+"{"+B(r)+"}");break;case 12:t.push("@supports "+r.conditionText+"{"+B(r)+"}");break;case 13:t.push("@document "+r.conditionText+"{"+B(r)+"}");break;case 7:if(r.name.indexOf("-bablic-bidi")>-1)break;default:t.push(P(r))}}}catch(e){bablic.error(e)}return t.join("\n")}function P(e){try{return e.cssText||(e.getCssText?e.getCssText():"")}catch(t){switch(e.type){case 7:return"@keyframes "+e.name+"{"+$.map(e.cssRules,function(e){return e.keyText+" {"+e.style.cssText+"}"})+"}";case 8:return e.keyText+" {"+e.style.cssText+"}"}}}var M=/\{(.+)\}/;function W(e){if(isSafari){for(var t=!1,n=!1,r=0;r<e.style.length;r++){var a=e.style[r];if("initial"==O(e.style,a)&&-1==a.indexOf("-")&&(t=!0),"content"==a&&(n=!0),t&&n)break}if(t||n){var i=[];for(r=0;r<e.style.length;r++){a=e.style[r];var o=e.style.getPropertyPriority(a)?" !important":"",l=O(e.style,a);"content"==a&&1==l.length&&(l=l.charCodeAt(0)>255?'"\\'+l.charCodeAt(0).toString(16)+'"':'"'+l+'"'),i.push(a+":"+l+o+" ;")}return i.join("\n")}}var c=P(e),s=M.exec(c);return s?s[1]:""}function U(e){if(!e.cssRules)return"";var t=[];try{for(var n=0;n<e.cssRules.length;n++){var a=e.cssRules[n];switch(a.type){case 1:var i=k(a.style,a.cssText,e.cssRules),o=$.grep(a.selectorText.split(",").map(function(e){return e.trim()}),function(e){return e}),l=[],c=[],s=[];if(o.forEach(function(e){var t=$.grep(e.split(/\s+/),function(e){return e}),n=t.pop(),r=[],a=n.replace(/\[.*?\]/g,function(e){var t=[];return r.push(e.replace(/"[^"]"/g,function(e){return t.push(e),"__QUOTE__"}).replace(/\\?:/g,"\\:").replace("__QUOTE__",function(){return t.shift()||'""'})),"__ATTR__"}).replace(/\\:/g,"__P__").split(":").map(function(e){return e.replace(/__ATTR__/g,function(){return r.shift()||""}).replace(/__P__/g,"\\:")}),o=a.shift();if(i){var u=[o+"[data-x-bidi]"].concat(a).join(":");l.push([].concat(t,[u]).join(" "));var d=[o+":not([data-x-bidi])"].concat(a).join(":");c.push([].concat(t,[d]).join(" "))}else{var f=[o+":not(.bab-s)"].concat(a).join(":");s.push([].concat(t,[f]).join(" "))}}),!i){t.push(s.join(",")+"{"+W(a)+"}");break}t.push(l.join(",")+"{"+W(a)+"}"),t.push(c.join(",")+"{"+i+"}");break;case 3:var d=a.sheet||a.styleSheet,f=!1;try{f=d.cssRules}catch(e){}if(r.test(a.href)||!f){t.push(a.cssText);break}var b=u(a.href)(U(d));if(a.media&&a.media.mediaText){t.push("@media "+a.media.mediaText+"{"+b+"}");break}t.push(b);break;case 4:var p=a.conditionText||(a.media?a.media.mediaText:"");if(!p)return P(a);t.push("@media "+p+"{"+U(a)+"}");break;case 12:t.push("@supports "+a.conditionText+"{"+U(a)+"}");break;case 13:t.push("@document "+a.conditionText+"{"+U(a)+"}");break;case 7:var h=a.name;t.push(P(a));var g=Array.prototype.map.call(a.cssRules,function(e){return k(e.style)?(!0,e.keyText+" {"+k(e.style)+"}"):P(e)}).join(" ");t.push("@keyframes "+h+"-bablic-bidi{"+g+"}");break;default:t.push(P(a))}}}catch(e){bablic.error(e)}return t.join("\n")}function H(e,t){bablic.setMutationListen(!1);try{e.innerHTML=t}catch(r){var n=DOC.createTextNode();for(setNodeValue(n,t);e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n)}bablic.setMutationListen(!0)}Bidi.restoreStyleSheet=B}();var explicitPage=bablic.page,_d1="defaul",_s1="switc",myDiv,send_usage_report,send_ldata_report,setZIndex,runHeadEngines,siteConfReceived,translationReceived,fetchSequence,parallel,parallelEach,getConf,getPageTranslations,onReady,locale,locales,targetLocale,originalLocale,MOBILE,ping,nonBlocking;!function(bablic){var DEFAULT=_d1+"t",SWITCH=_s1+"h";bablic.version=5;var IGNORE=/^\/wp\-(login|admin)/i;bablic.getLocale=function(){return bablic.locale},isBot=function(){return navigator&&navigator.userAgent&&/bot|crawler|yandex|bing|baidu|spider|facebook|twitter|80legs|google|seo|search/i.test(navigator.userAgent)},bablic.detectLocale=function(e,t){t=t||{};var n=(e=e||LDATA||bablic.conf)||bablic.data||{},r=PROXY?"subdomain":bablic.localeURL||n.localeDetection;if(!r&&bablic.previewMode&&(r="querystring"),!r)return null;var a=parseURL("http://"+pageUri()),i=bablic.customUrls||n.customUrls||{};if(e&&!bablic.customUrls)for(var o=0;o<e.locales.length;o++)i[e.locales[o].key]=e.locales[o].url;var l=e&&e.locales&&$.map(e.locales,function(e){return e.key})||n.localeKeys,c=n.orig||n.original||bablic.original;l&&l.push(c);var s=null;if(!1!==n.autoDetect&&!t.bare&&!nonBlocking&&l&&!isBot()){var u=detectBrowserLocale(!0);for(o=0;o<u.length;o++){if(l.indexOf(u[o])>-1){s=u[o];break}var d=$.grep(u,function(e){return e[0]==u[o][0]&&e[1]==u[o][1]&&l.indexOf(e)>-1});if(d.length){s=d[0];break}for(var f=0;f<l.length;f++)if(l[f][0]==u[o][0]&&l[f][1]==u[o][1]){s=l[f];break}if(s)break}}var b=bablic.locale,p=bablic.cookie&&bablic.cookie.getCookie("wixLanguage");"custom"==r&&p&&p!=b&&(b=p);var h=t.bare?getLocaleByURL(a,r,i):getLocaleByURL(a,r,i,bablic.locale,n[DEFAULT]||c,s,bablic.proxy,bablic.explicitLocale,bablic.subDirBase,bablic.folders,l,originalLocale,null,bablic.ignoreQs);if(l&&-1==l.indexOf(h)&&!PROXY)for(o=0;o<l.length;o++)if(l[o][0]==h[0]&&l[o][1]==h[1]){h=l[o];break}if((!LDATA||!LDATA.edit)&&LocaleSettings[h]&&LocaleSettings[h].hidden)return findFallbackLocale();if(!LDATA&&!bablic.preview&&t&&t.initial&&!nonBlocking&&h==c&&"custom"==r)if("#language"==location.hash)WIN.history&&WIN.history.replaceState?WIN.history.replaceState(null,null,location.pathname+(location.search||"")):location.hash="";else if(b&&b!=h&&i[b]){if(performRedirect(bablic.getLink(b)))return 0}else if(!b)if(!1!==n.autoDetect&&s&&s!=h&&i[s]){if(performRedirect(bablic.getLink(s)))return 0}else if(!s&&h==c&&n[DEFAULT]&&n[DEFAULT]!=c&&i[n[DEFAULT]]&&performRedirect(bablic.getLink(n[DEFAULT])))return 0;return h},detectBrowserLocale=function(e){if(e)return WIN.navigator.languages&&WIN.navigator.languages[0]?WIN.navigator.languages:[detectBrowserLocale()];var t=WIN.navigator.userLanguage||WIN.navigator.language||WIN.navigator.languages&&WIN.navigator.languages[0];return t?t.replace("-","_").toLowerCase():null},getCurrentOtherDomain=function(e){if(void 0===getOtherDomain)return"";var t=(LDATA&&LDATA.domains&&LDATA||bablic.conf||bablic.data||{}).domains,n=e||LOC.hostname;return WIN.BABLIC_RESTORE?n=BABLIC_RESTORE(n):WIN.BABLIC_R&&(n=n.replace(BABLIC_R,BABLIC_V)),getOtherDomain(n,t)},pageUri=function(e){var t=LOC.pathname+LOC.search+LOC.hash;return t=generateOriginalPath(t,bablic.locale)||t,(e?"":LOC.hostname+LOC.port)+(explicitPage||t)},normalizedCurrentPath=function(e){if(explicitPage)return explicitPage;var t=LDATA||bablic.conf,n=bablic.data||LDATA||bablic.conf||{},r=t&&t.locales&&$.map(t.locales,function(e){return e.key})||n.localeKeys;if(!r)return pageUri(!0)+(e?"__async__":"");var a,i=getCurrentOtherDomain();(i=i?"@"+i.toLowerCase().replace(/[.@]/g,"-")+"@":"",n.previewUrl)&&(a=parseURL(n.previewUrl).pathname);return i+normalizePath(pageUri(!0),bablic.localeURL||n.localeDetection,n.includeQueryString,n.includeHash,n.singlePageApp,r,n.qsParams,n.domain,bablic.subDirBase,bablic.folders,null,a)+(e?"__async__":"")},normalizeSomePath=function(e){var t=bablic.data||LDATA||bablic.conf||{},n=LDATA||bablic.conf,r=n&&n.locales&&$.map(n.locales,function(e){return e.key})||t.localeKeys;return r?normalizePath(e,bablic.localeURL||t.localeDetection,t.includeQueryString,t.includeHash,t.singlePageApp,r,t.qsParams,t.domain,bablic.subDirBase,bablic.folders,!0):e},bablic.getCurrentOtherDomain=getCurrentOtherDomain,bablic.useLocalDB="boolean"==typeof bablic.useLocalDB&&bablic.useLocalDB,bablic.mutation_listen_off=0,bablic.setMutationListen=function(e){e&&1===bablic.mutation_listen_off?turnObserverOn&&turnObserverOn():e||0!==bablic.mutation_listen_off||turnObserverOff&&turnObserverOff(),bablic.mutation_listen_off+=e?-1:1},bablic.suppress=function(e){bablic.setMutationListen(!1),e(),bablic.setMutationListen(!0)},bablic.translateAttribute=function(e,t){translateAttr(e,t)};var SUB_DIR=/^(\/(\w\w?\w(_\w\w)?))(?:\/|$)/;function generateTranslatedLink(e,t,n,r){var a=parseURL(e);n=n||{};var i=a.protocol||"",o=a.hostname,l=a.pathname||"/";bablic.locale!==t&&(l=generateOriginalPath(l,bablic.locale)||l,l=generateTranslatedPath(l,t)||l);var c=a.search||"",s=a.hash||"",u=n.returnFull&&!!o;u||o===LOC.hostname&&i===LOC.protocol||(u=!0);var d=r.localeDetection,f=r.original;switch(n.subDir&&(d="subdir"),"custom"!=d||r.customUrls&&r.customUrls[t]||(d="querystring"),d){case"custom":var b=r.customUrls[t];b&&/[?&]locale=([^&]+)/.test(c)&&(c=c.replace(/([?&]locale=)([^&]+)/,""));var p=b.indexOf("/")>-1?b.substr(0,b.indexOf("/")):b;return u||r.original!=t||isBot()||(s="#language"),i+"//"+p+l+c+s;case"querystring":return c=/[?&]locale=([^&/]+)/.test(c)?c.replace(/([?&]locale=)([^&/]+)/,"$1"+t):c?c+"&locale="+t:"?locale="+t,u?i+"//"+o+l+c+s:l+c+s;case"subdir":var h=n.folders?Object.keys(n.folders):r.localeKeys,g=RegExp("^(?:"+escapeRegex(n.subDirBase||"")+")?(\\/(?:"+h.join("|")+"))*(?:\\/|$)").exec(l);g&&(l=l.replace(g[0],"/"));var m="";return n.folders?m="/"+getFolder(t,n.folders):t==f||n.ignoreSub&&-1!=n.ignoreSub.indexOf(l.toLowerCase())||IGNORE.test(l)||(m="/"+t),!n.subDirBase||n.subDirOptional&&t==f||(m=n.subDirBase+m),u?i+"//"+o+m+l+c+s:m+l+c+s;case"hash":return u?i+"//"+o+l+c+"#locale="+t:"#locale_"+t}return'javascript:bablic.setLanguage("'+t+'");'}function getElementsOrSelector(e){if(!document.querySelectorAll||bablic.preview)return[];var t;if("string"==typeof e)t=Array.prototype.slice.apply(document.querySelectorAll(e+","+e+" *"));else{e.length||(e=[e]),t=[];for(var n=0;n<e.length;n++)t.push(e[n]),Array.prototype.push.apply(t,e[n].querySelectorAll("*"))}return t}function processSavedNodes(e,t){if(document.querySelectorAll&&!bablic.preview){for(var n=getElementsOrSelector(e),r=[],a=0;a<n.length;a++)t||n[a]._babIg?t&&n[a]._babIg&&(delete n[a]._babIg,r.push(n[a])):(n[a]._babIg=!0,r.push(n[a]));if(r.length&&LDATA&&LDATA.content&&savedContentNodes){bablic.setMutationListen(!1);for(a=0;a<savedContentNodes.length;a++){var i=savedContentNodes[a].node,o=savedContentNodes[a].element;if(-1!=r.indexOf(o))if(t){if(!locked){var l=LDATA.content[savedContentNodes[a].hash];l&&"__empty__"!=l&&savedContentNodes[a].replace(i,o,l)}}else savedContentNodes[a].restore(i,o)}for(a=0;a<watchedElements.length;a++)try{watchedElements[a]._babLis()}catch(e){bablic.error(e)}bablic.setMutationListen(!0)}}}function handleWix(){if(WIN.wixBiSession)if(WIN.boltInstance&&WIN.boltInstance.setResizeCounter){var e=Math.floor(2e5*Math.random())+1;WIN.boltInstance.setResizeCounter(e)}else WIN.rendered&&WIN.rendered._requestRelayout?WIN.rendered._requestRelayout():WIN.$(WIN).resize()}bablic.getLink=function(e,t,n,r,a,i,o,l,c){var s=LDATA||bablic.conf,u=s||bablic.data||{},d=u.original||u.orig||bablic.original,f=bablic.subDirBase,b=bablic.subDirOptional,p=bablic.localeURL||s&&s.localeDetection||bablic.data&&bablic.data.localeDetection;if("subdomain"===p){var h=s&&s.edit?"_":".",g=s&&s.edit?"_":"\\.",m=RegExp("(www"+g+")?(?:(?:\\w\\w?\\w(?:_\\w\\w)?)"+g+")?(.+?)$").exec(t||LOC.host),v=(a&&a.www?"www"+h:"")+(a&&a.s&&a.s+h||(e==d?"":e+h))+m[2];return(n||LOC.href).replace(t||LOC.host,v)}var y,_=s&&s.locales&&$.map(s.locales,function(e){return e.key})||u.localeKeys,A={original:d,localeDetection:p,localeKeys:_||[]};if("custom"==p)if(bablic.customUrls&&bablic.customUrls[e])A.customUrls=bablic.customUrls;else if(A.customUrls={},u.locales&&(y=$.grep(u.locales,function(t){return t.key==e})[0]),y)if(y.url)A.customUrls[e]=y.url;else{var T=$.grep(u.locales,function(e){return e.key==d})[0],L=parseURL(n||LOC.href),E=L.protocol||"https",C=L.pathname||"/",N=L.search||"",D=L.hash||"";n=E+"//"+(T.url.indexOf("/")>-1?T.url.substr(0,T.url.indexOf("/")):T.url)+C+N+D}else u.customUrls&&(A.customUrls[e]=u.customUrls[e]);return generateTranslatedLink(n||LOC.href,e,{returnFull:c,subDirBase:f,subDirOptional:b,subDir:"subdir"===p,folders:bablic.folders,ignoreSub:bablic.ignoreSub},A)};var locked=!1,changeRev=0;function switchLocaleAjax(e,t,n){if(e!=bablic.locale&&!locked){delete bablic.explicitLocale,t=t||bablic.getLink(e);var r=targetLocale,a=!bablic._processed,i=e==bablic.original;if(-1==t.indexOf("javascript:")&&!bablic.noReplaceState){var o=parseURL(t);bablic.replaceState?bablic.replaceState(null,null,o.pathname+(o.query||"")+(o.hash||"")):history.replaceState(null,null,o.pathname+(o.query||"")+(o.hash||""))}!function(t){if(e in localeLDATAs&&(LDATA=localeLDATAs[e]).content)return bablic.locale=e,underlineLocale=e,siteConfReceived(LDATA),triggerEvent("locale",[e]),t();LDATA=$.extend({},LDATA,{content:{}}),bablic.locale=e,underlineLocale=e,locked=!0;var n=++fetchRevision;fetchSequence(n,function(e,r,a){locked=!1,n==fetchRevision&&(a&&translationReceived(a,!0),t(e),ping({shouldHide:!1,stats:r,detectedLocale:bablic.detectedLocale,path:normalizedCurrentPath()}))})}(function(){if(a){var e=savedContentNodes;return savedContentNodes=[],runHeadEngines(!0),bablic._processed=!0,domTraverse($.byTag("html").get(0),bablic.UseInclude),mergeContentNodes(e),triggerEvent("translated",[bablicDTO()]),void handleWix()}if(!savedContentNodes)return bablic.error("Error on ajax navigate");bablic.setMutationListen(!1);for(var t=changeRev++,o=0;o<savedContentNodes.length;o++){var l=savedContentNodes[o],c=l.node,s=l.element;if(i||s._babIg||2!=l.engine.index&&!LDATA.engines[l.engine.index])l.restore(c,s);else{var u=LDATA.content[l.hash],d="string"==typeof u&&"__empty__"!=u;d||l.hash.length<=3?(l.replace(c,s,d?u:l.content,r),c._b_rev=t):c._b_rev!=t&&l.restore(c,s)}}if(n){e=savedContentNodes;savedContentNodes=[],runHeadEngines(!0),_forceTraverse=!0,domTraverse($.byTag("html").get(0),bablic.UseInclude),_forceTraverse=!1,mergeContentNodes(e)}for(o=0;o<watchedElements.length;o++)try{watchedElements[o]._babLis()}catch(e){bablic.error(e)}bablic.setMutationListen(!0),triggerEvent("translated",[bablicDTO()]),handleWix(),LDATA.fallback&&!LDATA.edit&&send_ldata_report(!0)})}}function getLocaleSettings(e){var t=LocaleSettings[e];return t||(t=LocaleSettings[e]={}),t}function findFallbackLocale(){if(!bablic.languages.get(bablic.original).hidden)return bablic.original;var e=$.grep(bablic.languages.get(),function(e){return!e.hidden})[0];return e?e.key:bablic.original}doesSupportAjaxReplace=function(e){return WIN.history&&WIN.history.replaceState&&IS_PROPERTIES_SUPPORTED&&LDATA&&(LDATA.ajaxWidget||e)&&!LDATA.edit&&(e||"subdomain"!=LDATA.localeDetection&&"custom"!=LDATA.localeDetection&&"tld"!=LDATA.localeDetection)},bablic.setLanguage=bablic.redirectTo=function(e,t,n){t&&t instanceof Event&&(n=t,t=null);var r=!n&&void 0;if(bablic._locked)return r;var a=targetLocale&&targetLocale.engines.length,i=locales&&$.grep(locales,function(t){return t.key==e})[0];if((targetLocale=i)||((targetLocale=locales&&$.grep(locales,function(t){return t.key[0]==e[0]&&t.key[1]==e[1]})[0])&&(e=targetLocale.key),targetLocale||(targetLocale=locales&&$.grep(locales,function(t){if(t.iso){var n=t.iso.split("-")[1];if(n)return n.toLowerCase()==e}})[0]),targetLocale&&(e=targetLocale.key)),WIN.omg&&WIN.omg.EditorSite)try{return EDITOR.switchLocale(e),r}catch(n){}if((!LDATA||!LDATA.edit)&&bablic.languages.get(e).hidden)return console.log("language is hidden"),r;if(!LDATA&&bablic.locale===e)return r;var o=(t=t||{}).forceRedirect||bablic.forceRefresh;if(e!=bablic.locale&&!1===triggerEvent("beforeLocaleChange",[e]))return r;LocalDB.setSync("locale",e,!0),LocalDB.setSync("explicit",e,!0);var l=(targetLocale&&targetLocale.engines.length)>a,c=bablic.getLink(e);if(n&&n.target&&n.target.href&&(n.shiftKey||n.ctrlKey||n.altKey)&&$('<a href="'+c+'" />').get(0).href==n.target.href)return!0;if(!o&&doesSupportAjaxReplace()&&targetLocale)return switchLocaleAjax(e,c,l),r;if(t.addPreviewHash){var s=parseURL(c);c=s.protocol+"//"+s.hostname+s.pathname+s.search+"#previewMode"}return LOC.href=c,bablic.locale=e,underlineLocale=e,r},bablic.widget={get:function(){return WidgetSettings||bablic.widgetConf||{}},update:function(e){return WidgetSettings=e,bablic.showFlags(),this},hide:function(){var e=this.get();return e.show=!1,this.update(e)},show:function(){var e=this.get();return e.show=!0,this.update(e)},element:function(){return $("#bablicFlagsWidget").get(0)},expand:function(){var e=this.element();return e&&e.contentWindow&&e.contentWindow.expand&&e.contentWindow.expand(),this},collapse:function(){var e=this.element();return e&&e.contentWindow&&e.contentWindow.collapse&&e.contentWindow.collapse(),this},_switch:function(e,t,n){var r=$(e);if(!r.length()&&!n)return"string"==typeof e&&(bablic.selector(e).exclude(),onReady(function(){bablic.widget[SWITCH](e,t,!0)})),this;r.attr("bablic-exclude",!0);var a,i=r.filter("a");r.off("click").on("click",function(e){if(a){if("A"==this.tagName){if(e.ctrlKey||e.shiftKey||e.altKey)return!0;e.preventDefault()}bablic.redirectTo(a.key)}else o(bablic.getLocale())});var o=function(e){var n=bablic.languages.get();(a=$.grep(n,function(t){return(!t.hidden||LDATA&&LDATA.edit)&&t.key!=e})[0])&&(r.text(t&&t.fullName?a.name:a.name.split("_")[0].toUpperCase()),i.attr("href",bablic.getLink(a.key)))};bablic.on("locale",o)},done:function(){return bablic}},bablic.widget[SWITCH]=bablic.widget._switch,bablic._sels={},bablic.element=function(e){return{translate:function(){return processSavedNodes(e,!0),this},restore:function(){return processSavedNodes(e,!1),this},overrideGetter:function(){var t=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML");bablic.setMutationListen(!1),processSavedNodes(e,!1);var n=getElementsOrSelector(e);return n.forEach(function(e){e._html=t.get.call(e)}),processSavedNodes(e,!0),bablic.setMutationListen(!0),this.pre(function(){var e=t.get.call(this);e!=this._translated&&(this._html=e)}),this.post(function(){this._translated=t.get.call(this)}),n.forEach(function(e){overrideHTMLAccess(e,function(e){return targetLocale!=originalLocale&&this._html?this._html:e.call(this)})}),this},done:function(){return bablic},on:function(t,n){if(!document.querySelectorAll)return this;for(var r="string"==typeof e?document.querySelectorAll(e):e.length?e:[e],a=0;a<r.length;a++)r[a]._babE=r[a]._babE||{},r[a]._babE[t]=n;return this},off:function(t,n){if(!document.querySelectorAll)return this;for(var r="string"==typeof e?document.querySelectorAll(e):e.length?e:[e],a=0;a<r.length;a++)if(t){if(!r[a]._babE)continue;if(n){if(r[a]._babE[t]){var i=r[a]._babE[t].indexOf(n);i>-1&&r[a]._babE[t].splice(i,1)}}else delete r[a]._babE[t]}else delete r[a]._babE;return this},pre:function(t){return bablic.element(e).on("pre1",t)},post:function(t){return bablic.element(e).on("post1",t)},watch:function(t){var n="string"==typeof e?document.querySelectorAll(e):e.length?e:[e];return $.each(n,function(e,n){bablic.watch(n,t)}),this},exclude:function(){bablic.setMutationListen(!1);var t="string"==typeof e?document.querySelectorAll(e):e.length?e:[e];return $.each(t,function(e,t){if(t.hasAttribute("bablic-include"))return t.removeAttribute("bablic-include");t.setAttribute("bablic-exclude","")}),bablic.setMutationListen(!0),this},include:function(e){bablic.setMutationListen(!1);var t="string"==typeof e?document.querySelectorAll(e):e.length?e:[e];return $.each(t,function(e,t){if(t.hasAttribute("bablic-exclude"))return t.removeAttribute("bablic-exclude");t.setAttribute("bablic-include","")}),bablic.setMutationListen(!0),this},markup:function(t,n){return bablic.setMutationListen(!1),$(e).attr("bablic-"+t,n||!0),bablic.setMutationListen(!0),this},bidi:function(t){bablic.setMutationListen(!1);var n=$(e);return n.attr("bablic-bidi",t?"true":"false"),n.each(function(){t?Bidi.element(this):Bidi.exclude(this)}),bablic.setMutationListen(!0),this}}},bablic.selector=function(e){return{on:function(t,n){return bablic._sels[t]=bablic._sels[t]||[],bablic._sels[t].push([e,n]),this},pre:function(e){return this.on("pre1",e)},post:function(e){return this.on("post1",e)},exclude:function(){return excludeByCode(e),this},include:function(){return includeByCode(e),this},markup:function(t,n){return addMarkupByCode(t,e,n),this},bidi:function(t){return addMarkupByCode("bidi",e,t?"true":"false"),bablic.element(e).bidi(t),this},done:function(){return bablic}}},$.extend(bablic.element,{translate:function(e){return processSavedNodes(e,!0),this},restore:function(e){return processSavedNodes(e,!1),this}}),bablic.isEditor=function(){return!!bablic.preview},LocaleSettings={},bablic.languages={get:function(e){if(!e)return $.map(bablic.locales||[],function(e){var t=getLocaleSettings(e.key);return{key:e.key,name:t.name||e.name,flag:t.flag||e.flag,href:t.href||bablic.getLink(e.key),hidden:t.hidden||!1}});var t=getLocaleSettings(e),n=$.grep(bablic.locales||[],function(t){return t.key==e})[0];return n?{key:n.key,name:t.name||n.name,flag:t.flag||n.flag,href:t.href||bablic.getLink(n.key),hidden:t.hidden||!1}:{key:e,name:t.name,flag:t.flag,href:t.flag,hidden:t.hidden||!1}},update:function(e){if(!e)return this;if(!e.key)return this;var t=this.get(e.key),n=getLocaleSettings(e.key);if(e.name!=t.name&&(n.name=e.name),e.flag!=t.flag&&(n.flag=e.flag),e.href!=t.href&&(n.href=e.href),e.hidden!=t.hidden)if(e.hidden){if(n.hidden=!0,bablic.locale==e.key){var r=findFallbackLocale();if(LDATA&&LDATA.edit);else if(doesSupportAjaxReplace())switchLocaleAjax(r);else{var a=bablic.getLink(r);parseURL(a).href!=LOC.href&&(LOC.href=a)}}}else n.hidden=!1;return bablic.showFlags(),this},flag:function(e,t){return e?getFlag(e,t):""},hide:function(e){var t=this.get(e);return t&&(t.hidden=!0),this.update(t)},show:function(e){var t=this.get(e);return t&&(t.hidden=!1),this.update(t)},url:function(e,t){return bablic.getLocale(e,null,t)},done:function(){return bablic}};var watchedElements=[];bablic.watch=function(e,t){e&&(e._babLis=t,watchedElements.push(e),"bablic_last_value"in e&&setTimeout(t,0))},bablic.hideLanguage=function(e){return bablic.languages.hide(e)},bablic.trigger=triggerEvent,WIN.console||(WIN.console={log:function(e){},error:function(e){}}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)t.push(n);return t}),bablic.debugServer&&(bablic.debug=!0),bablic.log=bablic.debug?function(e){WIN.console.log.apply?WIN.console.log.apply(console,arguments):WIN.console.log(arguments[0])}:function(){},bablic.error=bablic.debug?function(e){WIN.console.error.apply?WIN.console.error.apply(console,arguments):WIN.console.error(arguments[0])}:function(){},bablic.markup=addMarkupByCode,bablic.exclude=excludeByCode,bablic.include=includeByCode,bablic.on=bablic.Mutation.on,bablic.off=bablic.Mutation.unbind,bablic.setPage=function(e){e!=bablic.getPage()&&(explicitPage=e,onStateChanges&&onStateChanges())},bablic.getPage=function(){return explicitPage||normalizedCurrentPath()},bablic.registerKey=function(){$(DOC).on("keydown",function(e){if(e.shiftKey&&e.altKey&&(66==e.keyCode||76==e.keyCode)){if(e.preventDefault(),bablic.editThisSite)return bablic.editThisSite();bablic.on("sdkload",function(){bablic.editThisSite()}),ajaxGet("https://cdn2.bablic.com/addons/sdk.js",null,function(rsp){eval(rsp)})}})},bablicDTO=function(){return{Site:bablic.Site,locale:bablic.locale,version:bablic.version,original:bablic.original}},bablic.ajax=ajaxGet}(bablic);var HAS_ANGULAR=!1,SUPPORT_AJAX_NAVIGATE=!1,fetchRevision=0,underlineLocale,localeLDATAs={},performRedirect,TAGS={},BY_KEYS={},onStateChanges,setHidden,MACHINES={},HOLD_BABLIC=!1,PREVIOUSLY_USED_CONTENT={},X1;!function(bablic){var NON_VISUAL_TAGS={SCRIPT:0,LINK:0,NOSCRIPT:0,STYLE:0},check=DOC.querySelectorAll("#BABLIC_CHECK");if(check.length){bablic.preview=!0;try{for(var i=0;i<check.length;i++)check[i].parentNode&&check[i].parentNode.removeChild(check[i])}catch(e){}}if(location.hash&&location.hash.indexOf("bablicExtension")>-1&&(bablic.preview=!0),bablic.preview)EDITOR&&EDITOR_FRAME.location.pathname.includes("/preview")&&(bablic.previewMode=!0,LocalDB.setSync("previewMode","1"));else{var previewCookie=LocalDB.getSync("previewMode");previewCookie&&"1"==previewCookie&&(bablic.previewMode=!0),location.hash&&location.hash.indexOf("previewMode")>-1&&(bablic.previewMode=!0,LocalDB.setSync("previewMode","1"),history.replaceState(null,null," "))}var usage_report_sent=!1,shouldShowWidget=!0;function fallback_callback(e){if(e){bablic.log("fallabck response: "),bablic.log(e);var t=WIN.omg&&!!omg.translationReceived,n=!1,r={},a=e.deleted;for(var i in delete e.deleted,a&&setTimeout(function(){updateNotExistingContents(a)},1),e)"__empty__"!=e[i]&&(LDATA.content[i]&&"__empty__"!=LDATA.content[i]&&LDATA.content[i]==e[i]||(n=!0,LDATA.content[i]=e[i],r[i]=e[i],t&&omg.translationReceived(i,e[i])));if(n){if(flushMergedNodes(),savedContentNodes.length){bablic.setMutationListen(!1);for(var o=0;o<savedContentNodes.length;o++)if(savedContentNodes[o].hash in r){var l=savedContentNodes[o].node,c=savedContentNodes[o].element;savedContentNodes[o].replace(l,c,r[savedContentNodes[o].hash])}bablic.setMutationListen(!0)}else{var s=savedContentNodes;savedContentNodes=[],_forceTraverse=!0,DOC.body.getAttribute("bablic-exclude")||domTraverse($.byTag("html").get(0),bablic.UseInclude),runHeadEngines(),_forceTraverse=!1,mergeContentNodes(s)}showPage2()}}}var ASYNC_FETCH_OFF=!0,fallback_sent;function getNotExistingContents(){if(notExistingContents)return notExistingContents;notExistingContents={};var e=LocalDB.getSync("unused",!1,!0);e&&e.split(",").forEach(function(e){notExistingContents[e]=1});return notExistingContents}function updateNotExistingContents(e){notExistingContents=notExistingContents||{};var t=Object.keys(notExistingContents).length;e.forEach(function(e){notExistingContents[e]=1}),t!=Object.keys(notExistingContents).length&&LocalDB.setSync("unused",Object.keys(notExistingContents).join(","),!1,!0)}function generateSelector(e){if(e instanceof Element){for(var t=[];e.nodeType===Node.ELEMENT_NODE;){var n=e.nodeName.toLowerCase();if(e.id){n+="#"+e.id,t.unshift(n);break}for(var r=e,a=1;r=r.previousElementSibling;)r.nodeName.toLowerCase()==n&&a++;1!=a&&(n+=":nth-of-type("+a+")"),t.unshift(n),e=e.parentNode}return t.join(" > ")}}function resetBeenThere(e){for(var t=e;null!=t;)if(t._babBeenThere=!1,t.hasChildNodes())t=t.firstChild;else if(t.nextSibling&&t!=e)t=t.nextSibling;else{for(;null==t.nextSibling&&t!=e;)t=t.parentNode;if(t==e)break;t=t.nextSibling}}function htmlEscape(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var selfClosingTags=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function isSingleClosing(e){return-1!==selfClosingTags.indexOf(e.tagName.toLowerCase())}function getChildNodesCount(e){for(var t=0,n=0;n<e.childNodes.length;n++)e.childNodes[n].textContent.trim()&&t++;return t}function traverseDom(e){for(var t=e,n=[],r=lastReportId,a=0,i=["TITLE","META","SCRIPT"],o=["bablicFlagsWidget","wg-style-trans"],l=["bablicHideStyle","bablicOMGStyle"];null!=t;){var c=!0;if((t.nodeType==Node.COMMENT_NODE||"LINK"==t.tagName&&t.rel&&-1==t.rel.toLowerCase().indexOf("stylesheet")||"STYLE"==t.tagName&&-1!=t.id.indexOf("bablic")||t.classList&&l.some(function(e){return t.classList.contains(e)})||t.tagName&&i.indexOf(t.tagName)>-1||t.id&&o.indexOf(t.id)>-1||"IFRAME"==t.tagName&&t.parentNode&&"HEAD"==t.parentNode.tagName)&&(c=!1),c&&"IFRAME"==t.tagName){var s=getComputedStyle(t);"fixed"!=s.position&&"left"!=s.float&&"right"!=s.float||(c=!1)}if(c)if(3==t.nodeType){var u=savedContentNodes.filter(function(e){return e.node==t}),d=t.textContent;u&&u.length&&(d=u[0].completeOriginal);var f=!1;t.parentNode&&"STYLE"==t.parentNode.tagName&&(f=!0),f||t._babBeenThere&&t._babLastVal==d||(r&&!a&&n.push("\x3c!-- path-value:"+generateSelector(t.parentNode)+" --\x3e"),n.push(d),r&&!a&&n.push("\x3c!-- /path-value:"+t.parentNode.getAttribute("hash")+" --\x3e"),t._babLastVal=d,t._babBeenThere=!0)}else if(!t._babBeenThere&&t.parentNode!=document.head&&t.attributes&&t.attributes["bablic-exclude"]){var b=t.getBoundingClientRect();t.excluded=!0,t._babBeenThere=!0,n.push("<excluded-content style='width:"+b.width+"px;height:"+b.height+"px;line-height:"+b.height+"px;'></excluded-content>")}else if(!t._babBeenThere||t.hasChildNodes()&&getChildNodesCount(t)!=t._babNumChildNodes){t.hasChildNodes()?(t._babBeenThere&&resetBeenThere(t),t._babNumChildNodes=getChildNodesCount(t)):t._babBeenThere=!0,r&&!a&&n.push("\x3c!-- path-node:"+generateSelector(t)+" --\x3e"),r&&t.hasChildNodes()&&a++;var p=[].map.call(t.attributes,function(e){return e}),h="";if("STYLE"==t.tagName&&t.sheet&&t.sheet.cssRules&&!t.getAttribute("origin-url"))if("rtl"==(targetLocale.dir||"ltr"))h=Bidi.restoreStyleSheet(t.sheet);else for(var g=0;g<t.sheet.cssRules.length;g++)h+=t.sheet.cssRules[g].cssText;n.push("<"+t.tagName.toLowerCase()+" "+p.map(function(e){return e.value.indexOf("{")>-1&&e.value.indexOf("}")>-1?null:e.name+'="'+htmlEscape(e.value.replace(/\s+/g," "))+'"'}).join(" ")+(isSingleClosing(t)?" />":t.hasChildNodes()?">"+h:">"+h+"</"+t.tagName.toLowerCase()+">"))}if(c&&!t.excluded&&t.hasChildNodes()&&"SCRIPT"!=t.tagName)t=t.firstChild;else if(t.nextSibling&&t!=e)t=t.nextSibling;else{for(;null==t.nextSibling&&t!=e;)(t=t.parentNode)._babBeenThere||(t.tagName&&n.push("</"+t.tagName.toLowerCase()+">"),t._babBeenThere=!0,r&&a--,r&&!a&&n.push("\x3c!-- /path-node --\x3e"));if(t==e)break;t=t.nextSibling}}return n.join("")}var notExistingContents=null;function send_fallback_request(e,t){ASYNC_FETCH_OFF&&(t=!0);var n=bablic.locale,r={};for(var a in e)e[a]&&e[a].f!=n&&(r["1_"+a]=null,e[a].f=n,$.each(e[a].bc||[],function(e,t){r["1_"+t]=!0}));var i=Object.keys(r);i.length&&LocalDB.getByIds(i,function(e,n){e&&bablic.error(e);var a={};if(n)for(var o in a=n,n)a[o]=n[o],delete r[o];if(!(i=Object.keys(r)).length)return fallback_callback(a);fallback_sent=!0,ajaxPost("/api/engine/fallback",{content:i,async:!t},function(e){if(e.approvedHashes&&(LDATA.approvedHashes=e.approvedHashes),tempContent&&"default"==LDATA.recordPolicy){if(e.approvedHashes&&tempContent&&Object.keys(tempContent).length)for(var n in tempContent)new_content[1]=new_content[1]||{},new_content[1][n]=tempContent[n];tempContent={}}for(var i in $.extend(a,e),fallback_callback(a),LocalDB.setByPage(e,normalizedCurrentPath(!t)),e)delete r[i];var o=Object.keys(r).map(function(e){return e.substr(3)});setTimeout(function(){updateNotExistingContents(o)},1)})})}var send_usage_timeout,firstTimeout,sentReport={},tempContent={};send_usage_report=function(){$.isEmptyObject(usage_report)||firstTimeout&&Date.now()-firstTimeout>2e4||(send_usage_timeout&&clearTimeout(send_usage_timeout),firstTimeout||(firstTimeout=Date.now()),send_usage_timeout=setTimeout(function(){if(firstTimeout=null,send_usage_timeout=null,usage_report){var e=[],t=[];if(usage_report_sent)e=Object.keys(usage_report).map(function(e){return e.substr(2)});else for(var n in LDATA.content)"1"==n[0]&&(n in usage_report?e.push(n.substr(2)):t.push(n.substr(2)));ajaxPost("/api/engine/usage",{used:e,unused:t}),usage_report={},usage_report_sent=!0}},7e3))};var send_report_timeout,MAX_SEND=500,last_report_count,MAX_REQUEST_SIZE=2e5,MAX_PLACES=2,MAX_FALLBACK_REQUEST=500,ignoreNotTranslated={},lastReportId,cleanHashMarkups=function(){for(var e=document.querySelectorAll("[hash]"),t=0;t<e.length;t++)e[t].removeAttribute("hash")},hasOnGoingReport,sendReportThrottled=function(e){if(!hasOnGoingReport){if(LDATA.machine){var t=[];for(var n in LDATA.content){var r=n.split("_");"1"!=r[0]||"__empty__"!=LDATA.content[n]||ignoreNotTranslated[n]||(t.push(r[1]),ignoreNotTranslated[n]=!0)}$.isEmptyObject(t)||(bablic.Mutation.emit("machine"),ajaxPost("/api/engine/machine",{content:t},function(e){bablic.Mutation.emit("afterMachine"),e&&fallback_callback(e),Object.keys(e).length>0&&(bablic.ldata&&(bablic.ldata.machines=bablic.ldata.machines||{},$.extend(bablic.ldata.machines,e)),LocalDB.clearAll())}))}if(!$.isEmptyObject(new_content)){if(getNotExistingContents(),notExistingContents&&new_content[1]){for(var n in notExistingContents)delete new_content[1][n];if($.isEmptyObject(new_content[1]))return delete new_content[1],void $.isEmptyObject(new_content)}var a,i=function(){if(a)return a;for(var e in a={},LDATA.content)a[LDATA.content[e]]=e;if(PREVIOUSLY_USED_CONTENT)for(var e in PREVIOUSLY_USED_CONTENT)a[PREVIOUSLY_USED_CONTENT[e]]=e;return a},o={},l=0;for(var c in new_content)if("3"!=c&&"4"!=c&&"2"!=c){var s=new_content[c];for(var n in s){var u=c+"_"+n;if(!(u in sentReport)&&!LDATA.content[u]){var d=s[n];if(d&&d.a&&!CLEAN_TEXT.test(d.content)){var f=!1,b=i();if(!d.key&&d.content in b)f=!0;else for(var p=0;p<d.nodes.length;p++){if(bablic.preview&&readNodeAttr(d.nodes[p],"bablic_dirty",d.elements[p])){f=!0;break}if(readNodeAttr(d.nodes[p],"bablic_replaced"+c,d.elements[p])&&readNodeAttr(d.nodes[p],"bablic_replaced_value"+c,d.elements[p])==getNodeValue(d.nodes[p])){f=!0;break}}f||(o[c]=o[c]||{},o[c][n]=d,l++),LDATA.report||(tempContent[n]=s[n],s[n]=null)}}}}l?(!LDATA.edit&&LDATA.fallback&&o[1]&&Object.keys(o[1]).length<MAX_FALLBACK_REQUEST&&send_fallback_request(o[1],e),LDATA.report&&l!=last_report_count&&(last_report_count=l,clearTimeout(send_report_timeout),send_report_timeout=setTimeout(function(){if(LDATA.content){var t=0,n=bablic.sendPerRequest||MAX_SEND,r=bablic.maxRequest||MAX_REQUEST_SIZE,a=!1,i={},l=0,c=!WIN.SCAN;for(var s in o){var u=0,d=o[s];for(var f in d){if(c&&u>n){a=!0;break}u++;var b=s+"_"+f;if(!(b in LDATA.content)&&("default"!=LDATA.recordPolicy||LDATA.approvedHashes&&LDATA.approvedHashes.includes(f))){sentReport[b]=1;var p=d[f];if(p){var h={content:p.content,i:p.i,c:p.c,v:p.v,h:p.h,path:p.path,tags:Object.keys(p.tags),key:p.key};if(p.m&&(h.m=!0),p.markup&&!$.isEmptyObject(p.markup)&&(h.markup=p.markup),p.bc&&(h.bc=p.bc),p.nodes)for(var g=0;g<p.nodes.length;g++)setNodeAttr(p.nodes[g],"bablic_replaced"+s,!0,p.elements[g]),setNodeAttr(p.nodes[g],"bablic_replaced_value",getNodeValue(p.nodes[g]),p.elements[g]);if(c&&(t+=WIN.JSON&&WIN.JSON.stringify?JSON.stringify(h).length:2*h.content.length)>r){a=!0;break}i[s]=i[s]||{},i[s][f]=h,l++}}}}if($.isEmptyObject(i))new_content={};else{var m,v;if(bablic.Mutation.emit("sendReport"),LDATA.owner&&!LDATA.edit&&(LDATA.scanning?startScanningMessage():l>5&&startDetectMessage()),LDATA.reportHtml&&"permissive"!=LDATA.recordPolicy&&new_content&&new_content[1]){for(var y,_=Object.keys(new_content[1]),A=0;A<_.length;A++){f=_[A];if(new_content[1][f].elements&&new_content[1][f].elements.length)for(g=0;g<new_content[1][f].elements.length;g++){var T=new_content[1][f].nodes[g];if(T){var L=T.nodeType==Node.ATTRIBUTE_NODE?"placeholder"==T.nodeName?T.ownerElement:null:T.nodeType==Node.TEXT_NODE?T.parentNode:T;if(L&&L.parentElement!=document.head){var E=L.getAttribute("hash");E?L.setAttribute("hash",E+","+f.replace("1_","")):L.setAttribute("hash",f.replace("1_",""))}}}}for(A=0;A<document.childNodes.length;A++)if("HTML"==document.childNodes[A].nodeName){y=document.childNodes[A];break}y&&(m=(m=traverseDom(y)).replace(/\s+/g," ")),v=LDATA.previewUrl?convertToPreviewByType(location.pathname,LDATA.previewUrl,"duda"):WIN.BABLIC_RESTORE?BABLIC_RESTORE(location.href):location.href}hasOnGoingReport=!0,ajaxPost("/api/engine/report",{content:i,html:m,reportUrl:v,lastReportId:lastReportId},function(t){LDATA.reportHtml&&"permissive"!=LDATA.recordPolicy&&(cleanHashMarkups(),t&&t.report&&!lastReportId?lastReportId=t.report:resetBeenThere(document)),hasOnGoingReport=!1,last_report_count=0,bablic.Mutation.emit("afterReport",[e]),t&&fallback_callback(t),WIN.omg&&WIN.omg.afterContentReported(i,t)},!1,function(t){hasOnGoingReport=!1,bablic.Mutation.emit("afterReport",[e])});var C={};a&&Object.keys(o||{}).forEach(function(e){Object.keys(o[e]||{}).forEach(function(t){var n=s+"_"+t;i[e][t]||n in LDATA.content||(C[e]=C[e]||{},C[e][t]=new_content[e][t])})}),new_content=C}}},WIN.SCAN?1:500))):new_content={}}}},sendReportFuncTO,sendReportStart,MAX_THROTTLE_TIME=2e3,REPORT_THROTTLE_TIME=200,onClose;function startScanningMessage(){LocalDB.getSync("scanningMessage")||(showMessage("scanningMessage"),onClose=function(){LocalDB.setSync("scanningMessage","true")})}function showLimitHomeMessage(){LocalDB.getSync("limitHomeMessage")||(showMessage("limitHome"),onClose=function(){LocalDB.setSync("limitHomeMessage","1")})}function startDetectMessage(){LocalDB.getSync("newContentDetected")||(showMessage("newContentDetected"),onClose=function(){LocalDB.setSync("newContentDetected","true")})}function showTurnedOffMessage(){LocalDB.getSync("turnedOff")||(showMessage("turnedOff"),onClose=function(){LocalDB.setSync("turnedOff","true")})}function showMessage(e){if(!$.byId("bablicMessage").length()){var t=WIN.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=function(){if(200===t.status&&4===t.readyState){var e=DOC.createElement("iframe");e.id="bablicMessage",e.className="bablicMessage",e.setAttribute("bablc-exclude","true"),e.width="100%",e.height="52px",e.style.border="none",e.style.position="fixed",e.style.top=0,e.style.left=0,setZIndex(e);var n=DOC.body;n.insertBefore(e,n.firstChild);var r=t.responseText;try{e.contentWindow.document.open(),e.contentWindow.document.write(r),e.contentWindow.document.close()}catch(t){e.contentWindow.location.href="data:text/html;charset=utf-8,"+encodeURIComponent(r)}$(e).on("click",function(){e.parentNode.removeChild(e)})}},t.open("GET",location.protocol+"//uploads.bablic.com/html/"+e+".html",!0),t.send()}}function closeMessage(){$.byClass("bablicMessage").remove(),onClose&&onClose(),onClose=null}function addMessageShadow(){$.byClass("bablicMessage").css("box-shadow","0px 0px 15px #178FC2")}function removeMessageShadow(){$.byClass("bablicMessage").css("box-shadow","")}send_ldata_report=function(e){if(IS_PROPERTIES_SUPPORTED){if(e)return sendReportThrottled(!0);if(ASYNC_FETCH_OFF&&(e=!0),sendReportFuncTO){if(Date.now()-sendReportStart>MAX_THROTTLE_TIME)return;clearTimeout(sendReportFuncTO)}else sendReportStart=Date.now();sendReportFuncTO=setTimeout(function(){sendReportFuncTO=null,sendReportThrottled(e)},REPORT_THROTTLE_TIME)}},setZIndex=function(e){for(var t=[1e17,999999999999999,999999999999,9999999],n=0;n<t.length;n++)try{return void(e.style.zIndex=t[n])}catch(e){}},bablic._m=[closeMessage,addMessageShadow,removeMessageShadow];var hiddenCount=0;function hidePage(){if(!bablic.hidden&&!bablic.hidingStyle){hiddenStart=Date.now(),bablic.hidden=!0;try{bablic.hidingStyle=DOC.createElement("style"),bablic.hidingStyle.className="bablicHideTag",bablic.hidingStyle.type="text/css",bablic.hidingStyle.innerHTML="body,body *{visibility: hidden; !important}",bablic.hidingStyle.setAttribute("bablic-exclude","");var e=DOC.getElementsByTagName("script")[0];e.parentNode.insertBefore(bablic.hidingStyle,e)}catch(e){}}}setHidden=function(e,t){e?bablic.hidden?hiddenCount++:t?(hidePage(),hiddenCount++):bablic.log("can hide after already shown"):(hiddenCount--,showPage2())};var showPage2=function(){if(!(hiddenCount>0)){hiddenTime||(hiddenTime=Date.now()-hiddenStart);var e=DOC.getElementById("bablicLink");e&&e.parentNode&&e.parentNode.removeChild(e),bablic.setMutationListen(!1),bablic.hidingStyle&&bablic.hidingStyle.parentNode&&(bablic.hidingStyle.parentNode.removeChild(bablic.hidingStyle),bablic.hidingStyle=null),$(".bablicHideStyle,.bablicHideTag").remove(),bablic.setMutationListen(!0)}},onReadyCalled=!1;nonBlocking=isNonBlocking();var onReadyEvents=[],BLOCK,hiddenTime,hiddenStart;if(nonBlocking)onReadyCalled=!0;else{var addListener=DOC.addEventListener||DOC.attachEvent,removeListener=DOC.removeEventListener||DOC.detachEvent,eventName=DOC.addEventListener?"DOMContentLoaded":"onreadystatechange",onReadyHandler=function(){if(removeListener.call(DOC,eventName,onReadyHandler,!1),!onReadyCalled){var e;onReadyCalled=!0;for(var t=0;t<onReadyEvents.length;t++)try{onReadyEvents[t]()}catch(t){e=e||t}if(e)throw e}};addListener.call(DOC,eventName,onReadyHandler,!1)}function initEngines(){var e=targetLocale.engines||[];LDATA.engines={};for(var t=0;t<e.length;t++)Engines[e[t]]&&(LDATA.engines[e[t]]=Engines[e[t]]);for(var n in LDATA.engines)LDATA.engines[n].prepare&&LDATA.engines[n].prepare.call(LDATA.engines[n]);LDATA._e={},LDATA.engines&&"2"in LDATA.engines&&(LDATA._e[2]=LDATA.engines[2],delete LDATA.engines[2])}function updateBablicHead(){WIN.angular&&(HAS_ANGULAR=!0),bablic.ldata=LDATA,SUPPORT_AJAX_NAVIGATE=doesSupportAjaxReplace(!0),locales=bablic.locales=LDATA.locales,locale=LDATA.locale||"",targetLocale=$.grep(locales,function(e){return e.key==locale})[0],(originalLocale=$.grep(locales,function(e){return e.key==LDATA.orig})[0]||$.grep(locales,function(e){return e.key[0]==LDATA.orig[0]&&e.key[1]==LDATA.orig[1]})[0])||(originalLocale=locales[locales.length-1]),targetLocale||(targetLocale=$.grep(locales,function(e){return e.key[0]==locale[0]&&e.key[1]==locale[1]})[0]||originalLocale,locale=targetLocale.key,LDATA.locale=locale),MOBILE=bablic.mobile=Modernizr.touchevents&&$.window.width()<700;try{WIN.top.editor&&"mobile"==WIN.top.editor.device()&&(MOBILE=bablic.mobile=!0)}catch(e){}if(bablic.locale=LDATA.locale,underlineLocale=LDATA.locale,bablic.targetLocale=targetLocale,bablic.originalLocale=originalLocale,bablic.original=LDATA.orig,localeLDATAs[bablic.locale]=LDATA,bablic.dontUseCookie=bablic.dontUseCookie||LDATA.dontUseCookie,bablic.locale&&("subdir"!=bablic.localeURL&&"subdir"!=LDATA.localeDetection||-1!=location.pathname.indexOf("/"+bablic.locale+"/")||WIN.SCAN||bablic.locale!=bablic.original&&(doesSupportAjaxReplace()&&!bablic.noReplaceState?bablic.replaceState?bablic.replaceState(null,null,bablic.getLink(bablic.locale)):WIN.history&&WIN.history.replaceState&&WIN.history.replaceState(null,null,bablic.getLink(bablic.locale)):performRedirect(bablic.getLink(bablic.locale))),LocalDB.setSync("locale",bablic.locale,!0)),bablic.localeDetection=LDATA.localeDetection,LocalDB.setSync("original",LDATA.def||LDATA.orig,!0),bablic.setMutationListen(!1),shouldShowWidget&&bablic.showFlags(),bablic.preview||markupSEO(),LDATA.bidi&&Bidi.setDir(targetLocale.dir||"ltr"),$.byId("bablic_font_css").remove(),targetLocale){var e="";if(targetLocale.font){var t=targetLocale.font.split("#");e=t.length>1?"@import url('"+t[0]+"');\n *{font-family: \""+t[1]+'", sans-serif !important; }':'*{font-family: "'+t[0]+'", sans-serif !important; }'}if($.byTag("head").append("<style type='text/css' id='bablic_font_css' bablic-exclude>"+e+(bablic.locale!=bablic.original?".bablic-hide-all,":"")+".bablic-hide-"+bablic.locale+"{display:none !important;} </style>"),!$.byId("bablicDefault").length()){var n=$.byTag("head").get(0).firstElementChild;$('<style bablic-exclude id="bablicDefault">input{display:inline-block;}</style>').insertBefore(n)}}bablic.setMutationListen(!0)}function markupSEO(){onReady(function(){if(!bablic.noSEO&&"querystring"!==LDATA.localeDetection){bablic.setMutationListen(!1);var e=targetLocale&&targetLocale.iso?targetLocale.iso:bablic.locale;$.byTag("html").attr("lang",e);var t=$('head meta[http-equiv="Content-Language"]');t.length()||(t=$('<meta http-equiv="Content-Language">').appendTo("head")),$('meta[property="og:locale"]').attr("content",e),t.attr("content",e);$.each([['link[rel="canonical"]',"href"],['meta[property="og:url"]',"content"]],function(e,t){var n=new $(t[0]),r=n.attr(t[1]);if(r){var a=parseURL(r),i=bablic.getLink(bablic.locale,a.hostname,r,null,null,null,null,null,!0);n.attr(t[1],i)}}),bablic.setMutationListen(!0)}})}function seoAlternateLink(e,t,n){if(!LDATA.edit&&"querystring"!==LDATA.localeDetection&&!bablic.noSEO){var r=n||e,a=$('link[hreflang="'+r+'"]');e===r||a.length()||(a=$('link[hreflang="'+e+'"]')),a.length()||$('<link rel="alternate" href="'+t+'" hreflang="'+r+'">').appendTo("head"),e===bablic.original&&((a=$('link[hreflang="x-default"]')).length()||$('<link rel="alternate" href="'+t+'" hreflang="x-default">').appendTo("head"))}}function getPackageFromCurrentPath(){if(!LDATA||!LDATA.packages)return 0;var e=normalizedCurrentPath();return getPackageFromPath(LDATA.packages,e)}function loadAsyncTranslation(){getPageTranslations(function(e,t){if(e)return bablic.error(e);fallback_callback(t)})}onReady=function(e){if(onReadyCalled)return e();onReadyEvents.push(e)},performRedirect=function(e){if(!USE_LOCAL_DB)return!0;var t=LocalDB.getSync("lr");return!(t&&(t=Number(t),Date.now()-t<1e4))&&(LocalDB.setSync("lr",Date.now()+""),LOC.href=e,!0)},runHeadEngines=function(){if(bablic.setMutationListen(!1),LDATA._e&&"2"in LDATA._e){LDATA.engines[2]=LDATA._e[2];var e=DOC.getElementsByTagName("HEAD")[0];readNodeAttr(e,"bablic_last_value",e)!==getNodeValue(e)&&(processNodeWithEngine(e,e,{},"2"),setNodeAttr(e,"bablic_last_value",getNodeValue(e),e)),delete LDATA.engines[2]}bablic.setMutationListen(!0)},!bablic.Site&&bablic.Account&&(bablic.Site=bablic.Account),bablic.explicitLocale=bablic.locale,bablic.locale||bablic.dontUseCookie||(bablic.locale=LocalDB.getSync("locale",!0)),bablic.conf&&(bablic._conf=bablic.conf,bablic.conf=decodeConf(bablic.conf)),bablic.original=LocalDB.getSync("original",!0)||bablic.original||bablic.conf&&bablic.conf.orig||bablic.data&&bablic.data.original,siteConfReceived=function(conf){var previousContent=LDATA&&LDATA.content,previousLocale=LDATA&&LDATA.locale,previousTimestamp=LDATA&&LDATA.timestamp;LDATA=conf,LDATA.locale=bablic.locale,previousLocale&&bablic.locale==previousLocale&&(LDATA.content=previousContent,previousTimestamp&&(LDATA.timestamp=Math.max(LDATA.timestamp,previousTimestamp))),bablic.localeURL&&(LDATA.localeDetection=bablic.localeURL),bablic.customUrls&&(LDATA.customUrls=bablic.customUrls);var block=Number(LocalDB.getSync("block",!0));if(block&&LDATA.timestamp<=block&&(BLOCK=!0),BLOCK)hideWidget();else{if(LDATA.localeKeys=$.map(LDATA.locales,function(e){return e.key}),LDATA.j)try{eval(LDATA.j)}catch(e){}if(bablic.lc&&!bablic._lc&&(bablic._lc=String.prototype.localeCompare,String.prototype.localeCompare=function(e,t,n,r){return r||targetLocale===originalLocale?bablic._lc.apply(this,arguments):bablic._lc.call(bablic.__(this,null,!0),bablic.__(e,null,!0),bablic.locale,n)}),LDATA.keywords&&processKeywords(LDATA.keywords,LDATA.localeKeys),updateBablicHead(),initEngines(),LDATA.exclude&&excludeByCode(LDATA.exclude),LDATA.include&&includeByCode(LDATA.include),LDATA.markup)for(var key in LDATA.markup){var value=LDATA.markup[key];$.isArray(value)||(value=[value]);for(var i=0;i<value.length;i++)addMarkupByCode(key,value[i].sel,value[i].val)}var page=normalizedCurrentPath();bablic.subDirBase&&(page=bablic.subDirBase+page),bablic.setMutationListen(!1),$.each(LDATA.locales,function(e,t){var n=!1;if(t.formats||(t.formats={}),t.dateFormat&&(t.formats.dateFormat=t.dateFormat),t.timeFormat&&(t.formats.timeFormat=t.timeFormat),t.key!==bablic.original){var r=LDATA.excludePages&&$.map(LDATA.excludePages,normalizeSomePath),a=LDATA.includePages&&$.map(LDATA.includePages,normalizeSomePath);t.excludePages=t.excludePages&&$.map(t.excludePages,normalizeSomePath),t.includePages=t.includePages&&$.map(t.includePages,normalizeSomePath),(n=isPageExcluded(page,r,a,t))&&bablic.languages.hide(t.key)}n||bablic.noHrefLangs||seoAlternateLink(t.key,bablic.getLink(t.key,null,null,null,null,null,null,null,!0),t.iso)}),bablic.setMutationListen(!0)}},translationReceived=function(e,t){if(LDATA&&!BLOCK&&DOC.body){if(LDATA.content=e,LDATA.draft&&$.extend(LDATA.content,LDATA.draft),migrateTranslationResponse(LDATA),!$.isEmptyObject(LDATA.engines)){if(!t){bablic._processed=!0;var n=savedContentNodes;savedContentNodes=[],runHeadEngines(!0),DOC.body.getAttribute("bablic-exclude")||domTraverse($.byTag("html").get(0),bablic.UseInclude),mergeContentNodes(n),(LDATA.fallback&&!LDATA.edit||LDATA.report)&&send_ldata_report(!0),LDATA.usage&&send_usage_report()}bablic.dontListenToMutations||(bablic.Mutation.listen(),Mutation.observeHead(function(){LDATA&&LDATA.locale&&runHeadEngines(!0)}))}(LDATA.edit||LDATA.suggest)&&addOMGScript()}};var fetchedPackages={};function fetchTranslationFromLocalStorage(e,t,n){var r=Date.now();LocalDB.getByPage(e+"_"+t,function(a,i){bablic.log("indexdb ",Date.now()-r),i&&(fetchedPackages[e+"_"+t]=i),n(a,i)})}function saveTranslationToLocaleStorage(e,t,n){LocalDB.setByPage(n,e+"_"+t)}function decodeTranslationResponse(e,t){var n={};for(var r in e){for(var a in e[r])if("__"!=a&&"tags"!=a&&"keys"!=a){var i=e[r][a];if(t){var o=!1;Array.isArray(i)&&(o=i[0],i=i[1]),o?MACHINES[a]=!0:delete MACHINES[a]}n[r+"_"+a]=i}if(e[r].__)for(var l=e[r].__.split(","),c=0;c<l.length;c++){var s=r+"_"+l[c];s in n||(n[s]="__empty__")}var u=e[r].tags;if(u)for(var d in u)u[d].forEach(function(e){TAGS[r+"_"+e]=TAGS[r+"_"+e]||{},TAGS[r+"_"+e][d]=1});var f=e[r].keys;f&&(BY_KEYS=f)}return n}function getPageTranslationsFromCDN(e,t){var n=bablic.locale;fetchFromCDN("/sites/"+bablic.Site+"/package."+e+"."+n,function(r,a){if(r)return t(r);a&&(a=decodeTranslationResponse(a)),t(null,a),a&&LDATA&&(fetchedPackages[e]=a,saveTranslationToLocaleStorage(n,e,a),LocalDB.setSync("@"+n+"_"+e,LDATA.timestamp))})}function getConfFromCDN(e,t){fetchFromCDN("/sites/"+bablic.Site+"/conf",function(n,r){if(n)return t(n);if(e==fetchRevision){var a=decodeConf(r);a.locale=bablic.locale;var i=a.timestamp;siteConfReceived(a),i!=a.timestamp&&(r[0]=a.timestamp)}t(),e==fetchRevision&&LocalDB.setConf(r)})}function isHomePage(e){if(bablic.getCurrentOtherDomain&&bablic.getCurrentOtherDomain())return!1;var t=bablic.conf&&bablic.conf.domain||bablic.data&&bablic.data.domain;t=t&&t.indexOf("/")>-1?t.substr(t.indexOf("/")):"/";var n=normalizedCurrentPath();return bablic.subDirBase&&(n=bablic.subDirBase+n),e?n==t.toLowerCase()||"/"==n||0==n.indexOf("/index."):n==t.toLowerCase()}function limitToHomePage(e){if(!isHomePage(!0)){if(bablic.widget.hide(),bablic.locale!==bablic.original){bablic.log("limit to home page");var t=bablic.locale;bablic.languages.hide(t),LocalDB.setSync("locale",t)}e&&showLimitHomeMessage()}}getPageTranslations=function(e,t){if(bablic.locale&&bablic.locale==bablic.original)return e(null,{});if(!LDATA)return e("no conf");var n=getPackageFromCurrentPath();if(bablic.package=n,bablic.dedicated||0==n&&LDATA&&LDATA.packages&&Object.keys(LDATA.packages).length>5){var r=normalizedCurrentPath(),a=LocalDB.getSync("@"+bablic.locale+"_"+r);if(t||!a||Number(a)<LDATA.timestamp-1e3){var i=bablic.locale;ajaxGet("//"+(bablic.dedicated||"d3j4i2vulccply.cloudfront.net")+"?s="+bablic.Site+"&l="+i+"&p="+encodeURIComponent(r)+"&ts="+(LDATA?LDATA.timestamp:""),null,function(t){t&&(t=decodeTranslationResponse(t)),e(null,t),t&&LDATA&&(saveTranslationToLocaleStorage(i,r,t),LocalDB.setSync("@"+i+"_"+r,LDATA.timestamp))},e)}else fetchTranslationFromLocalStorage(bablic.locale,r,function(t,n){if(t)return getPageTranslations(e,!0);e(null,n)})}else{if(bablic.locale+n in fetchedPackages)return e(null,fetchedPackages[bablic.locale+n]);if(!(a=LocalDB.getSync("@"+bablic.locale+"_"+n))||Number(a)<LDATA.timestamp-1e3)return getPageTranslationsFromCDN(n,e);fetchTranslationFromLocalStorage(bablic.locale,n,function(t,r){if(t)return getPageTranslationsFromCDN(n,e);e(null,r)})}},getConf=function(e,t){var n=LocalDB.getConf()||bablic._conf;return 4e3===n?(t(4e3),$.byId("bablic_font_css").remove(),void $.byTag("head").append("<style type='text/css' id='bablic_font_css' bablic-exclude>"+(bablic.locale!=bablic.original?".bablic-hide-all,":"")+".bablic-hide-"+bablic.locale+"{display:none !important;} </style>")):(n&&(Array.isArray(n)&&(n=decodeConf(n)),n&&(LocalDB.getSync("limitHome",!0)&&!isHomePage(!0)||(bablic.locale=n.locale=bablic.detectLocale(n),underlineLocale=n.locale))),n?(e==fetchRevision&&siteConfReceived(n),void t()):getConfFromCDN(e,t))},fetchSequence=function(e,t,n){var r=Date.now(),a={};if(bablic.preview||bablic.previewMode)return LDATA&&LDATA.content&&(stashPreviousContent(LDATA.content),LDATA.content={}),void ajaxGet("/api/engine/editor",null,function(n){if(a.translationTime=a.confTime=Date.now()-r,e===fetchRevision){if(n.bablic&&n.bablic.code)return void EDITOR.handleConfError(n.bablic);siteConfReceived(n.conf)}triggerEvent("locale",[bablic.locale]),n.translations&&(n.translations=decodeTranslationResponse(n.translations,!0)),MACHINES&&Object.keys(MACHINES).length&&bablic.ldata&&(bablic.ldata.machines=bablic.ldata.machines||{},$.extend(bablic.ldata.machines,MACHINES)),n.draft&&(bablic.ldata.draft=bablic.ldata.draft||{},$.extend(bablic.ldata.draft,n.draft)),bablic.package=getPackageFromCurrentPath(),t(null,a,n.translations)},function(e){console.error(e)},!0);if(bablic.dedicated&&bablic.locale!=bablic.original){var i;parallel([function(t){getConf(e,function(e){if(e)return t(e);a.confTime=Date.now()-r,triggerEvent("locale",[bablic.locale]),t()})},function(e){getPageTranslations(function(t,n){if(t)return e(t);i=n,a.translationTime=Date.now()-r,e()})}],function(e){if(e)return t(e);t(null,a,i)})}else{var o=bablic.locale;if(n||o==bablic.original||WIN.SCAN||!isHomePage())getConf(e,function(e){if(e)return t(e);a.confTime=Date.now()-r,triggerEvent("locale",[o]),r=Date.now(),getPageTranslations(function(e,n){if(e)return t(e);a.translationTime=Date.now()-r,t(null,a,n)})});else{var l=LocalDB.getSync("home_"+o);if(l)try{l=JSON.parse(l)}catch(e){l=null}l?getConf(e,function(e){if(e)return t(e);a.translationTime=a.confTime=Date.now()-r,l=decodeTranslationResponse(l),triggerEvent("locale",[o]),t(null,a,l)}):fetchFromCDN("/sites/"+bablic.Site+"/home."+o,function(n,i){if(n)return bablic.error(n),fetchSequence(e,t,!0);if(a.translationTime=a.confTime=Date.now()-r,e==fetchRevision){var l=decodeConf(i.conf);l.locale=o;var c=l.timestamp;siteConfReceived(l),c!=l.timestamp&&(i.conf[0]=l.timestamp),triggerEvent("locale",[o])}var s=decodeTranslationResponse(i.translations);t(null,a,s),e==fetchRevision&&(LocalDB.setConf(i.conf),LocalDB.setSync("home_"+o,JSON.stringify(i.translations)))})}}},ping=function(e){var t=e.err,n=e.shouldHide,r=e.stats,a=e.detectedLocale,i=e.path;if(bablic.preview||bablic.previewMode)return LDATA.report=!0,LDATA.owner=!0,LDATA.usage=!0,LDATA.machine=!0,send_ldata_report(!0),void send_usage_report();isBot()||ajaxPost("/api/engine/pling",encodePing({timestamp:LDATA&&Math.round(LDATA.timestamp/1e3),snippetTimestamp:bablic.snippetTimestamp,error:t,locale:bablic.locale,original:bablic.original,didHide:n,confTime:r&&r.confTime,translationTime:r&&r.translationTime,hiddenTime:hiddenTime,detected:detectBrowserLocale(),page:pageUri(),detectedLocale:a,hasLocalStorage:HAS_LOCAL_STORAGE,hasIndexDB:!!WIN.indexedDB,path:i,nonBlocking:nonBlocking,version:bablic.version,parseVersion:bablic.parseVersion}),function(e){if(e.error)return bablic.widget.hide(),bablic.locale!==bablic.original&&bablic.languages.hide(bablic.locale),4e3==e.error&&e.owner&&showTurnedOffMessage(),LocalDB.setConf(4e3),void(fetchedPackages={});var t;(e.machine&&LDATA&&(LDATA.machine=!0),e.owner&&LDATA&&(LDATA.owner=e.owner),e.clear||e.error)&&(turnOffCDN(),LDATA&&(t=LDATA.fallback,LDATA.timestamp=e.ts,LDATA.report=!1,LDATA.fallback=!1),fetchedPackages={},bablic._conf=null,LocalDB.clearAll(function(){if(!e.error){var n=++fetchRevision;fetchSequence(n,function(r,a,i){r&&bablic.error("Error fetching 2nd time",r),e.report&&(LDATA.report=!0),e.usage&&(LDATA.usage=!0),LDATA.fallback=t,i&&n==fetchRevision&&(LDATA.content?fallback_callback(i):translationReceived(i)),shouldShowWidget&&bablic.showFlags()})}}));if(e.block){if(LDATA){LDATA.timestamp=e.block;var n=encodeConf(LDATA);LocalDB.setConf(n),LocalDB.setSync("block",e.block,!0),bablic.locale!=bablic.original&&bablic.redirectTo(bablic.original),LDATA.widget&&(LDATA.widget[0]&&(LDATA.widget[0].show=!1),LDATA.widget[1]&&(LDATA.widget[1].show=!1)),hideWidget(),fetchedPackages={}}e.owner&&("expired"===e.reason?showMessage("trialExpired"):"quota"===e.reason&&showMessage("quota"))}else LocalDB.setSync("block","",!0);e.limitHome?(LocalDB.setSync("limitHome","1",!0),limitToHomePage(e.owner)):LocalDB.getSync("limitHome",!0)&&(LocalDB.setSync("limitHome","",!0),isHomePage(!0)||LOC.reload()),e.expired&&(bablic.expired=!0,shouldShowWidget&&bablic.showFlags(),e.owner&&showMessage("trialExpired")),e.scanning&&LDATA&&(LDATA.scanning=!0),e.recordPolicy&&(LDATA.recordPolicy=e.recordPolicy),e.report&&!e.clear&&(LDATA.report=!0,send_ldata_report(!0)),e.usage&&!e.clear&&(LDATA.usage=!0,send_usage_report())},!0)};var shouldnt_work=function(){if(window.Parameters&&!1===Parameters.isRuntimeServer&&window.editorParent&&editorParent.document)return!0;if(window.Squarespace){try{if(parent.location.pathname.indexOf("/config")>-1)return!0;if(parent!=top&&top.location.pathname.indexOf("/config")>-1)return!0}catch(e){}return!1}try{if(top.location.href.indexOf("shopify.com/admin")>-1)return!0;if(window.Weebly&&parent.location.pathname.indexOf("/editor/preview")>-1)return!0}catch(e){}return!1},checkIframeSituation=function(){try{var e=bablic.conf&&bablic.conf.domain||bablic.data&&bablic.data.domain,t=WIN.parent;if(t&&t!=WIN){var n=!0;try{WIN.parent.location.hostname.indexOf("/")}catch(e){n=!1}if(n&&t.bablic&&!t.bablic.isAdmin)shouldShowWidget=!1,t.bablic.on("locale",function(e){e!=bablic.locale&&bablic.redirectTo(e)}),bablic.widget.hide();else if(!n&&e){e=e.split("/")[0];if(LOC.hostname.lastIndexOf(e)!=LOC.hostname.length-e.length){shouldShowWidget=!1;var r=function(e){try{if("string"!=typeof e.data)return;var t=JSON.parse(e.data);if("locale"!=t.type)return;if(!t.locale)return;t.locale!=bablic.locale&&bablic.redirectTo(t.locale)}catch(e){}};WIN.addEventListener?WIN.addEventListener("message",r,!1):WIN.attachEvent("onmessage",r),t.postMessage(JSON.stringify({type:"ping",site:bablic.Site}),"*")}}}if(shouldShowWidget){r=function(e){try{if("ping"!=JSON.parse(e.data).type)return;var t=e.source;if(t==WIN)return;bablic.on("locale",function(e){t.postMessage(JSON.stringify({type:"locale",locale:e}),"*")})}catch(e){}};WIN.addEventListener?WIN.addEventListener("message",r,!1):WIN.attachEvent("onmessage",r)}}catch(e){bablic.error(e)}};function isNonBlocking(){if(!DOC.body)return!1;var e=DOC.body.lastElementChild;if(!e||"SCRIPT"!==e.tagName||-1===e.src.indexOf("bablic.com"))return!0;if(!NON_VISUAL_TAGS)return!0;for(;e;){if(e.tagName&&!(e.tagName in NON_VISUAL_TAGS))return!0;e=e.previousElementSibling}return!1}function checker(){try{if(!document.querySelector)return 1;var e=document.querySelectorAll("head script:not([src])");if(!e)return 1;for(var t=0;t<e.length;t++){var n=e[t];if(!n._babChk){if(n.innerHTML.indexOf("shopify-bablic-check")>-1)return 1;if(n.innerHTML.indexOf("window.addEventListener('load', asyncLoad')")>-1)return-1;n._babChk=1}}return document.body&&document.body.childNodes&&document.body.childNodes.length?-1:0}catch(e){return 1}}function migrateTranslationResponse(e){var t=e.content,n={},r=!1;for(var a in t)if(42==a.length){r=!0;var o=a.split("_"),l=o[1],c=[];for(i=0;i<20;i++)c.push(String.fromCharCode((parseInt(l[2*i],16)<<4)+parseInt(l[2*i+1],16)));var s=btoa(c.join(""));n[o[0]+"_"+s]=t[a]}else n[a]=t[a];r&&(e.content=n)}bablic.start=function(){if(!bablic.integrateI18n||explicitPage){if(shouldnt_work())return bablic._locked=!0;if(DOC.getElementsByTagName("HEAD")[0]&&DOC.getElementsByTagName("HEAD")[0].attributes["bablic-status"]&&LDATA)return bablic.Mutation.listen(),(LDATA.edit||LDATA.suggest)&&addOMGScript(),void triggerEvent("done",[bablicDTO()]);checkIframeSituation();var e=bablic.detectLocale(null,{initial:!0});if(0!==e){if(LocalDB.getSync("limitHome",!0)&&!isHomePage(!0)&&(e=bablic.original),bablic.detectedLocale=e,bablic.locale=e||bablic.locale,bablic.__defineSetter__){bablic.preview&&(underlineLocale=bablic.locale,bablic.__defineSetter__("locale",function(){}),bablic.__defineGetter__("locale",function(){return underlineLocale}));var t=bablic.localeURL;bablic.__defineSetter__("localeURL",function(){console.log("cannot set localeURL after script load",(new Error).stack)}),bablic.__defineGetter__("localeURL",function(){return t})}var n=!(bablic.dontHide||nonBlocking||bablic.locale&&bablic.original&&bablic.locale[0]==bablic.original[0]&&bablic.locale[1]==bablic.original[1]);n&&WIN.navigator&&navigator.appVersion&&navigator.appVersion.indexOf("Chrome/62")>-1&&(n=!1),bablic.loaded=!0,n&&hidePage();var r=++fetchRevision,a=Date.now();setTimeout(function(){fetchSequence(r,function(t,i,o){bablic.log("fetch time",Date.now()-a),a=Date.now(),onReady(function(){if(bablic.log("dom load",Date.now()-a),o&&r==fetchRevision&&(a=Date.now(),translationReceived(o),bablic.log("process time",Date.now()-a)),n&&showPage2(),t&&bablic.error(t),bablic.setMutationListen(!1),triggerEvent("done",[bablicDTO()]),triggerEvent("translated",[bablicDTO()]),$.byTag("head").attr("bablic-status","loaded"),!WIN.JSON||!JSON.stringify||!JSON.parse){var l=DOC.createElement("script");l.type="text/javascript",l.async=!0,l.src=("https:"==DOC.location.protocol?"https://":"http://")+CDN_PATH+"/js/json.min.js";var c=DOC.getElementsByTagName("script")[0];c.parentNode.insertBefore(l,c)}bablic.setMutationListen(!0),bablic.locales&&shouldShowWidget&&LDATA.widget&&LDATA.widget[0]&&LDATA.widget[0].show&&setInterval(function(){var e=$.grep(bablic.locales,function(e){var t=LocaleSettings[e.key];return!t||!t.hidden});!e.length||1==e.length&&e[0]==originalLocale||$.byId("bablicFlagsWidget").length()||bablic.widgetConf&&!bablic.widgetConf.show||bablic.showFlags(bablic.widgetConf)},1e3),ASYNC_FETCH_OFF||setTimeout(loadAsyncTranslation,1e3);var s=normalizedCurrentPath();bablic.log("hidden time "+hiddenTime),i&&(bablic.log("conf time "+i.confTime),bablic.log("translation time "+i.translationTime)),ping({err:t,shouldHide:n,stats:i,detectedLocale:e,path:s})})})},0),n&&setTimeout(function(){showPage2()},4e3),bablic.registerKey&&bablic.registerKey();var i=WIN.history;if(i&&i.pushState&&i.pushState.bind&&!isBot()){onStateChanges=function(){try{var e=LDATA.content,t=function(){var t=LDATA.locale,n=++fetchRevision,r=0;for(var a in new_content)r+=Object.keys(new_content[a]).length;fetchSequence(n,function(a,i,o){if(o&&n==fetchRevision){for(var l in o)l in e&&"__empty__"!=e[l]||(e[l]=o[l]);if(t==LDATA.locale){LDATA.content=e;var c=savedContentNodes;savedContentNodes=[];var s=0;for(var l in new_content)s+=Object.keys(new_content[l]).length;if(_forceTraverse=bablic.preview||s>r,domTraverse($.byTag("html").get(0),bablic.UseInclude),_forceTraverse=!1,mergeContentNodes(c),bablic.preview){flushMergedNodes();var u=new_content[1];savedContentNodes.forEach(function(e){if(e.a){var t=e.hash;if(!(t in LDATA.content)){var n=t.split("_");if("1"===n[0]){var r=n[1];u[r]||(u[r]={_new:!0,content:e.content,elements:[e.element],nodes:[e.node],markup:{},a:!0,tags:{}})}}}}),sentReport={}}ping({})}}})};if(bablic.preview&&WIN.omg){e={};var n=!1,r=function(){n||(n=!0,t())};omg.onPageChanged(r),setTimeout(r,1e4)}else t()}catch(e){bablic.error(e)}};var o=i.pushState,l=i.replaceState;bablic.pushState=o.bind(i),bablic.replaceState=l.bind(i);try{i.pushState=function(){if(!LDATA)return o.apply(i,arguments);var e=normalizedCurrentPath(),t=o.apply(i,arguments);return triggerEvent("pageChange"),e==normalizedCurrentPath()?t:("string"==typeof arguments[2]&&onStateChanges(),t)},i.replaceState=function(){if(!LDATA)return o.apply(i,arguments);var e=normalizedCurrentPath(),t=l.apply(i,arguments);return triggerEvent("pageChange"),e==normalizedCurrentPath()?t:("string"==typeof arguments[2]&&onStateChanges(),t)}}catch(e){}}}}},parallel=function(e,t){var n=e.length,r=new Array(e.length);if(!e.length)return t(null,r);for(var a=0;a<e.length;a++)!function(a){e[a](function(e,i){if(e)return t&&t(e),void(t=null);r[a]=i,0==--n&&(t&&t(null,r),t=null)})}(a)},parallelEach=function(e,t,n){return parallel($.map(e,function(e){return function(n){t(e,n)}}),n)};var CLEAN_TEXT=/Google\s+Imagery|BESbewy/i;function turnOffLJZ(){document.body.setAttribute("notranslate","notranslate"),$.byId("localize-widget").remove();var e=function(t){t.target&&"localize-widget"==t.target.id&&t.target.parentNode&&(t.target.parentNode.removeChild(t.target),$(DOC.body).off("DOMNodeInserted",e))};$(DOC.body).on("DOMNodeInserted",e)}function stashPreviousContent(e){for(var t in PREVIOUSLY_USED_CONTENT=PREVIOUSLY_USED_CONTENT||{},e)PREVIOUSLY_USED_CONTENT[t]=e[t]}var minimized=!1,opened=!1;if(onReady(function(){if(window.Localize&&turnOffLJZ(),window.google&&window.google.translate&&delete window.google.translate,$.byClass("goog-te-gadget").remove(),bablic.previewMode){var e,t=WIN.top.document.body||DOC.body,n=bablic.debug?"https://staging.bablic.com":"https://www.bablic.com",r=WIN.top.document.getElementById("bablicFloatingHeader");if(r)"60px"!=(e=r).style.height&&(opened=!0),"1000px"!=e.style.width&&(minimized=!0);else{(e=DOC.createElement("iframe")).id="bablicFloatingHeader",e.className="bablicFloatingHeader",e.allowTransparency="true",e.frameBorder="0",e.setAttribute("bablc-exclude","true"),e.style.backgroundColor="background-color:transparent",e.style.position="fixed",e.style.width="1000px",e.style.bottom="30px",e.style.top="auto",e.style.left="0",e.style.right="0",e.style.margin="auto auto",e.style.borderRadius="30px",e.style.height="60px",e.style.boxShadow="0 1px 3px 0px rgb(0 0 0 / 40%)";var a=bablic.locale&&bablic.locale!=bablic.original?"?locale="+bablic.locale:"";e.src=n+"/editor/preview/header"+a,setZIndex(e),t.insertBefore(e,t.firstChild)}var i=WIN.top;WIN.top.addEventListener("message",function t(r){if("minimize"==r.data)minimized?(minimized=!1,e.style.width="1000px"):(minimized=!0,e.style.width="220px");else if("menuOpen"==r.data)opened?(opened=!1,e.style.height="60px",e.style.boxShadow="rgb(0 0 0 / 40%) 0px 1px 3px 0px"):(opened=!0,e.style.height="300px",e.style.boxShadow="none");else if("exit"==r.data)LocalDB.clearSync("previewMode"),i.location.href.indexOf("bablic")>-1?i.location=n+"/adminpanel?site="+bablic.Site:window.location.reload();else if("visual"==r.data)LocalDB.clearSync("previewMode"),i.location=n+"/editor";else if(r.data&&"changeLocale"==r.data.method){if(i.EditorHeader){var a=pageUri(!0);a&&"blank"!=a&&(i.VisualEditor.page=a),i.EditorHeader.switchLocale(r.data.key)}else{var o="querystring"!=bablic.localeDetection;bablic&&bablic.redirectTo(r.data.key,{forceRedirect:!0,addPreviewHash:o})}t({data:"menuOpen"})}},!1)}}),$(DOC).on("click",function(e){if(e.target&&e.target.attributes&&e.target.attributes["bablic-generated-button"]){var t=$(e.target).parent().children("[bablic-generated-text]");if(t&&t.element){var n=t.element[0].innerHTML,r=bablicHash(n.trim().toLowerCase());ajaxPost("/api/engine/user-content",{content:{hashed_content:r,text:n}},function(n){n&&n.t&&(t.element[0].innerHTML=n.t,$(e.target).hide())})}}}),bablic.search=function(e,t){if(!t||!e||e.length<4||e.length>30)return e;ajaxPost("/api/engine/search",{content:{text:e}},function(e){t(e.t)})},window.Text&&window.Text.prototype&&!window.Text.prototype.getBoundingClientRect){var fakeRect={width:0};window.Text.prototype.getBoundingClientRect=function(){return fakeRect}}WIN._bab=bablic}(bablic),X1=bablic,onReady(function(){setTimeout(function(){X1.on("locale",function(){var e=X1.getLocale();WIN.$zopim&&WIN.$zopim.livechat&&WIN.$zopim.livechat.setLanguage(e.substr(0,2))})},2e3)}),function(){if(!1!==bablic.checkout&&WIN.Shopify&&LOC.pathname.indexOf("/checkouts/")>-1&&-1==LOC.search.indexOf("locale=")){var e=!0;bablic.on("locale",function(){if(e){e=!1;var t=nonBlocking;nonBlocking=!1;var n=bablic.detectLocale();nonBlocking=t,!n||Shopify.Checkout.locale&&Shopify.Checkout.locale[0]==n[0]&&Shopify.Checkout.locale[1]==n[1]||bablic.redirectTo(n)}})}var t={pt:"pt_PT",en_us:"en"};function n(e){if((e=t[e]||e).includes("_")){var n=e.split("_")[0],r=e.split("_")[1];e=n.toLowerCase()+"-"+r.toUpperCase()}return e}onReady(function(){if(WIN.Shopify){var e=function(){var e;bablic.setMutationListen(!1),e=bablic.getLocale(),$.byTag("form").filter('[action*="account"]').each(function(){var t=bablic.conf&&bablic.conf.domain||bablic.data&&bablic.data.domain;if("custom"==bablic.localeDetection&&t){var n=t.indexOf("/");n>-1&&(t=t.substr(0,n));var r=this.getAttribute("action"),a=parseURL(r);r&&a.hostname!=LOC.hostname&&a.hostname==t&&this.setAttribute("action",a.protocol+"//"+LOC.hostname+a.pathname+a.query+a.hash)}if(this.querySelector){var i=this.querySelector("input.bablicCustomerLocale");i?i.setAttribute("value","babl#"+e+"babl#"):$(this).append('<input type="hidden" class="bablicCustomerLocale" name="customer[tags][locale]" value="babl#'+e+'babl#" />')}}),!1!==bablic.checkout&&($.byTag("form").filter('[action^="/checkout"],[action^="/cart"]').each(function(){var t=$(this);if(this.querySelector){var r=this.querySelector('input[name="attributes[language]"]');r?r.setAttribute("value",e):$(t).append('<input type="hidden" name="attributes[language]" value="'+e+'" />')}var a=t.attr("action"),i=parseURL(a),o=i.query?i.query.replace(/locale=[^&]*&?/,""):"?";"?"==o[o.length-1]||"&"==o[o.length-1]?o+="locale="+n(e):o+="&locale="+n(e);var l=i.pathname+o;if(a!=l){var c=t.children(".bta-loading");c.length()&&"none"!==c.css("display")||t.attr("action",l)}}),$("button[onclick]").each(function(){var t=$(this),r=t.attr("onclick"),a=r.replace(/(['"])(\/(?:checkout|cart)\b.*)(['"])/g,function(t,r,a,i){var o=parseURL(a),l=o.query?o.query.replace(/locale=[^&]*&?/,""):"?";return"?"==l[l.length-1]||"&"==l[l.length-1]?l+="locale="+n(e):l+="&locale="+n(e),r+o.pathname+l+o.hash+i});a!=r&&t.attr("onclick",a)}),$('a[href^="/checkout"],a[href^="/cart"]').each(function(){var t=$(this),r=t.attr("href"),a=parseURL(r),i=a.query?a.query.replace(/locale=[^&]*&?/,""):"?";"?"==i[i.length-1]||"&"==i[i.length-1]?i+="locale="+n(e):i+="&locale="+n(e);var o=a.pathname+i;r!=o&&t.attr("href",o)})),bablic.setMutationListen(!0)};bablic.on("locale",e),setInterval(e,4e3)}})}(),onReady(function(){if(WIN.rendererModel&&bablic.on){var e=function(){bablic.setMutationListen(!1),updateWixWidgets(),bablic.setMutationListen(!0)};bablic.on("locale",e),bablic.on("done",e),setInterval(e,4e3)}}),onReady(function(){if(WIN.accountsUrl&&WIN.accountsIframeUrl&&!bablic.preview){var e=function(){var e;bablic.setMutationListen(!1),e=bablic.getLocale(),!1!==bablic.checkout&&e&&$("a.subbly-cart,a.subbly-login").each(function(){var t=$(this),n=t.attr("href"),r=parseURL(n),a=r.query?r.query.replace(/locale=[^&]*&?/,""):"?";"?"==(a=a.replace(RegExp(encodeURIComponent("?")+"locale"+encodeURIComponent("=")+"[^&]*&?"),""))[a.length-1]||"&"==a[a.length-1]?a+="locale="+e:a+="&locale="+e;var i=r.protocol+"//"+r.hostname+r.pathname+a+r.hash;n!=i&&t.attr("href",i)}),bablic.setMutationListen(!0)};bablic.on("locale",e),setInterval(e,4e3)}}),onReady(function(){var e=function(){var e;bablic.setMutationListen(!1),e=bablic.getLocale(),$("iframe[src*='recaptcha']").each(function(){var t=this.src;if(t){var n=/hl=(.*?)&/.exec(t);if(n){var r=n[1],a=function(e){if("he"===e&&(e="iw"),"en_us"===e&&(e="en"),e.includes("_")){var t=e.split("_")[0],n=t[0],r=t[1];e="zh"===n||"pt"===n||"fr_ca"===e||"en_gb"===e?n+"-"+r.toUpperCase():n}return e}(e);if(r!==a){var i=t.replace(n[0],"hl="+a+"&");this.src=i}}}}),bablic.setMutationListen(!0)};bablic.on("locale",e),setInterval(e,4e3)}),bablic.Site&&!bablic.loaded&&bablic.start(),triggerEvent("load",[bablicDTO()])}}function escapeRegexNoWildcard(e){return(e+"").replace(/([.?+^$[\]\\/(){}|-])/g,"\\$1")}function createLocaleRegex(e,t){var n=[],r={};if(t)for(var a in t)n.push(escapeRegexNoWildcard(a)),r[t[a]]=1;if(e)for(var i=0;i<e.length;i++)r[e[i]]||n.push(e[i]);return n.length?RegExp("^(\\/("+n.join("|")+"))(?:\\/|$)","i"):SUB_DIR}function getLocaleByURL(e,t,n,r,a,i,o,l,c,s,u,d,f,b){if(!d&&u&&(d=u[u.length-1]),!d&&a&&(d=a),f)return f(e,r,a,i)||d;switch(t){case"querystring":return e.query&&"object"==typeof e.query?e.query.locale:(_=/locale=([^&]+)/.exec(e.query||""))&&2==_.length&&_[1]?_[1]:l||r||i||a;case"subdomain":var p=u?u.join("|"):"\\w\\w?\\w(?:-\\w\\w)?";return"undefined"!=typeof parent&&parent&&parent.Site&&parent.Site.locale?parent.Site.locale:(_=(o?RegExp("(?:^|-)("+p+")-(?:b\\-[mt]\\-)?[0-9a-f]{24,25}-pipeq?","i"):RegExp("^(?:www\\.)?("+p+")\\.","i")).exec(e.hostname))&&_.length>1&&_[1]?_[1]:a;case"subdir":p=createLocaleRegex(u,s);var h=e.pathname;c&&(h=h.replace(c,""));var g=p.exec(h);return g?s&&u&&s[g[2]]?getLocaleFromFolder(s[g[2]],u)||a:g[2]:l||(r||(i||a));case"tld":return(_=/\.(\w\w?\w)$/.exec(e.hostname))&&_.length>1&&_[1]?_[1]:null;case"custom":var m=null;for(var v in n){var y=n[v];if(y&&(A=y,Array.isArray(A)?RegExp(A.map(function(e){return escapeRegexNoWildcard(e).replace(/\*/g,".*")}).join("|"),"i"):RegExp(escapeRegexNoWildcard(A).replace(/\*/g,".*"),"i")).test(e.href)){m=v;break}}if(!m||m===d)if(e.query&&!b)if((_=/locale=([^&]+)/.exec(e.query||""))&&2==_.length&&_[1])return _[1];return m||l||d;case"hash":var _;return(_=/^#!locale=(\w\w?\w(?:_\w\w)?)$/.exec(e.hash||""))&&_.length>1&&_[1]?_[1]:r||i||a;default:return r}var A}function getPackageFromPath(e,t){if(!e)return 0;for(var n in e){var r=e[n];if(r&&r.indexOf&&r.indexOf(t)>-1)return Number(n)}var a=0,i=0;for(var n in e){var o=e[n];if(o.length){for(var l=0,c=o.length-1;c>=0;c--)if(0==t.indexOf(o[c])){l=o[c].length;break}l&&l>a&&(a=l,i=Number(n))}}return i}function parseDomainRule(e,t){return new RegExp((t?"":"^")+(e+"").replace(/([.?+^$[\]\\(){}|-])/g,"\\$1").replace(/\*/g,".*")+(t?"":"$"),"i")}function checkDomainRule(e,t,n){return t.includes("*")?parseDomainRule(t,n).test(e):n?e.lastIndexOf(t)>-1&&e.lastIndexOf(t)===e.length-t.length:e===t}function matchDomainRule(e,t){if(!t||!e)return-1;var n=t.findIndex(function(t){return t===e||t[0]===e});if(n>-1)return n;var r=function(t){return checkDomainRule(e,t)};return t.findIndex(function(e){return e.find&&e.find(r)})}function getOtherDomain(e,t){var n=matchDomainRule(e,t);return n<=0?"":n+""}function getLocaleFromFolder(e,t){var n=t.indexOf(e);if(n>-1)return t[n];e=e.split("_")[0];for(var r=0;r<t.length;r++){if(t[r].split("_")[0]==e)return t[r]}return""}function normalizePath(e,t,n,r,a,i,o,l,c,s,u,d){if(a)return"*";d&&(e=e.replace(d,""));var f=EXTRACT_SUB.exec(e);f&&(e=e.replace(EXTRACT_SUB,""));var b=f?"@"+f[1].toUpperCase()+"@":"",p=(e=e.toLowerCase()).split("#"),h=r&&p[1]?"#"+p[1]:"",g=(p=p[0].split("?"))[0],m=p[1];c&&(g=g.replace(c,""));var v=createLocaleRegex(i,s).exec(g);if(v&&(i.indexOf(v[2])>-1||s&&s[v[2]])&&(g=g.substr(v[1].length)),u||"/"==g[g.length-1]||/\/.*?\.[^/]*$/.test(g)||(g+="/"),u||""!==g||(g="/"),n&&o&&o.length&&m){for(var y=m.split("&"),_=[],A=0;A<y.length;A++){var T=y[A].split("=");"locale"!=T[0]&&_.push([decodeURIComponent(T[0]),T[1]&&decodeURIComponent(T[1])])}o=o.map(function(e){return e.toLowerCase()}),(_=_.filter(function(e){return o&&o.indexOf(e[0])>-1})).sort(function(e,t){return e[0]==t[0]?0:e[0]>t[0]?1:-1}),m=_.length>0?"?"+_.map(function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&"):""}else m="";return b+g+m+h}function convertToPreviewByType(e,t,n){if(t)switch(n){case"duda":return t+e+"?preview=true"}return null}function isPageExcluded(e,t,n,r){var a=getExcludedPath(e,t),i=getExcludedPath(e,n),o=r?getExcludedPath(e,r.excludePages):0,l=r?getExcludedPath(e,r.includePages):0;return(a>o?a:o)>(i>l?i:l)}function getExcludedPath(e,t){if(!t||!t.indexOf)return 0;for(var n=0;n<t.length;n++)if(NOT_FOLDER_REGEX.test(t[n])){if(t[n]==e)return 9999999999}else if(0==e.indexOf(t[n]+"/"))return t[n].length+1;return 0}function isPathFolder(e){return!NOT_FOLDER_REGEX.test(e)}function encodeObject(e,t){if(null==t)return 0;if(null===e)return t;if("object"!=typeof e){var n=BEnumRegex.exec(e);if(n){var r=JSON.parse(n[1]);for(var a in r)if(r[a]==t)return Number(a);return 0}return"Boolean"==e?t?1:0:t}if("__obj__"==e[0]){for(var i=[],o=1;o<e.length;o++){var l=e[o];i.push(encodeObject(l[1],t[l[0]]))}return i}for(var c=[],s=0;s<t.length;s++)c.push(encodeObject(e[0],t[s]));return c}function decodeObject(e,t){if(0===t&&"Number"!=e&&(t=null),null===e)return t;if("object"!=typeof e){var n=BEnumRegex.exec(e);if(n){var r=JSON.parse(n[1]);return r[t]||r[0]}return"Boolean"===e?!!t:t}if(!t)return{};var a;if("__obj__"==e[0]){a={};for(var i=1;i<e.length;i++){var o=e[i];a[o[0]]=decodeObject(o[1],t[i-1])}return a}a=[];for(var l=0;l<t.length;l++)a[l]=decodeObject(e[0],t[l]);return a}function encodeWithVersion(e,t,n){var r=encodeObject(t,e);return r.push(["_v",n]),r}function decodeWithVersion(e,t,n){var r=e[e.length-1];if("_v"!=r[0])return null;if(r[1]!=n)return null;e.pop();var a=decodeObject(t,e);return e.push(r),a}function normalizeImageUrl(e){return(e||"").split("#")[0].replace(/^https?\:/i,"")}function getSelectedSource(e,t,n){var r=t.trim().split(/\s*,\s*/).map(function(e,t){return e.split(/\s+/)}),a=-1;e=normalizeImageUrl(e);for(var i=0;i<r.length;i++)if(normalizeImageUrl(r[i][0])==e){a=i;break}a<0&&(a=0);var o=n.trim().split(/\s*,\s+/).map(function(e,t){return e.split(/\s+/)})[a];return o?o[0]:null}function cleanSrc(e,t,n){if(e&&"none"!=e){WIN.BABLIC_RESTORE?e=BABLIC_RESTORE(e):WIN.BABLIC_R&&(e=e.replace(BABLIC_R,BABLIC_V));var r=e.replace(/^(?:https?:)?\/\//i,"");if(LDATA.conf&&LDATA.conf.iq||(r=r.split("?")[0]),BLANK_REGEX.test(r))return null;var a=r;if(r.indexOf(LOC.hostname)>-1)r=r.replace(LOC.hostname,"");else if(WIN.BABLIC_RESTORE){var i=BABLIC_RESTORE(LOC.hostname);r.indexOf(i)>-1&&(r=r.replace(i,""))}var o=!1,l=[];if(r!=a&&l.push(bablicHash(a)),CLOUDINARY_REGEX.test(e)){var c=r.split("/");c[4].indexOf("_")>-1&&c.length>5&&(c.splice(4,1),l.push(bablicHash(r)),r=c.join("/"))}else{var s=RESPONSIVE_IMG_REGEX.exec(e);s&&s[1]&&(r=e.replace(s[0],""),l.push(bablicHash(r)),o=!0)}return n&&("srcset"==n.nodeName.toLowerCase()||o)&&(r+="#srcset",e+="#srcset"),e=parseURL(e).href,{id:bablicHash(r),content:e,m:t,bc:l}}return null}function isInDomain(e){if(!e)return!1;if(e.indexOf("bablic.com")>-1)return!0;var t;if(LDATA.domains&&LDATA.domains.length)t=LDATA.domains;else{var n=LOC.hostname.split(".");t=[[n.slice(n.length-2).join(".")]]}return matchDomainRule(e,t)>-1}function processKeywords(e,t){e&&t&&(keywordsByLocale={},reverseKeywordByLocale={},t.forEach(function(t){var n={},r={};for(var a in e)e[a][t]&&(n[a]=e[a][t],r[e[a][t]]=a);keywordsByLocale[t]=n,reverseKeywordByLocale[t]=r}))}function getPathname(e){var t=e.pathname;return"/"!=t[0]?"/"+t:t}function parseURL(e){var t=myDiv=myDiv||DOC.createElement("div");t.innerHTML="<a></a>",t.firstChild.href=e,t.innerHTML=t.innerHTML;var n=t.firstChild;return{protocol:n.protocol||LOC.protocol,href:n.href,pathname:"/"==n.pathname[0]?n.pathname:"/"+n.pathname,hostname:n.hostname||LOC.hostname,query:n.search||"",search:n.search||"",hash:n.hash||""}}function escapeRegex(e){return(e+"").replace(/([.*?+^$[\]\\/(){}|-])/g,"\\$1")}function getFolder(e,t){for(var n in t)if(t[n]==e)return n;for(var n in e=e.split("_")[0],t){if(t[n].split("_")[0]==e)return n}return e}function updateWixWidgets(){if(targetLocale){var e=targetLocale!==originalLocale,t=targetLocale.key.split("_")[0];$('iframe[src*="ecom.wix.com"]').each(function(){var n=$(this).attr("src").split("#"),r=n[0],a=n[2],i=(n=r.split("?"))[0],o=n[1];if(o){var l={};o.split("&").map(function(e){return e.split("=")}).forEach(function(e){l[e[0]]=l[e[1]]}),l.lang&&l.lang.split("-")[0]!==t&&(l.lang=t,l.locale=t,l.isPrimaryLanguage=e?"true":"false",r=i+"?"+(o=Object.keys(l).map(function(e){return e+"="+l[e]}).join("&")),$(this).attr("src",a?r+"#"+a:r))}})}}};loadAll(bablic,window);var _open=window.open,docs=[];window.open=function(){var e,t=_open.apply(this,arguments),n=20,r=Date.now(),a=function(){Date.now()-r>1e4||(n*=1.2,setTimeout(i,Math.floor(n)))},i=function(){try{if(!t.document)return a();if(docs.indexOf(t.document)>-1)return e=t.document,a();if(!t.document.body||!t.location||!t.location.hostname)return a();if(clearInterval(n),t.bablic={Site:bablic.Site,localeURL:bablic.localeURL,folders:bablic.folders,data:bablic.data,conf:bablic.conf},loadAll(t.bablic,t),e){var r=docs.indexOf(e);r>-1&&docs.splice(r,1)}docs.push(t.document),a()}catch(e){}};return a(),t}}();